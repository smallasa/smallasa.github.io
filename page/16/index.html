<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>smallasa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="smallasa">
<meta property="og:url" content="http://www.smallasa.com/page/16/index.html">
<meta property="og:site_name" content="smallasa">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="smallasa">
  
    <link rel="alternate" href="/atom.xml" title="smallasa" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">smallasa</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">I known what i do !</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.smallasa.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-nsq-command" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/23/nsq-command/" class="article-date">
  <time datetime="2017-03-23T04:29:12.000Z" itemprop="datePublished">2017-03-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/hadoop/">hadoop</a>►<a class="article-category-link" href="/categories/hadoop/nsq/">nsq</a>►<a class="article-category-link" href="/categories/hadoop/nsq/nsq-command/">nsq command</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/23/nsq-command/">nsq command</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/23/nsq-command/" data-id="cjazexzii007cqcoq5zg25zeh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-nsq-install" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/23/nsq-install/" class="article-date">
  <time datetime="2017-03-23T03:44:27.000Z" itemprop="datePublished">2017-03-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/hadoop/">hadoop</a>►<a class="article-category-link" href="/categories/hadoop/nsq/">nsq</a>►<a class="article-category-link" href="/categories/hadoop/nsq/nsq-install/">nsq install</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/23/nsq-install/">nsq install</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="NSQ-docker-install"><a href="#NSQ-docker-install" class="headerlink" title="NSQ docker install"></a>NSQ docker install</h3><ol>
<li><p>下载nsq镜像</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s1 ~]<span class="comment"># docker pull nsqio/nsq</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>run nsqlookupd</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s1 ~]<span class="comment"># docker run --name nsqlookupd -p 4160:4160 -p 4161:4161 nsqio/nsq:latest /nsqlookupd</span></span><br><span class="line"></span><br><span class="line">or:</span><br><span class="line">[root@k8s1 ~]<span class="comment"># docker run --name nsqlookupd -p 5160:4160 -p 5161:4161 nsqio/nsq:latest /nsqlookupd</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>run nsqd</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s1 ~]<span class="comment"># docker run --name nsqd -p 4150:4150 -p 4151:4151 nsqio/nsq:latest /nsqd --broadcast-address=192.168.1.2 --lookupd-tcp-address=192.168.1.2:4160</span></span><br><span class="line"></span><br><span class="line">or：</span><br><span class="line">[root@k8s1 ~]<span class="comment"># docker run -p 4150:4150 -p 4151:4151 -p 4152:4152 -v /home/docker/certs:/etc/ssl/certs \</span></span><br><span class="line">    nsqio/nsq:latest /nsqd \</span><br><span class="line">    --tls-root-ca-file=/etc/ssl/certs/certs.crt \</span><br><span class="line">    --tls-cert=/etc/ssl/certs/cert.pem \</span><br><span class="line">    --tls-key=/etc/ssl/certs/key.pem \</span><br><span class="line">    --tls-required=<span class="literal">true</span> \</span><br><span class="line">    --tls-client-auth-policy=require-verify</span><br><span class="line"></span><br><span class="line">or:</span><br><span class="line">[root@k8s1 ~]<span class="comment"># docker run nsqio/nsq:latest /nsqd --data-path=/data</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>run nsqadmin</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s1 ~]<span class="comment"># docker run --name nsqadmin -p 4171:4171 nsqio/nsq:latest /nsqadmin --lookupd-http-address=192.168.1.2:4161</span></span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/23/nsq-install/" data-id="cjazexzii007fqcoqkwegs568" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-nsq-info" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/23/nsq-info/" class="article-date">
  <time datetime="2017-03-23T03:44:19.000Z" itemprop="datePublished">2017-03-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/hadoop/">hadoop</a>►<a class="article-category-link" href="/categories/hadoop/nsq/">nsq</a>►<a class="article-category-link" href="/categories/hadoop/nsq/nsq-info/">nsq info</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/23/nsq-info/">nsq info</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="NSQ-简介"><a href="#NSQ-简介" class="headerlink" title="NSQ 简介"></a><a href="http://nsq.io/" target="_blank" rel="noopener">NSQ 简介</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">NSQ是一个基于Go语言的分布式实时消息平台,它基于MIT开源协议发布,代码托管在GitHub.</span><br><span class="line">NSQ可用于大规模系统中的实时消息服务,并且每天能够处理数亿级别的消息,其设计目标是为在分布式环境下运行的去中心化服务提供一个强大的基础架构.</span><br><span class="line">NSQ具有分布式,去中心化的拓扑结构,该结构具有无单点故障,故障容错,高可用性以及能够保证消息的可靠传递的特征</span><br><span class="line">NSQ非常容易配置和部署,且具有最大的灵活性,支持众多消息协议.</span><br></pre></td></tr></table></figure>
<h3 id="NSQ-组成"><a href="#NSQ-组成" class="headerlink" title="NSQ 组成"></a>NSQ 组成</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">NSQ是由四个重要组件构成</span><br><span class="line">* nsqd</span><br><span class="line">  一个负责接收,排队,转发消息到客户端的守护进程</span><br><span class="line">* nsqlookupd</span><br><span class="line">  管理拓扑信息并提供最终一致性的发现服务的守护进程</span><br><span class="line">* nsqadmin</span><br><span class="line">  一套Web用户界面,可实时查看集群的统计数据和执行各种各样的管理任务</span><br><span class="line">* utilities</span><br><span class="line">  常见基础功能,数据流处理工具,如: nsq_stat,nsq_tail,nsq_to_file,nsq_to_http,nsq_to_nsq,to_nsq</span><br></pre></td></tr></table></figure>
<h3 id="NSQ特点"><a href="#NSQ特点" class="headerlink" title="NSQ特点"></a>NSQ特点</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">* 具有分布式且无单点故障的拓扑结构,支持水平扩展,在无中断情况下能够无缝地添加集群节点</span><br><span class="line">* 低延迟的消息推送</span><br><span class="line">* 具有组合式的负载均衡和多播形式的消息路由</span><br><span class="line">* 既擅长处理面向流(高吞吐量)的工作负载,也擅长处理面向Job的(低吞吐量)工作负载</span><br><span class="line">* 消息数据既可以存储于内存中,也可以存储在磁盘中</span><br><span class="line">* 实现了生产者,消费者自动发现和消费者自动连接生产者</span><br><span class="line">* 支持安全传输层协议(TLS),从而确保了消息传递的安全性</span><br><span class="line">* 具有与数据格式无关的消息结构,支持JSON,Protocol Buffers,MsgPacek等消息格式</span><br><span class="line">* 非常易于部署(几乎没有依赖)和配置(所有参数都可以通过命令行进行配置)</span><br><span class="line">* 使用了简单的TCP协议且具有多种语言的客户端功能库</span><br><span class="line">* 具有用于信息统计,管理员操作和实现生产者等的HTTP接口</span><br><span class="line">* 为实时检测集成了统计数据收集器StatsD</span><br><span class="line">* 具有强大的集群管理界面</span><br><span class="line"></span><br><span class="line">为了达到高效的分布式消息服务,NSQ实现了合理,智能的权衡,从而使得其能够完全适用于生产环境中,具体内容如下:</span><br><span class="line">* 支持消息内存队列的大小设置,默认完全持久化(值为0),消息即可持久到磁盘也可以保存在内存中</span><br><span class="line">* 保证消息至少传递一次,以确保消息可以最终成功发送</span><br><span class="line">* 收到的消息是无序的,实现了松散订购</span><br><span class="line">* 发现服务nsqlookupd具有最终一致性,消息最终能够找到所有Topic生产者</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/23/nsq-info/" data-id="cjazexzii007eqcoqnhsioj3h" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-glusterfs-install" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/22/glusterfs-install/" class="article-date">
  <time datetime="2017-03-22T02:14:48.000Z" itemprop="datePublished">2017-03-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Distributed-storage/">Distributed storage</a>►<a class="article-category-link" href="/categories/Distributed-storage/GlusterFS/">GlusterFS</a>►<a class="article-category-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-install/">GlusterFS install</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/22/glusterfs-install/">glusterfs install</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="GlusterFS-install"><a href="#GlusterFS-install" class="headerlink" title="GlusterFS install"></a>GlusterFS install</h3><ol>
<li><p>格式化磁盘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 通过LVM 创建磁盘</span><br><span class="line">* 通过mkfs.xfs 格式化磁盘</span><br><span class="line">  mkfs.xfs -i size=512 /dev/sdb</span><br><span class="line">  mkdir -p /data/brick</span><br><span class="line">  echo &apos;/dev/sdb /data/brick xfs defaults 1 2&apos; |tee -a  /etc/fstab</span><br><span class="line">  mount -a</span><br></pre></td></tr></table></figure>
</li>
<li><p>GlusterFS基础依赖包安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@10 app]<span class="comment"># yum -y install xfsprogs fuse fuse-libs</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>GlusterFS yum源</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@10 app]<span class="comment"># wget -O /etc/yum.repo.d/glusterfs.repo http://download.gluster.org/pub/gluster/glusterfs/LATEST/CentOS/gluster-epel.repo</span></span><br><span class="line">[root@10 app]<span class="comment"># yum makecache</span></span><br><span class="line">or:</span><br><span class="line">[root@10 app]<span class="comment"># wget -O /etc/yum.repo.d/glusterfs.repo http://download.gluster.org/pub/gluster/glusterfs/LATEST/CentOS/gluster-epel.repo</span></span><br><span class="line">[root@10 app]<span class="comment"># sed -in 's/LATEST/3.7.14/g' /etc/yum.repos.d/glusterfs-epel.repo</span></span><br><span class="line">[root@10 app]<span class="comment"># sed -in 's/EPEL.repo/CentOS/g' /etc/yum.repos.d/glusterfs-epel.repo</span></span><br><span class="line">[root@10 app]<span class="comment"># yum makecache</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>GlusterFS 安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@10 app]<span class="comment"># yum -y install glusterfs glusterfs-server glusterfs-fuse glusterfs-geo-replication</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>GlusterFS 启动</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@10 app]<span class="comment"># systemctl start glusterd</span></span><br><span class="line">[root@10 app]<span class="comment"># systemctl enable glusterd</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>GlusterFS 设置可信任存储池</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//在server1上执行:</span><br><span class="line">[root@10 app]<span class="comment"># gluster peer probe 192.168.1.12</span></span><br><span class="line"></span><br><span class="line">//在server2上执行:</span><br><span class="line">[root@10 app]<span class="comment"># gluster peer probe 192.168.1.11</span></span><br><span class="line"></span><br><span class="line">//查看存储池状态:</span><br><span class="line">[root@10 app]<span class="comment"># gluster peer status</span></span><br><span class="line"></span><br><span class="line">//从存储池中移除节点</span><br><span class="line">[root@10 app]<span class="comment"># gluster peer detach 192.168.1.12</span></span><br><span class="line"></span><br><span class="line">注意:</span><br><span class="line">* 一旦设置了可信的存储池,就会仅允许存储池中的被信任的节点主动发现其它的新节点,并将其加入到池中.而一个独立的新节点,是不被允许自行加入可信存储池中的.</span><br><span class="line">* GlusterFS对于每个节点都会生成一个UUID来标识,因此如果节点的IP或主机名发生了变化,只需要重新执行peer probe即可.不过如果一个主机名曾经用过,想再改回去,则gluster会提示已经保存过.此时只能把节点detach掉,然后重新probe.</span><br></pre></td></tr></table></figure>
</li>
<li><p>GlusterFS 创建 一个GlusterFS卷</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">GlusterFS卷共有三基本类型:</span><br><span class="line">* Distributed(分布存储)</span><br><span class="line">* Striped(将一个文件分成多个固定长度的数据,分布存放在所有存储块,相当于RAID0)</span><br><span class="line">* Replicated(镜像存储,相当于RAID1)</span><br><span class="line"></span><br><span class="line">基于striped和replicated,结合使用distributed后,又可以扩展出分布式分片存储卷和分布式镜像存储卷两种新的类型.而后两种扩展类型并没有新的命令格式,仅是通过设置数据冗余份数和添加进逻辑卷的bricks数量来动态定义的.</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//创建一个GlusterFS Replicated卷</span><br><span class="line">[root@10 app]<span class="comment"># gluster volume create gv0 replica 2 192.168.1.11:/data/brick/gv0 192.168.1.12:/data/brick/gv0 force</span></span><br><span class="line">[root@10 app]<span class="comment"># gluster volume start gv0</span></span><br><span class="line"></span><br><span class="line">[root@10 app]<span class="comment"># gluster volume info</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//创建一个GlusterFS Striped逻辑卷(创建一个名字为gv1,包含两个存储块,使用TCP协议的Striped逻辑卷)</span><br><span class="line">[root@10 app]<span class="comment"># gluster volume create gv1 stripe 2 transport tcp 192.168.1.11:/data 192.168.1.12:/data</span></span><br><span class="line">[root@10 app]<span class="comment"># gluster volume start gv1</span></span><br><span class="line"></span><br><span class="line">[root@10 app]<span class="comment"># gluster volume info</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//创建一个GlusterFS Distributed逻辑卷</span><br><span class="line">[root@10 app]<span class="comment"># gluster volume create gv2 192.168.1.11:/data 192.168.1.12:/data</span></span><br><span class="line">[root@10 app]<span class="comment"># gluster volume start gv2</span></span><br><span class="line"></span><br><span class="line">[root@10 app]<span class="comment"># gluster volume info</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//停止和删除逻辑卷</span><br><span class="line">[root@10 app]<span class="comment"># gluster volume stop gv0</span></span><br><span class="line">[root@10 app]<span class="comment"># gluster volume delete gv0</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//与存储块brick相关的逻辑卷管理(在gv0卷中增加一个存储块192.168.1.13:/data)</span><br><span class="line">[root@10 app]<span class="comment"># gluster volume add-brick gv0 192.168.1.13:/data</span></span><br><span class="line">[root@10 app]<span class="comment"># gluster volume rebalance gv0 start</span></span><br><span class="line"></span><br><span class="line">//删除Brick</span><br><span class="line">[root@10 app]<span class="comment"># gluster volume remove-brick gv0 192.168.1.13:/data</span></span><br><span class="line">[root@10 app]<span class="comment"># gluster volume rebalance gv0 start</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>GlusterFS 设置卷参数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//设置服务器仲裁</span><br><span class="line">[root@10 app]<span class="comment"># gluster volume set volume1 cluster.server-quorum-type server</span></span><br><span class="line">[root@10 app]<span class="comment"># gluster volume set all cluster.server-quorum-ratio 50%</span></span><br><span class="line"></span><br><span class="line">//配置允许的链接的client</span><br><span class="line">[root@10 app]<span class="comment"># gluster volume set volume1 auth.allow 192.168.1.12,192.168.1.13</span></span><br><span class="line"></span><br><span class="line">//操作超时</span><br><span class="line">[root@10 app]<span class="comment"># gluster volume set volume1 network.frame-timeout 1800</span></span><br><span class="line"></span><br><span class="line">//网络超时超时</span><br><span class="line">[root@10 app]<span class="comment"># gluster volume set volume1 network.ping-timeout 10</span></span><br><span class="line"></span><br><span class="line">//IO线程</span><br><span class="line">[root@10 app]<span class="comment"># gluster volume set volume1 performance.io-thread-count 32</span></span><br><span class="line"></span><br><span class="line">//IO缓存，注意此配置需要客户端提供不低于此内存的配置</span><br><span class="line">[root@10 app]<span class="comment"># gluster volume set data performance.cache-size 200MB</span></span><br><span class="line"></span><br><span class="line">//禁用nfs</span><br><span class="line">[root@10 app]<span class="comment"># gluster volume set data nfs.disable on</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>GlusterFS 客户端连接</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@10 app]<span class="comment"># yum install -y glusterfs-fuse</span></span><br><span class="line">[root@10 app]<span class="comment"># mkdir /volume1</span></span><br><span class="line">[root@10 app]<span class="comment"># mount –t glusterfs 192.168.1.11:/volume1 /volume1</span></span><br><span class="line">or:</span><br><span class="line">[root@10 app]<span class="comment"># echo "192.168.13.1:/data /mnt/glusterfs glusterfs defaults 0 0" |tee -a /etc/fstab</span></span><br><span class="line">[root@10 app]<span class="comment"># mount -a</span></span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/22/glusterfs-install/" data-id="cjazexzdq003eqcoqlgj7xdey" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-glusterfs-info" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/22/glusterfs-info/" class="article-date">
  <time datetime="2017-03-22T01:30:44.000Z" itemprop="datePublished">2017-03-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Distributed-storage/">Distributed storage</a>►<a class="article-category-link" href="/categories/Distributed-storage/GlusterFS/">GlusterFS</a>►<a class="article-category-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-info/">GlusterFS info</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/22/glusterfs-info/">glusterfs info</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="GlusterFS-简介"><a href="#GlusterFS-简介" class="headerlink" title="GlusterFS 简介"></a>GlusterFS 简介</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GlusterFS是Scale-Out存储解决方案Gluster的核心,它是一个开源的分布式文件系统,具有强大的横向扩展能力,通过扩展能够支持数PB存储容量和处理数千客户端.GlusterFS借助TCP/IP或InfiniBandRDMA网络将物理分布的存储资源聚集在一起,使用单一全局命名空间来管理数据.</span><br><span class="line"></span><br><span class="line">说起glusterfs可能比较陌生,可能大家更多的听说和使用的是NFS,GFS,HDFS之类的,这之中的NFS应该是使用最为广泛的,简单易于管理,但是NFS以及后边会说到MooseFS都会存在单点故障,为了解决这个问题一般情况下都会结合DRBD进行块儿复制.但是glusterfs就完全不用考虑这个问题了,因为它是一个完全的无中心的系统.</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* GlusterFS是一个分布式的可横向扩展的文件系统,支持快速扩充更多的存储空间.自动地失效转移是它的一项基础功能.GlusterFS没有一个集中式的元数据管理服务.</span><br><span class="line">* 你可以尽可能多得向GlusterFS中添加存储,即使在使用中发现存储不足了,也可以通过简单的几个步骤完成添加新存储空间的工作.</span><br><span class="line">* 你可以设置为自动处理失效转移,这样即可在一个主机节点当机后,你仍然可以访问你的数据,不需要手工干预.当你修复了故障主机并重新上线后,你也不需要做任何手工干预.</span><br><span class="line">* 可以使用传统的NFS,SMB/CIFS协议访问GlusterFS的数据,也可以直接使用一个本地化的GlusterFS文件系统</span><br><span class="line">* GlusterFS不适合于存储结构化数据,建议不要直接作为数据库的数据存储空间使用,存储数据库的备份数据并没有问题.一般地,我们建议使用GlusterFS存储的数据应该是大小大于16KB的文件.当然如果能大于128KB,效果会更好</span><br><span class="line">* 建议存储主机使用XFS的文件系统,当然EXT4也还不错</span><br><span class="line">* 在生产环境中使用GlusterFS,建议部署DNS和NTP服务</span><br><span class="line">* 在安装主机的操作系统时,不需要对用于GlusterFS的分区进行格式化,因为在创建GlusterFS集群时会对加入到逻辑卷的brick进行特殊的格式化处理</span><br><span class="line">* 建议关闭系统防火墙</span><br></pre></td></tr></table></figure>
<h3 id="GlusterFS-特点"><a href="#GlusterFS-特点" class="headerlink" title="GlusterFS 特点"></a>GlusterFS 特点</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 扩展性和高性能</span><br><span class="line">  GlusterFS利用双重特性来提供几TB至数PB的高扩展存储解决方案.Scale-Out架构允许通过简单地增加资源来提高存储容量和性能,磁盘,计算和I/O资源都可以独立增加,支持10GbE和InfiniBand等高速网络互联.Gluster弹性哈希(ElasticHash)解除了GlusterFS对元数据服务器的需求,消除了单点故障和性能瓶颈,真正实现了并行化数据访问</span><br><span class="line">* 高可用性</span><br><span class="line">  GlusterFS可以对文件进行自动复制,如镜像或多次复制,从而确保数据总是可以访问,甚至是在硬件故障的情况下也能正常访问.自我修复功能能够把数据恢复到正确的状态,而且修复是以增量的方式在后台执行,几乎不会产生性能负载.GlusterFS没有设计自己的私有数据文件格式,而是采用操作系统中主流标准的磁盘文件系统(如EXT3,ZFS)来存储文件,因此数据可以使用各种标准工具进行复制和访问</span><br><span class="line">* 弹性卷管理</span><br><span class="line">  数据储存在逻辑卷中,逻辑卷可以从虚拟化的物理存储池进行独立逻辑划分而得到.存储服务器可以在线进行增加和移除,不会导致应用中断.逻辑卷可以在所有配置服务器中增长和缩减,可以在不同服务器迁移进行容量均衡,或者增加和移除系统,这些操作都可在线进行.文件系统配置更改也可以实时在线进行并应用,从而可以适应工作负载条件变化或在线性能调优</span><br></pre></td></tr></table></figure>
<h3 id="GlusterFS-术语"><a href="#GlusterFS-术语" class="headerlink" title="GlusterFS 术语"></a>GlusterFS 术语</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">* GNFS和KNFS</span><br><span class="line">  前者是GlusterFS自带的NFS Server,而后者指的是操作系统内核提供的kernel NFS服务.两者可选其一,也可以配置成同时提供服务</span><br><span class="line">* Brick</span><br><span class="line">  存储块,指可信主机池中由主机提供的用于存储的专用分区,是GlusterFS中的基本存储单元</span><br><span class="line">* Volume</span><br><span class="line">  逻辑卷,一个逻辑卷是一组bricks的集合</span><br><span class="line">* Subvolume</span><br><span class="line">  一个在经由至少一个的转换器处理之后的brick,被称为sub-volume</span><br><span class="line">* Volfile</span><br><span class="line">  指GlusterFS的各种配置文件,定义了服务端和客户端使用到的各种转换器以及卷和块的配置信息</span><br><span class="line">  GlusterFS共包含三部分,服务端,客户端和管理进程,每部分都有自己的配置文件.其中服务端和客户端的vol files放置在/var/lib/glusterd/vols/VOLNAME目录下,后台管理进程的配置文件在/etc/glusterfs/目录下</span><br><span class="line">* Glusterd</span><br><span class="line">  后台管理进程,需要在存储集群中的每个节点上都要运行</span><br><span class="line">* Extended Attributes</span><br><span class="line">  扩展属性是文件系统的一个特性,允许用户或应用为文件和目录关联更多的元数据信息</span><br><span class="line">* FUSE</span><br><span class="line">  用户空间内的文件系统</span><br><span class="line">* GFID</span><br><span class="line">  每个GlusterFS中的文件或目录都有一个128bit的数字标识,称为GFID</span><br><span class="line">* Quorum</span><br><span class="line">  该参数设置了在一个可信的存储池中最多可失效的主机节点数量,超出该值则认为该可信存储池已不可用了</span><br><span class="line">* Rebalance</span><br><span class="line">  当一个brick被加入或移除后,会有一个修复进程对数据分布进行重新计算与优化</span><br><span class="line">* RRDNS</span><br><span class="line">  是随机式域名解析的缩写,用于对一个域名设置多个IP解析时,实现数据读负载的分布式处理</span><br><span class="line">* Split-brain</span><br><span class="line">  脑裂,即处于一个镜像复制关系中的bricks之间,发生了数据或元数据的不一致问题,而无法认定哪边的数据正确</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/22/glusterfs-info/" data-id="cjazexzdq003dqcoq2q6mnuc2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-elasticsearch-four-search-type" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/21/elasticsearch-four-search-type/" class="article-date">
  <time datetime="2017-03-21T02:49:32.000Z" itemprop="datePublished">2017-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/hadoop/">hadoop</a>►<a class="article-category-link" href="/categories/hadoop/elasticsearch/">elasticsearch</a>►<a class="article-category-link" href="/categories/hadoop/elasticsearch/elasticsearch-four-search-type/">elasticsearch four search type</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/21/elasticsearch-four-search-type/">elasticsearch four search type</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="elasticsearch-四种搜素类型"><a href="#elasticsearch-四种搜素类型" class="headerlink" title="elasticsearch 四种搜素类型"></a>elasticsearch 四种搜素类型</h3><ol>
<li><p>ES 四种搜索类型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ES 在查询时,可以指定搜索类型有四种：</span><br><span class="line">* QUERY_THEN_FETCH</span><br><span class="line">* QUERY_AND_FEATCH</span><br><span class="line">* DFS_QUERY_THEN_FEATCH</span><br><span class="line">* DFS_QUERY_AND_FEATCH</span><br></pre></td></tr></table></figure>
</li>
<li><p>理解分布式搜索</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">分布式搜索背景介绍:</span><br><span class="line">ES 天生就是为分布式而生,但分布式有分布式的缺点,比如: 要搜索某个单词,但是数据却分别在5个分片(Shard)上,这5个分片可能在5台主机上面.因为全文搜索天生就要排序(照匹配度进行排名),但数据却在5个分片上,如何得到最后正确的排序呢?ES是这样做的,大概分三步:</span><br><span class="line">1.ES 客户端将会同时向5个分片发起搜索请求</span><br><span class="line">2.这5个分片基于本分片的内容独立完成搜索,然后将符合条件的结果全部返回</span><br><span class="line">3.客户端将返回的结果进行重新排序和排名,最后返回给用户.也就是说,ES的一次搜索,是一次scatter/gather过程(这个跟mapreduce也很类似)</span><br><span class="line"></span><br><span class="line">然而这其中有两个问题：</span><br><span class="line">1.数量问题</span><br><span class="line">  比如,用户需要搜索&quot;衣服&quot;,要求返回符合条件的前10条.但在5个分片中,可能都存储着衣服相关的数据.所以ES会向这5个分片都发出查询请求,并且要求每个分片都返回符合条件的10条记录.当ES得到返回的结果后,进行整体排序,然后取最符合条件的前10条返给用户.这种情况,ES中5个shard最多会收到10*5=50条记录,这样返回给用户的结果数量会多于用户请求的数量.</span><br><span class="line">2.排名问题</span><br><span class="line">  上面说的搜索,每个分片计算符合条件的前10条数据都是基于自己分片的数据进行打分计算的.计算分值使用的词频和文档频率等信息都是基于自己分片的数据进行的,而ES进行整体排名是基于每个分片计算后的分值进行排序的(相当于打分依据就不一样,最终对这些数据统一排名的时候就不准确了),这就可能会导致排名不准确的问题.如果我们想更精确的控制排序,应该先将计算排序和排名相关的信息(词频和文档频率等打分依据)从5个分片收集上来,进行统一计算,然后使用整体的词频和文档频率为每个分片中的数据进行打分,这样打分依据就一样了.</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">再举个例子解释一下[排名问题]：</span><br><span class="line">假设某学校有一班和二班两个班级.期末考试之后,学校要给全校前十名学员发奖金.但是一班和二班考试的时候使用的不是一套试卷.一班使用的是A卷[ A 卷偏容易];二班使用的是B卷[ B 卷偏难].结果就是一班的最高分是100分,最低分是80分.二班的最高分是70分,最低分是30分.这样全校前十名就都是一班的学员了.这显然是不合理的.因为一班和二班的试卷难易程度不一样,也就是打分依据不一样,所以不能放在一块排名.</span><br><span class="line">如果想要保证排名准确的话,需要保证一班和二班使用的试卷内容一样.可以这样做,把A卷和B卷的内容组合到一块,作为C卷.一班和二班考试都使用C卷，这样他们的打分依据就一样了,最终再根据所有学员的成绩排名求前十名就准确合理了。</span><br></pre></td></tr></table></figure>
</li>
<li><p>四种搜索类型介绍</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">* query and fetch</span><br><span class="line">　向索引的所有分片(shard)都发出查询请求,各分片返回的时候把元素文档(document)和计算后的排名信息一起返回.</span><br><span class="line">  这种搜索方式是最快的.因为相比下面的几种搜索方式,这种查询方法只需要去shard查询一次.但是各个shard返回的结果的数量之和可能是用户要求的size的n倍.</span><br><span class="line">　优点：只需要查询一次</span><br><span class="line">　缺点：返回的数据量不准确,可能返回(N*分片数量)的数据并且数据排名也不准确</span><br><span class="line"></span><br><span class="line">* query then fetch(ES默认的搜索方式)</span><br><span class="line">　如果你搜索时,没有指定搜索方式,就是使用的这种搜索方式.这种搜索方式.大概分两个步骤:</span><br><span class="line">　第一步,先向所有的shard发出请求,各分片只返回文档id(注意,不包括文档document)和排名相关的信息(也就是文档对应的分值),然后按照各分片返回的文档的分数进行重新排序和排名,取前size个文档</span><br><span class="line">　第二步,根据文档id去相关的shard取document.这种方式返回的document数量与用户要求的大小是相等的</span><br><span class="line">　优点：返回的数据量是准确的</span><br><span class="line">　缺点：性能一般,并且数据排名不准确</span><br><span class="line"></span><br><span class="line">* DFS query and fetch</span><br><span class="line">　这种方式比第一种方式多了一个DFS步骤,有这一步,可以更精确控制搜索打分和排名.也就是在进行查询之前,先对所有分片发送请求,把所有分片中的词频和文档频率等打分依据全部汇总到一块,再执行后面的操作.</span><br><span class="line">　优点：数据排名准确</span><br><span class="line">　缺点：性能一般,返回的数据量不准确,可能返回(N*分片数量)的数据</span><br><span class="line"></span><br><span class="line">* DFS query then fetch</span><br><span class="line">　比第2种方式多了一个DFS步骤,也就是在进行查询之前,先对所有分片发送请求,把所有分片中的词频和文档频率等打分依据全部汇总到一块,再执行后面的操作.</span><br><span class="line">  优点：返回的数据量是准确的,数据排名准确</span><br><span class="line">　缺点：性能最差(这个最差只是表示在这四种查询方式中性能最慢,也不至于不能忍受,如果对查询性能要求不是非常高,而对查询准确度要求比较高的时候可以考虑这个)</span><br><span class="line"></span><br><span class="line">其他: DFS 是一个什么样的过程？</span><br><span class="line">DFS其实就是在进行真正的查询之前,先把各个分片的词频率和文档频率收集一下,然后进行词搜索的时候,各分片依据全局的词频率和文档频率进行搜索和排名.显然如果使用DFS_QUERY_THEN_FETCH这种查询方式,效率是最低的,因为一个搜索,可能要请求3次分片.但使用DFS方法,搜索精度是最高的.</span><br><span class="line"></span><br><span class="line">总结一下:</span><br><span class="line">1.从性能考虑QUERY_AND_FETCH是最快的,DFS_QUERY_THEN_FETCH是最慢的</span><br><span class="line">2.从搜索的准确度来说,DFS要比非DFS的准确度更高</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/21/elasticsearch-four-search-type/" data-id="cjazexzc00024qcoqga9z87k2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-xml-format" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/21/xml-format/" class="article-date">
  <time datetime="2017-03-20T17:00:07.000Z" itemprop="datePublished">2017-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/web/">web</a>►<a class="article-category-link" href="/categories/web/xml/">xml</a>►<a class="article-category-link" href="/categories/web/xml/xml-format/">xml format</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/21/xml-format/">xml format</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="xml-格式化"><a href="#xml-格式化" class="headerlink" title="xml 格式化"></a>xml 格式化</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum -y install libxml2</span><br><span class="line"></span><br><span class="line">xmllint --format file.xml</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/21/xml-format/" data-id="cjazexzn900bhqcoqt1d7f3p2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-windows-modify-hosts" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/21/windows-modify-hosts/" class="article-date">
  <time datetime="2017-03-20T16:55:40.000Z" itemprop="datePublished">2017-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/system-service/">system service</a>►<a class="article-category-link" href="/categories/system-service/windows/">windows</a>►<a class="article-category-link" href="/categories/system-service/windows/windows-modify-hosts/">windows modify hosts</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/21/windows-modify-hosts/">windows modify hosts</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="HOSTS文件无法修改以及禁止修改的解决办法"><a href="#HOSTS文件无法修改以及禁止修改的解决办法" class="headerlink" title="HOSTS文件无法修改以及禁止修改的解决办法"></a>HOSTS文件无法修改以及禁止修改的解决办法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">在修改HOSTS文件时,总是提示路径不对,无法保存</span><br><span class="line"></span><br><span class="line">Hosts是一个没有扩展名的系统文件,路径&quot;C:\WINDOWS\system32\drivers\etc&quot;目录下,可以用记事本等工具打开,其作用就是将一些常用的网址域名与其对应的IP地址建立一个关联&quot;数据库&quot;.当用户在浏览器中输入一个需要登录的网址时,系统会首先自动从Hosts文件中寻找对应的IP地址,一旦找到,系统会立即打开对应网页,如果没有找到,则系统再会将网址提交DNS域名解析服务器进行IP地址的解析.</span><br><span class="line"></span><br><span class="line">下面是禁止和允许修改HOSTS文件的2条命令：</span><br><span class="line">1.禁止修改HOSTS文件:</span><br><span class="line">attrib +r +a +s +h %windir%\system32\drivers\etc\hosts</span><br><span class="line">echo y|cacls %windir%\system32\drivers\etc\hosts /g everyone:r</span><br><span class="line"></span><br><span class="line">2.允许修改HOSTS文件:</span><br><span class="line">echo y|cacls %windir%\system32\drivers\etc\hosts /g everyone:f</span><br><span class="line">attrib -r -a -s -h %windir%\system32\drivers\etc\hosts</span><br><span class="line"></span><br><span class="line">将命令在CMD中输入运行即可!</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/21/windows-modify-hosts/" data-id="cjazexzn900beqcoqephiwbd6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-windows-ipsec-set" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/21/windows-ipsec-set/" class="article-date">
  <time datetime="2017-03-20T16:47:08.000Z" itemprop="datePublished">2017-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/system-service/">system service</a>►<a class="article-category-link" href="/categories/system-service/windows/">windows</a>►<a class="article-category-link" href="/categories/system-service/windows/ipsec-set/">ipsec set</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/21/windows-ipsec-set/">windows ipsec set</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="windows-ipsec-set"><a href="#windows-ipsec-set" class="headerlink" title="windows ipsec set"></a>windows ipsec set</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">导出IPsec安全策略：Netsh ipsec static exportpolicy file = d:\ExportSecurity.ipsec</span><br><span class="line">导入IPsec安全策略：Netsh ipsec static importpolicy file = d:\ImportSecurity.ipsec</span><br><span class="line"></span><br><span class="line">设置过滤规则: netsh -f &quot;c:/temp.ips&quot;</span><br></pre></td></tr></table></figure>
<ol>
<li><p>删除所有的安全策略</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo ipsec static delete all &gt; c:/temp.ips</span><br></pre></td></tr></table></figure>
</li>
<li><p>建立一个新的安全策略</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rem 创建安全策略mrdTomcat</span><br><span class="line">echo ipsec static add policy name = mrdTomcat &gt;&gt; c:/temp.ips</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建筛选操作(允许和拒绝)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rem 创建筛选操作</span><br><span class="line">echo ipsec static add filteraction name = allow action = permit &gt;&gt; c:/temp.ips</span><br><span class="line">echo ipsec static add filteraction name = deny action = block  &gt;&gt; c:/temp.ips</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建筛选器并对其设置过滤规则</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">rem 自身连接</span><br><span class="line">echo ipsec static add filterlist name = allow_me &gt;&gt; c:/temp.ips</span><br><span class="line">echo ipsec static add filter filterlist = allow_me srcaddr = me dstaddr = 10.0.0.0 dstmask = 255.0.0.0  protocol = any  mirrored = yes &gt;&gt; c:/temp.ips</span><br><span class="line">echo ipsec static add filter filterlist = allow_me srcaddr = me dstaddr = 127.0.0.1   protocol = any  mirrored = yes  &gt;&gt; c:/temp.ips</span><br><span class="line"></span><br><span class="line">rem 中控连接22</span><br><span class="line">echo ipsec static add filterlist name = allow_22 &gt;&gt; c:/temp.ips</span><br><span class="line">echo ipsec static add filter filterlist = allow_22 srcaddr = 111.206.12.11 dstaddr = me dstport = 22 description = cc_access protocol = TCP mirrored = yes &gt;&gt; c:/temp.ips</span><br><span class="line">echo ipsec static add filter filterlist = allow_22 srcaddr = 220.181.142.11 dstaddr = me dstport = 22 description = cc_access protocol = TCP mirrored = yes &gt;&gt; c:/temp.ips</span><br><span class="line"></span><br><span class="line">rem 拒绝其他所有ip</span><br><span class="line">echo ipsec static add filterlist name = deny_all &gt;&gt; c:/temp.ips</span><br><span class="line">echo ipsec static add filter filterlist = deny_all srcaddr = me dstaddr = any dstport = 0  protocol = any mirrored = yes &gt;&gt; c:/temp.ips</span><br><span class="line">echo ipsec static add filter filterlist = deny_all srcaddr = any dstaddr = me dstport = 0  protocol = any mirrored = yes &gt;&gt; c:/temp.ips</span><br></pre></td></tr></table></figure>
</li>
<li><p>将筛选器规则加入到安全策略</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">echo ipsec static add rule name = allow_me Policy = mrdTomcat filterlist = allow_me filteraction = allow   &gt;&gt; c:/temp.ips</span><br><span class="line">echo ipsec static add rule name = allow_22 Policy = mrdTomcat filterlist = allow_22 filteraction = allow   &gt;&gt; c:/temp.ips</span><br><span class="line">echo ipsec static add rule name = allow_3389  Policy = mrdTomcat filterlist = allow_3389  filteraction = allow   &gt;&gt; c:/temp.ips</span><br><span class="line">echo ipsec static add rule name = deny_all Policy = mrdTomcat filterlist = deny_all filteraction = deny  &gt;&gt; c:/temp.ips</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rem 连接zabbix</span><br><span class="line">echo ipsec static add filterlist name   = allow_zabbix &gt;&gt; c:/temp.ips</span><br><span class="line">echo ipsec static add filter filterlist = allow_zabbix srcaddr = x.x.x.0  srcmask = 255.255.255.0  dstaddr = me dstport = 10050 description = zabbix_to_me protocol = TCP mirrored = yes &gt;&gt; c:/temp.ips</span><br><span class="line">echo ipsec static add filter filterlist = allow_zabbix srcaddr = me  dstaddr = any dstport = 10051  description = me_to_zabbix protocol = TCP mirrored = yes &gt;&gt; c:/temp.ips</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rem 连接snmp</span><br><span class="line">echo ipsec static add filterlist name   = allow_snmp &gt;&gt; c:/temp.ips</span><br><span class="line">echo ipsec static add filter filterlist = allow_snmp srcaddr = x.x.x.0  srcmask = 255.255.255.0 dstaddr = me dstport = 161 description = snmp_to_me protocol = UDP mirrored = yes &gt;&gt; c:/temp.ips</span><br><span class="line">echo ipsec static add filter filterlist = allow_snmp srcaddr = me  dstaddr = any dstport = 161  description = me_to_snmp protocol = UDP mirrored = yes &gt;&gt; c:/temp.ips</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rem 连接icmp</span><br><span class="line">echo ipsec static add filterlist name   = allow_icmp &gt;&gt; c:/temp.ips</span><br><span class="line">echo ipsec static add filter filterlist = allow_icmp srcaddr = x.x.x.0  srcmask = 255.255.255.0 dstaddr = me description = snmp_to_me protocol = ICMP mirrored = yes &gt;&gt; c:/temp.ips</span><br><span class="line">echo ipsec static add filter filterlist = allow_icmp srcaddr = me dstaddr = any description = me_to_icmp protocol = ICMP mirrored = yes &gt;&gt; c:/temp.ips</span><br></pre></td></tr></table></figure>
</li>
<li><p>激活安全策略</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo ipsec static set policy name = mrdTomcat assign = y &gt;&gt; c:/temp.ips</span><br></pre></td></tr></table></figure>
</li>
<li><p>应用配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netsh -f &quot;c:/temp.ips&quot;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h3 id="ipsec-参数"><a href="#ipsec-参数" class="headerlink" title="ipsec 参数"></a>ipsec 参数</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;netsh ipsec static add filter /?</span><br><span class="line">用法:</span><br><span class="line">  filter [ filterlist = ] &lt;string&gt;</span><br><span class="line">         [ srcaddr = ] (ipv4 | ipv6 | ipv4-ipv4 | ipv6-ipv6 | dns | server)</span><br><span class="line">         [ dstaddr = ] (ipv4 | ipv6 | ipv4-ipv4 | ipv6-ipv6 | dns | server)</span><br><span class="line">         [ [ description = ] &lt;string&gt; ]</span><br><span class="line">         [ [ protocol = ] (ANY | ICMP | TCP | UDP | RAW | &lt;<span class="built_in">integer</span>&gt;) ]</span><br><span class="line">         [ [ mirrored = ] (yes  |  no) ]</span><br><span class="line">         [ [ srcmask = ] (mask | prefix) ]</span><br><span class="line">         [ [ dstmask = ] (mask | prefix) ]</span><br><span class="line">         [ [ srcport = ] &lt;port&gt; ]</span><br><span class="line">         [ [ dstport = ] &lt;port&gt; ]</span><br><span class="line"></span><br><span class="line">  将筛选器添加到指定的筛选器列表。</span><br><span class="line"></span><br><span class="line">参数:</span><br><span class="line">  标记           值</span><br><span class="line">  filterlist    -筛选器要添加到其中的筛选器列表的名称。</span><br><span class="line">  srcaddr       -源 ip 地址(ipv4 或 ipv6)、地址范围、dns 名称或服务器类型。</span><br><span class="line">  dstaddr       -目标 ip 地址(ipv4 或 ipv6)、dns 名称或服务器类型。</span><br><span class="line">  description   -筛选器的简介信息。</span><br><span class="line">  protocol      -可以是 ANY，ICMP，TCP，UDP，RAW，或者一个整数。</span><br><span class="line">  mirrored      -值为 <span class="string">'Yes'</span> 将创建两个筛选器，每个方向均有一个。</span><br><span class="line">  srcmask       -源地址掩码或一个 1 到 32 的前缀。如果 srcaddr 设置为某一范围,则不适用。</span><br><span class="line">  dstmask       -目标地址掩码或一个 1 到 32 的前缀。如果 dstaddr 设置为某一范围，则不适用。</span><br><span class="line">  srcport       -数据包的源端口。值为 0 表示任意端口。</span><br><span class="line">  dstport       -数据包的目标端口。值为 0 表示任意端口。</span><br><span class="line"></span><br><span class="line">注释:  1. 如果筛选器列表不存在，将创建它。</span><br><span class="line">       2. 要指定当前计算机地址，请设置 srcaddr/dstaddr=me</span><br><span class="line">          要指定所有计算机地址，请设置 srcaddr/dstaddr=any</span><br><span class="line">       3. 服务器类型可以是 WINS、DNS、DHCP 或 GATEWAY。</span><br><span class="line">       4. 如果源是一个服务器类型，则目标为 <span class="string">"me"</span>，反之亦然。</span><br><span class="line">       5. 如果指定了地址范围，终结点必须为特定地址(非列表或子网)和相同类型地址(两者均应为 v4 或 v6)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/21/windows-ipsec-set/" data-id="cjazexzn900bdqcoqonobc0m7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-windows-cygwin-install" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/21/windows-cygwin-install/" class="article-date">
  <time datetime="2017-03-20T16:38:42.000Z" itemprop="datePublished">2017-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/system-service/">system service</a>►<a class="article-category-link" href="/categories/system-service/windows/">windows</a>►<a class="article-category-link" href="/categories/system-service/windows/cygwin-install/">cygwin install</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/21/windows-cygwin-install/">windows cygwin install</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li>在windows 2008 R2上安装sshd服务(cygwin)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">=&gt; 1. 通过&quot;远程桌面&quot;登录到Win服务器(Ctrl+R =&gt; mstsc =&gt; Login)</span><br><span class="line">=&gt; 2. 下载cygwin软件包,并安装(默认安装位置即可)</span><br><span class="line">=&gt; 3. cygwin安装软件(基础软件包,根据自己项目需求):</span><br><span class="line">      zip        =&gt;必须</span><br><span class="line">      unzip      =&gt;必须</span><br><span class="line">      openssh    =&gt;必须</span><br><span class="line">      openssl    =&gt;必须</span><br><span class="line">      rsync</span><br><span class="line">      crontab</span><br><span class="line">      autoconf2.5</span><br><span class="line">      automake1.9</span><br><span class="line">      binutils</span><br><span class="line">      gcc</span><br><span class="line">      gcc-core</span><br><span class="line">      gcc-g++</span><br><span class="line">      gcc-mingw-core</span><br><span class="line">      gcc-mingw-g++</span><br><span class="line">      gdb</span><br><span class="line">      sed</span><br><span class="line">      vim</span><br><span class="line">      telnet</span><br><span class="line">=&gt; 4. cygwin软件安装</span><br><span class="line"></span><br><span class="line">=&gt; 5.在下方的系统变量里点击新建,在弹出的对话框里新建变量CYGWIN,值为ntsec tty,然后双击打开系统变量里的PATH,追加C:\Cygwin64\bin\</span><br><span class="line"></span><br><span class="line">=&gt; 6.ssh</span><br><span class="line">     $ mkpasswd -l &gt; /etc/passwd</span><br><span class="line">     $ mkgroup -l &gt; /etc/group</span><br><span class="line"></span><br><span class="line">=&gt; 7. cygwin安装sshd服务</span><br><span class="line">      =&gt; ssh-host-config  =&gt;(管理员身份运行)</span><br><span class="line"></span><br><span class="line">=&gt; 8. cygwin启动sshd服务</span><br><span class="line">      =&gt; cygrunsrv --start sshd</span><br><span class="line">         cygrunsrv --stop sshd</span><br><span class="line">         cygrunsrv -R sshd</span><br><span class="line"></span><br><span class="line">=&gt; 9. cygwin常用命令</span><br><span class="line">      =&gt; cygrunsrv -L  查看安装的服务</span><br><span class="line"></span><br><span class="line">=&gt; 10. cygwin 删除之前安装的sshd配置,重新初始化配置</span><br><span class="line">      =&gt; rm -rf /etc/ssh*</span><br><span class="line">         rm -rf /var/log/sshd.log</span><br><span class="line">         ssh-host-config</span><br><span class="line"></span><br><span class="line">=&gt; 11. 注意</span><br><span class="line">      sshd在cyg_server帐户下运行,你在初始化sshd配置的时候会创建一个用户,默认用户为cyg_server</span><br><span class="line"></span><br><span class="line">=&gt; 12. login</span><br><span class="line">      =&gt; ssh Administrator@IP</span><br><span class="line">         注意: 用户名第一个字母必须大写</span><br><span class="line"></span><br><span class="line">=&gt; 13. 无密码登录</span><br><span class="line">     ssh-copy-id -i ~/.ssh/id_dsa.pub Administrator@115.159.101.156</span><br></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-host-config</span><br><span class="line">*** Info: Generating missing SSH host keys</span><br><span class="line">*** Query: Overwrite existing /etc/ssh_config file? (yes/no) yes   =&gt;yes</span><br><span class="line">*** Info: Creating default /etc/ssh_config file</span><br><span class="line">*** Query: Overwrite existing /etc/sshd_config file? (yes/no) yes  =&gt;yes</span><br><span class="line">*** Info: Creating default /etc/sshd_config file</span><br><span class="line"></span><br><span class="line">*** Info: StrictModes is <span class="built_in">set</span> to <span class="string">'yes'</span> by default.</span><br><span class="line">*** Info: This is the recommended setting, but it requires that the POSIX</span><br><span class="line">*** Info: permissions of the user<span class="string">'s home directory, the user'</span>s .ssh</span><br><span class="line">*** Info: directory, and the user<span class="string">'s ssh key files are tight so that</span></span><br><span class="line"><span class="string">*** Info: only the user has write permissions.</span></span><br><span class="line"><span class="string">*** Info: On the other hand, StrictModes don'</span>t work well with default</span><br><span class="line">*** Info: Windows permissions of a home directory mounted with the</span><br><span class="line">*** Info: <span class="string">'noacl'</span> option, and they don<span class="string">'t work at all if the home</span></span><br><span class="line"><span class="string">*** Info: directory is on a FAT or FAT32 partition.</span></span><br><span class="line"><span class="string">*** Query: Should StrictModes be used? (yes/no) no  =&gt;注意:这里选择no,不是yes,我选择yes的时候启动不了ssh服务</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">*** Info: Privilege separation is set to '</span>sandbox<span class="string">' by default since</span></span><br><span class="line"><span class="string">*** Info: OpenSSH 6.1.  This is unsupported by Cygwin and has to be set</span></span><br><span class="line"><span class="string">*** Info: to '</span>yes<span class="string">' or '</span>no<span class="string">'.</span></span><br><span class="line"><span class="string">*** Info: However, using privilege separation requires a non-privileged account</span></span><br><span class="line"><span class="string">*** Info: called '</span>sshd<span class="string">'.</span></span><br><span class="line"><span class="string">*** Info: For more info on privilege separation read /usr/share/doc/openssh/READ  ME.privsep.</span></span><br><span class="line"><span class="string">*** Query: Should privilege separation be used? (yes/no) yes</span></span><br><span class="line"><span class="string">*** Info: Updating /etc/sshd_config file</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">*** Query: Do you want to install sshd as a service?</span></span><br><span class="line"><span class="string">*** Query: (Say "no" if it is already installed as a service) (yes/no) yes  =yes</span></span><br><span class="line"><span class="string">*** Query: Enter the value of CYGWIN for the daemon: []</span></span><br><span class="line"><span class="string">*** Info: On Windows Server 2003, Windows Vista, and above, the</span></span><br><span class="line"><span class="string">*** Info: SYSTEM account cannot setuid to other users -- a capability</span></span><br><span class="line"><span class="string">*** Info: sshd requires.  You need to have or to create a privileged</span></span><br><span class="line"><span class="string">*** Info: account.  This script will help you do so.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">*** Info: It'</span>s not possible to use the LocalSystem account <span class="keyword">for</span> services</span><br><span class="line">*** Info: that can change the user id without an explicit password</span><br><span class="line">*** Info: (such as passwordless logins [e.g. public key authentication]</span><br><span class="line">*** Info: via sshd) when having to create the user token from scratch.</span><br><span class="line">*** Info: For more information on this requirement, see</span><br><span class="line">*** Info: https://cygwin.com/cygwin-ug-net/ntsec.html<span class="comment">#ntsec-nopasswd1</span></span><br><span class="line"></span><br><span class="line">*** Info: If you want to <span class="built_in">enable</span> that functionality, it<span class="string">'s required to create</span></span><br><span class="line"><span class="string">*** Info: a new account with special privileges (unless such an account</span></span><br><span class="line"><span class="string">*** Info: already exists). This account is then used to run these special</span></span><br><span class="line"><span class="string">*** Info: servers.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">*** Info: Note that creating a new user requires that the current account</span></span><br><span class="line"><span class="string">*** Info: have Administrator privileges itself.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">*** Info: The following privileged accounts were found: '</span>sshd_server<span class="string">' '</span>cron_serv  er<span class="string">' .</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">*** Info: This script plans to use '</span>sshd_server<span class="string">'.</span></span><br><span class="line"><span class="string">*** Info: '</span>sshd_server<span class="string">' will only be used by registered services.</span></span><br><span class="line"><span class="string">*** Query: Do you want to use a different name? (yes/no) no   =&gt;no</span></span><br><span class="line"><span class="string">*** Query: Please enter the password for user '</span>sshd_server<span class="string">':  =&gt;fy@2015</span></span><br><span class="line"><span class="string">*** Query: Reenter:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">*** Info: The sshd service has been installed under the '</span>sshd_server<span class="string">'</span></span><br><span class="line"><span class="string">*** Info: account.  To start the service now, call `net start sshd'</span> or</span><br><span class="line">*** Info: `cygrunsrv -S sshd<span class="string">'.  Otherwise, it will start automatically</span></span><br><span class="line"><span class="string">*** Info: after the next reboot.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">*** Info: Host configuration finished. Have fun!</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="cygwin-install"><a href="#cygwin-install" class="headerlink" title="cygwin install"></a>cygwin install</h3><ol>
<li><p><a href="https://cygwin.com/install.html" target="_blank" rel="noopener">cygwin download</a></p>
</li>
<li><p>创建目录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">软件包存放位置: C:\install\setup-x86_64.exe</span><br><span class="line">双击软件包: setup-x86_64.exe</span><br></pre></td></tr></table></figure>
</li>
<li><p>选择国内源</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://mirrors.ustc.edu.cn/cygwin/    推荐</span><br><span class="line">http://mirrors.163.com/cygwin/</span><br><span class="line">http://mirrors.sohu.com/cygwin/</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装软件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Category:</span><br><span class="line">  Admin</span><br><span class="line">  Base</span><br><span class="line">  Devel</span><br><span class="line">  Editors:</span><br><span class="line">    vim</span><br><span class="line">  Net</span><br><span class="line">  System</span><br><span class="line">  Utils</span><br><span class="line"></span><br><span class="line">openssh</span><br><span class="line">vim</span><br><span class="line">zip</span><br><span class="line">unzip</span><br><span class="line">curl</span><br><span class="line">wget</span><br></pre></td></tr></table></figure>
</li>
<li><p>将”C:\cygwin64\bin”添加到windows环境变量中</p>
</li>
<li><p>配置openssh</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-host-config</span><br><span class="line">*** Info: Generating missing SSH host keys</span><br><span class="line">ssh-keygen: generating new host keys: RSA DSA ECDSA ED25519</span><br><span class="line">*** Info: Creating default /etc/ssh_config file</span><br><span class="line">*** Info: Creating default /etc/sshd_config file</span><br><span class="line"></span><br><span class="line">*** Info: StrictModes is set to &apos;yes&apos; by default.</span><br><span class="line">*** Info: This is the recommended setting, but it requires that the POSIX</span><br><span class="line">*** Info: permissions of the user&apos;s home directory, the user&apos;s .ssh</span><br><span class="line">*** Info: directory, and the user&apos;s ssh key files are tight so that</span><br><span class="line">*** Info: only the user has write permissions.</span><br><span class="line">*** Info: On the other hand, StrictModes don&apos;t work well with default</span><br><span class="line">*** Info: Windows permissions of a home directory mounted with the</span><br><span class="line">*** Info: &apos;noacl&apos; option, and they don&apos;t work at all if the home</span><br><span class="line">*** Info: directory is on a FAT or FAT32 partition.</span><br><span class="line"># &quot;StrictModes&quot;设置ssh在接收登录请求之前是否检查&apos;用户家目录&apos;和&apos;rhosts文件&apos;的权限和所有权</span><br><span class="line"># 这通常是必要的,因为新手经常会把自己的目录和文件设成任何人都有写权限,我建议选择&apos;no&apos;</span><br><span class="line">*** Query: Should StrictModes be used? (yes/no) no</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">*** Info: Note that creating a new user requires that the current account have</span><br><span class="line">*** Info: Administrator privileges.  Should this script attempt to create a</span><br><span class="line"># 创建一个新的本地用户,叫sshd,默认用户被禁止登陆</span><br><span class="line">*** Query: new local account &apos;sshd&apos;? (yes/no) yes</span><br><span class="line">*** Info: Updating /etc/sshd_config file</span><br><span class="line"></span><br><span class="line">*** Query: Do you want to install sshd as a service?</span><br><span class="line"># 是否想将sshd服务加入到windows 服务中</span><br><span class="line">*** Query: (Say &quot;no&quot; if it is already installed as a service) (yes/no) yes</span><br><span class="line">#</span><br><span class="line">*** Query: Enter the value of CYGWIN for the daemon: [] binmode ntsec</span><br><span class="line">*** Info: On Windows Server 2003, Windows Vista, and above, the</span><br><span class="line">*** Info: SYSTEM account cannot setuid to other users -- a capability</span><br><span class="line">*** Info: sshd requires.  You need to have or to create a privileged</span><br><span class="line">*** Info: account.  This script will help you do so.</span><br><span class="line"></span><br><span class="line">*** Info: It&apos;s not possible to use the LocalSystem account for services</span><br><span class="line">*** Info: that can change the user id without an explicit password</span><br><span class="line">*** Info: (such as passwordless logins [e.g. public key authentication]</span><br><span class="line">*** Info: via sshd) when having to create the user token from scratch.</span><br><span class="line">*** Info: For more information on this requirement, see</span><br><span class="line">*** Info: https://cygwin.com/cygwin-ug-net/ntsec.html#ntsec-nopasswd1</span><br><span class="line"></span><br><span class="line">*** Info: If you want to enable that functionality, it&apos;s required to create</span><br><span class="line">*** Info: a new account with special privileges (unless such an account</span><br><span class="line">*** Info: already exists). This account is then used to run these special</span><br><span class="line">*** Info: servers.</span><br><span class="line"></span><br><span class="line">*** Info: Note that creating a new user requires that the current account</span><br><span class="line">*** Info: have Administrator privileges itself.</span><br><span class="line"></span><br><span class="line">*** Info: No privileged account could be found.</span><br><span class="line"></span><br><span class="line">*** Info: This script plans to use &apos;cyg_server&apos;.</span><br><span class="line">*** Info: &apos;cyg_server&apos; will only be used by registered services.</span><br><span class="line"># 如果用相同的名字cyg_server,输入no</span><br><span class="line">*** Query: Do you want to use a different name? (yes/no) no</span><br><span class="line">*** Query: Create new privileged user account &apos;WIN-5GSU1CSQSAB\cyg_server&apos; (Cygwin name: &apos;cyg_server&apos;)? (yes/no) yes</span><br><span class="line">*** Info: Please enter a password for new user cyg_server.  Please be sure</span><br><span class="line">*** Info: that this password matches the password rules given on your system.</span><br><span class="line">*** Info: Entering no password will exit the configuration.</span><br><span class="line"># 为cyg_server设置密码</span><br><span class="line">*** Query: Please enter the password:</span><br><span class="line">*** Query: Reenter:</span><br><span class="line"></span><br><span class="line">*** Info: User &apos;cyg_server&apos; has been created with password &apos;FT7m4VhgN9W1212&apos;.</span><br><span class="line">*** Info: If you change the password, please remember also to change the</span><br><span class="line">*** Info: password for the installed services which use (or will soon use)</span><br><span class="line">*** Info: the &apos;cyg_server&apos; account.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">*** Info: The sshd service has been installed under the &apos;cyg_server&apos;</span><br><span class="line">*** Info: account.  To start the service now, call `net start sshd&apos; or</span><br><span class="line">*** Info: `cygrunsrv -S sshd&apos;.  Otherwise, it will start automatically</span><br><span class="line">*** Info: after the next reboot.</span><br><span class="line"></span><br><span class="line">*** Info: Host configuration finished. Have fun!</span><br></pre></td></tr></table></figure>
</li>
<li><p>启动openssh服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">net start sshd  启动</span><br><span class="line">net stop sshd   关闭</span><br><span class="line"></span><br><span class="line">cygrunsrv --start sshd  启动</span><br><span class="line">cygrunsrv --stop  sshd  关闭</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/21/windows-cygwin-install/" data-id="cjazey0b3019kqcoqj9ep1rt0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/15/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="page-number" href="/page/15/">15</a><span class="page-number current">16</span><a class="page-number" href="/page/17/">17</a><a class="page-number" href="/page/18/">18</a><span class="space">&hellip;</span><a class="page-number" href="/page/29/">29</a><a class="extend next" rel="next" href="/page/17/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AliCloud/">AliCloud</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/AliCloud/SDK/">SDK</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/AliCloud/SDK/Python-SDK/">Python SDK</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Android-install/">Android install</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Android-install/Android-studio-install/">Android studio install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/">Development</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/">Doc</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/HTTP-严格传输安全HSTS/">HTTP 严格传输安全HSTS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/HTTP协议/">HTTP协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/TCP-协议详解/">TCP 协议详解</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/TCP与socket区别/">TCP与socket区别</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/linux-文件描述符与打开文件之间的关系/">linux 文件描述符与打开文件之间的关系</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/linux-文件系统inode/">linux 文件系统inode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/一次完整的HTTP请求/">一次完整的HTTP请求</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Disk/">Disk</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Disk/disk-io-performance/">disk io performance</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Disk/disk-iostat/">disk iostat</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/">Distributed storage</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/">GlusterFS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-architecture/">GlusterFS architecture</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-info/">GlusterFS info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-install/">GlusterFS install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-workflow/">GlusterFS workflow</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Domain/">Domain</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Domain/nslookup-dns-search/">nslookup dns search</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HA/">HA</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HA/DRBD/">DRBD</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HA/DRBD/DRBD-install/">DRBD install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HA/keepalived/">keepalived</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HA/keepalived/keepalived-install/">keepalived install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/">IDE</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/Intellij/">Intellij</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/Intellij/Intellij-setting/">Intellij setting</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/vim/">vim</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/vim/vim-shortcut-key/">vim shortcut key</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/vim/vim-vimrc/">vim vimrc</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel/">Kernel</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel/kernel-memory/">kernel memory</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel/kernel-memory/kernel-共享内存/">kernel 共享内存</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/">Monitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/ganglia/">ganglia</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/ganglia/ganglia-install/">ganglia install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/hmonitor/">hmonitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/hmonitor/hmonitor-install/">hmonitor install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/htmonitor/">htmonitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/htmonitor/htmonitor-install/">htmonitor install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/smokeping/">smokeping</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/smokeping/smokeping-install/">smokeping install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/">zabbix</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/monitor/">monitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/monitor/zabbix-monitor-cpu/">zabbix monitor cpu</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/monitor/zabbix-monitor-mem/">zabbix monitor mem</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-auto-discover/">zabbix auto discover</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-grafana-install/">zabbix grafana install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-install/">zabbix install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-install-distributed/">zabbix install distributed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-item-and-tigger/">zabbix item and tigger</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-java-gateway/">zabbix java gateway</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-modify-login-user-passwd/">zabbix modify login user passwd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-optimization/">zabbix optimization</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-proxy-install/">zabbix proxy install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-server-support-chinese/">zabbix server support chinese</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-windows-agent/">zabbix windows agent</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/树莓派/">树莓派</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/树莓派/树莓派-GSM-语音短信报警/">树莓派 GSM 语音短信报警</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/监控/">监控</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/监控/监控知识体系/">监控知识体系</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/">Python Framework</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/Python-Django/">Python Django</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/Python-Django-setting/">Python Django setting</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/Python-tornado-install/">Python tornado install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/">Python Learn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-上下文管理器/">python 上下文管理器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-内存管理/">python 内存管理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-函数编程/">python 函数编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-变量/">python 变量</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-对象使用/">python 对象使用</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-对象的属性/">python 对象的属性</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-对象编程/">python 对象编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-数据类型/">python 数据类型</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-流程控制/">python 流程控制</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-爬虫/">python 爬虫</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-特殊方法/">python 特殊方法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-特殊说明/">python 特殊说明</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-装饰器/">python 装饰器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-过程编程/">python 过程编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-进阶/">python 进阶</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-闭包/">python 闭包</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/">Python install</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-error-info/">python error info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-pip-source-image/">python pip source image</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-pip-use/">python pip use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-pyenv-install/">python pyenv install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-setup-py/">python setup.py</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-source-install/">python source install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-virtualenv/">python virtualenv</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/">Python library</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/MySQLdb/">MySQLdb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/memory-profiler/">memory_profiler</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/time-datetime-calendar/">time datetime calendar</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-modules/">Python modules</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-modules/python-modules-path/">python modules path</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-modules/python-modules-pylint-and-ipython/">python modules pylint and ipython</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-other/">Python other</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-other/python-import-and-reload/">python import and reload</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/">Ruby</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/Ruby-install/">Ruby install</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/Ruby-install/Ruby-install/">Ruby install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/">TCP.IP</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/TCP-状态/">TCP 状态</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/TCP-IP模型/">TCP/IP模型</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/Wireshark-use/">Wireshark use</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/WeChat/">WeChat</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/WeChat/WeChat-enterprise/">WeChat enterprise</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/WeChat/WeChat-enterprise/WeChat-enterprise-API/">WeChat enterprise API</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/">automation</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/">git</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-command/">git command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-error/">git error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gitlab/">git gitlab</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gitolite/">git gitolite</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gogs/">git gogs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gogs-source-install/">git gogs source install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-init/">git init</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-workflow/">git workflow</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/jenkins/">jenkins</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/jenkins/jenkins-info/">jenkins info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/jenkins/jenkins-install/">jenkins install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/kvm/">kvm</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/kvm/kvm-install/">kvm install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/maven/">maven</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/maven/maven-install/">maven install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/nexus/">nexus</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/nexus/nexus-install/">nexus install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/nexus/nexus-proxy-maven/">nexus proxy maven</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/rpm/">rpm</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/rpm/rpm-package-build/">rpm package build</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/rpm/rpmbuild-spec/">rpmbuild spec</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/">salt</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-advanced-topic/">salt advanced topic</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-highstate/">salt highstate</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-info/">salt info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install/">salt install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install-HA/">salt install HA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install-distributed/">salt install distributed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install-standard/">salt install standard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-jinja2-grain-pillar-module/">salt jinja2 grain pillar module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-event-reactor/">salt manage event reactor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-grains/">salt manage grains</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-job/">salt manage job</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-module/">salt manage module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-pillar/">salt manage pillar</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-return/">salt manage return</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-states/">salt manage states</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-target/">salt manage target</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-master-syndic-install/">salt master syndic install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-master-conf/">salt master.conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-minion-conf/">salt minion.conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-raet/">salt raet</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-state-module/">salt state module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-syndic-conf/">salt syndic.conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-write-module-code/">salt write module code</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/svn/">svn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/svn/svn-auto-update/">svn auto update</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/svn/svn-checkout-bat/">svn checkout bat</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/svn/svn-server-for-windows/">svn server for windows</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/yum/">yum</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/yum/yum-server-install/">yum server install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/">database</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/">Mongo</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-auth/">mongo auth</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-error/">mongo error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-replication-auth-install/">mongo replication auth install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-replication-standard-install/">mongo replication standard install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-standard-install/">mongo standard install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/">Mysql</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-command/">mysql command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-error-info/">mysql error info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-explain/">mysql explain</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-grant/">mysql grant</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-index-options/">mysql index options</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-innodb-buffer-pool-flush/">mysql innodb buffer pool flush</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-master-slave/">mysql master slave</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-master-slave-switch/">mysql master slave switch</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-partition/">mysql partition</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-select-join/">mysql select join</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-slow-log/">mysql slow log</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-standard/">mysql standard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-table-size/">mysql table size</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-use-memory-as-disk/">mysql use memory as disk</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/">Postgresql</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-book-use/">postgresql book use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-master-slave-info/">postgresql master slave info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-master-slave/">postgresql master/slave</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-plugin-install/">postgresql plugin install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-standard/">postgresql standard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-tablespace-database-schema-table-user-role-relation/">postgresql tablespace database schema table user role relation</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-yum-install/">postgresql yum install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-常用命令/">postgresql 常用命令</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-数据库对象/">postgresql 数据库对象</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-数据库管理/">postgresql 数据库管理</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/">Redis</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-error/">redis error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-install/">redis install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-redis-trib-rb/">redis redis-trib.rb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-status/">redis status</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-use/">redis use</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/influxDB/">influxDB</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/influxDB/influxDB-install/">influxDB install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/golang/">golang</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/golang/go-env/">go env</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/">hadoop</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/">RabbitMQ</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-cluster/">RabbitMQ cluster</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-high-availability/">RabbitMQ high availability</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-info/">RabbitMQ info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-install/">RabbitMQ install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-python-pika/">RabbitMQ python pika</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-user-and-grant/">RabbitMQ user and grant</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-working-principle/">RabbitMQ working principle</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/beats/">beats</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/beats/beats-install/">beats install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/">datax</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/datax-info/">datax info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/datax-install/">datax install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/datax-job/">datax job</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/">elasticsearch</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-backup-and-restore/">elasticsearch backup and restore</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-command/">elasticsearch command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-core-component/">elasticsearch core component</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-exploring-your-cluster/">elasticsearch exploring your cluster</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-exploring-your-data/">elasticsearch exploring your data</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-four-search-type/">elasticsearch four search type</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-full-cluster-restart-upgrade/">elasticsearch full cluster restart upgrade</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-install/">elasticsearch install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-modifying-your-data/">elasticsearch modifying your data</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-rolling-upgrades/">elasticsearch rolling upgrades</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-safe-restart/">elasticsearch safe restart</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-shard/">elasticsearch shard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/how-to-tune-for-indexing-speed/">how to tune for indexing speed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/how-to-tune-for-search-speed/">how to tune for search speed</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/flume/">flume</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/flume/flume-info/">flume info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/flume/flume-install/">flume install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/grafana/">grafana</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/grafana/grafana-install/">grafana install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/hadoop/">hadoop</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/hadoop/hadoop-简介/">hadoop 简介</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/">kafka</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-add-topic-partition/">kafka add topic partition</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-add-topic-replicats/">kafka add topic replicats</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-broker-config/">kafka broker config</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-high-throughput/">kafka high throughput</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-info/">kafka info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-install/">kafka install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-manage-web/">kafka manage web</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-migrate-and-scale/">kafka migrate and scale</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-offset-monitor/">kafka offset monitor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-optimize/">kafka optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-use/">kafka use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-web-console/">kafka web console</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-with-zookeeper/">kafka with zookeeper</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kibana/">kibana</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kibana/kibana-install/">kibana install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/">logstash</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-config-file/">logstash config file</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-filter-grok/">logstash filter grok</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-info/">logstash info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-install/">logstash install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mycat/">mycat</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mycat/mycat-jvm-optimize/">mycat jvm optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mycat/mycat-web-install/">mycat web install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/">nsq</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/nsq-command/">nsq command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/nsq-info/">nsq info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/nsq-install/">nsq install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/">zookeeper</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-install/">zookeeper install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-monitor/">zookeeper monitor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-optimize/">zookeeper optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-use/">zookeeper use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-zab-protocol/">zookeeper zab protocol</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-env/">java env</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-jvm-optimize/">java jvm optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-jvm-opts/">java jvm opts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-jvm-原理/">java jvm 原理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-learn/">java learn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-learn/java-学习笔记/">java 学习笔记</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-log4j/">java log4j</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-performance-analysis/">java performance analysis</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-performance-analysis/jps/">jps</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/">k8s</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/k8s-dashboard-install/">k8s dashboard install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/k8s-install/">k8s install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/k8s-registry-install/">k8s registry install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/node/">node</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/node/node-install/">node install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/other/ACID/">ACID</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/分布式二阶段和三阶段提交协议/">分布式二阶段和三阶段提交协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/开源许可协议/">开源许可协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/网络带宽/">网络带宽</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/">system service</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/">Atlassian</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-https/">confluence https</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-install/">confluence install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-reset-passwd/">confluence reset passwd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-update/">confluence update</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/jira-https/">jira https</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/jira-install/">jira install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/jira-update/">jira update</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/mariadb-install/">mariadb install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/">CentOS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/Base-env/">Base env</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-common-use-scripts/">linux common use scripts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-history-info-setting/">linux history info setting</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-login-info/">linux login info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-nginx-install/">linux nginx install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-skill/">linux skill</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-system-init/">linux system init</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-内存插槽-内存信息/">linux 内存插槽 内存信息</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-扩容swap分区/">linux 扩容swap分区</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-物理CPU-CPU核数-逻辑CPU/">linux 物理CPU CPU核数 逻辑CPU</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-磁盘系统block区别/">linux 磁盘系统block区别</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-设置-包含头文件路径-和-动态库链接路径/">linux 设置 包含头文件路径 和 动态库链接路径</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/make提高源码编译速度/">make提高源码编译速度</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/NFS/">NFS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/NFS/nfs-exports-command/">nfs exports command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/NFS/nfs-install/">nfs install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Samba/">Samba</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Samba/samba-conf/">samba conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Samba/samba-install/">samba install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/">command</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/grep/">grep</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/pigz/">pigz</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/sed/">sed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/split/">split</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/tr/">tr</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/haproxy/">haproxy</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/haproxy/haproxy-install/">haproxy install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/">nginx</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-install/">nginx install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-location/">nginx location</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-rewrite/">nginx rewrite</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-status/">nginx status</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/ntpd/">ntpd</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/ntpd/ntpd-install/">ntpd install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openssl/">openssl</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openssl/openssl-certificate/">openssl certificate</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openvpn/">openvpn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openvpn/openvpn-install/">openvpn install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/rsync/">rsync</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/rsync/rsync-install/">rsync install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/supersord/">supersord</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/supersord/supersord-install/">supersord install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/">vsftpd</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/ftp-proxy/">ftp proxy</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/vsftpd-error/">vsftpd error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/vsftpd-info/">vsftpd info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/vsftpd-install/">vsftpd install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/">windows</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/cygwin-install/">cygwin install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/ipsec-set/">ipsec set</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/windows-modify-hosts/">windows modify hosts</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/SSL/">SSL</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/SSL/SSL-certificate/">SSL certificate</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/angular/">angular</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/angular/angular-install/">angular install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/hexo/">hexo</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/hexo/hexo-install/">hexo install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/sass/">sass</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/sass/sass-install/">sass install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/xml/">xml</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/xml/xml-format/">xml format</a></li></ul></li></ul></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/01/01/hello-everyone/">Hello Everyone</a>
          </li>
        
          <li>
            <a href="/2017/12/08/svn-checkout-bat/">svn checkout bat</a>
          </li>
        
          <li>
            <a href="/2017/12/08/svn-server-for-windows/">svn server for windows</a>
          </li>
        
          <li>
            <a href="/2017/12/08/nslookup-dns-search/">nslookup dns search</a>
          </li>
        
          <li>
            <a href="/2017/11/28/kafka-web-console/">kafka web console</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 penn<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>