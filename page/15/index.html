<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>smallasa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="smallasa">
<meta property="og:url" content="http://www.smallasa.com/page/15/index.html">
<meta property="og:site_name" content="smallasa">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="smallasa">
  
    <link rel="alternate" href="/atom.xml" title="smallasa" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">smallasa</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">I known what i do !</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.smallasa.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-python-过程编程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/10/python-过程编程/" class="article-date">
  <time datetime="2017-04-10T09:57:09.000Z" itemprop="datePublished">2017-04-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Python/">Python</a>►<a class="article-category-link" href="/categories/Python/Python-Learn/">Python Learn</a>►<a class="article-category-link" href="/categories/Python/Python-Learn/python-过程编程/">python 过程编程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/10/python-过程编程/">python 过程编程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="python-过程编程"><a href="#python-过程编程" class="headerlink" title="python 过程编程"></a>python 过程编程</h3><p><strong>python流程控制(判断和循环)使用结构化的方法来封装程序<br>python过程编程主要使用’函数’和’模块’的方法来封装程序</strong></p>
<h4 id="1-函数定义和声明"><a href="#1-函数定义和声明" class="headerlink" title="1.函数定义和声明"></a>1.函数定义和声明</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">1. 函数是什么?</span><br><span class="line">函数是一种语法结构(它把一些指令封装在一起,形成一个组合)</span><br><span class="line">函数是对封装的完美解释(输入的数据被称为参数,参数影响函数的行为)</span><br><span class="line">综上,函数的方式包含:</span><br><span class="line">* 集合的对应关系</span><br><span class="line">* 数据的魔法盒子</span><br><span class="line">* 语句的封装</span><br><span class="line"></span><br><span class="line">2. 定义函数</span><br><span class="line">def square_sum(a,b):</span><br><span class="line">    a = a**2</span><br><span class="line">    b = b**2</span><br><span class="line">    c = a + b</span><br><span class="line">    return c</span><br><span class="line">    print(&quot;am I alive?&quot;)</span><br><span class="line"></span><br><span class="line">python使用def定义函数,square_sum是函数名字,括号中的a和b表示传入函数的参数,冒号后面五行都有缩进表示这五行代码都是函数体.</span><br><span class="line">当函数被调用时,python将依次执行函数体,return用于返回函数结果,同时函数体执行到return后就会结束,不管它后面是否有其它函数定义语句</span><br><span class="line"></span><br><span class="line">3. 调用函数</span><br><span class="line">使用函数的过程叫调用函数.调用函数常用的方法是把函数返回值赋予给变量</span><br><span class="line"></span><br><span class="line">x = square_sum(3,4)</span><br><span class="line">print(x)</span><br><span class="line"></span><br><span class="line">3对应a,4对应b,square_sum(3,4)返回结果为25,返回值25赋予变量x,然后由print打印输出</span><br><span class="line"></span><br><span class="line">4. 函数文档</span><br><span class="line">def square_sum(a,b):</span><br><span class="line">    &quot;&quot;&quot;return the square sum of two arguments&quot;&quot;&quot;</span><br><span class="line">    a = a**2</span><br><span class="line">    b = b**2</span><br><span class="line">    c = a + b</span><br><span class="line">    return c</span><br><span class="line">    print(&quot;am I alive?&quot;)</span><br><span class="line"></span><br><span class="line">help(square_sum)</span><br><span class="line"></span><br><span class="line">在函数体第一行增加了一个多行注释,这个多行注释同样有缩进,它将成为该函数的说明文档</span><br></pre></td></tr></table></figure>
<h4 id="2-参数的传递"><a href="#2-参数的传递" class="headerlink" title="2.参数的传递"></a>2.参数的传递</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">1. 基本传参</span><br><span class="line">把数据用参数的形式输入到函数,被称为参数传递.</span><br><span class="line"></span><br><span class="line">//以位置形式来确认传入的参数</span><br><span class="line">def print_arg(a,b,c):</span><br><span class="line">    &quot;&quot;&quot;print args&quot;&quot;&quot;</span><br><span class="line">    print(a,b,c)</span><br><span class="line"></span><br><span class="line">//以关键字形式来确认传入的参数</span><br><span class="line">def print_arg(b=2,a=3,c=1):</span><br><span class="line">    &quot;&quot;&quot;print args&quot;&quot;&quot;</span><br><span class="line">    print(a,b,c)</span><br><span class="line"></span><br><span class="line">//混合使用</span><br><span class="line">def print_arg(b,a=2,c=1):</span><br><span class="line">    &quot;&quot;&quot;print args&quot;&quot;&quot;</span><br><span class="line">    print(a,b,c)</span><br><span class="line"></span><br><span class="line">2. 包裹传参</span><br><span class="line">包裹传参的意思是传递任意个参数(参数不明确)</span><br><span class="line"></span><br><span class="line">//包裹传参,以位置形式来传入参数,返回结果为元组</span><br><span class="line">def print_arg(*args):</span><br><span class="line">   &quot;&quot;&quot;print args&quot;&quot;&quot;</span><br><span class="line">   print(args)</span><br><span class="line"></span><br><span class="line">//包裹传参,以关键字形式来传入参数,返回结果为字典</span><br><span class="line">def print_arg(**args):</span><br><span class="line">    &quot;&quot;&quot;print args&quot;&quot;&quot;</span><br><span class="line">    print(args)</span><br><span class="line"></span><br><span class="line">//包裹传参,混合使用</span><br><span class="line">def print_arg(*arg,**args):</span><br><span class="line">    &quot;&quot;&quot;print args&quot;&quot;&quot;</span><br><span class="line">    print(arg)</span><br><span class="line">    print(args)</span><br><span class="line"></span><br><span class="line">综上,包裹传参和基本参数混合使用,它们的先后顺序为: 位置 -&gt; 关键字 -&gt; 包裹位置 -&gt; 包裹关键字</span><br><span class="line"></span><br><span class="line">[root@smallasa ~]# cat test.py</span><br><span class="line">#!/usr/bin/env python</span><br><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line"></span><br><span class="line">def print_arg(a,b,*c,**d):</span><br><span class="line">    &quot;&quot;&quot;print args&quot;&quot;&quot;</span><br><span class="line">    print(a,b,c,d)</span><br><span class="line"></span><br><span class="line">print_arg(1,2,3,4,e=1,f=2)</span><br><span class="line">[root@smallasa ~]# python test.py</span><br><span class="line">(1, 2, (3, 4), &#123;&apos;e&apos;: 1, &apos;f&apos;: 2&#125;)</span><br><span class="line"></span><br><span class="line">3. 解包裹</span><br><span class="line">包裹传递使用&apos;*&apos;和&apos;**&apos;用于函数定义,同时&apos;*&apos;和&apos;**&apos;还可以用于函数调用</span><br><span class="line">注意: 包裹传参和解包裹不是相反操作,而是两个相对独立的功能</span><br><span class="line"></span><br><span class="line">//解包裹,以位置形式传递,返回的是元组</span><br><span class="line">def print_arg(a,b,c):</span><br><span class="line">    &quot;print args&quot;</span><br><span class="line">    print(a,b,c)</span><br><span class="line">args = (1,2,3)</span><br><span class="line">print_arg(*args)</span><br><span class="line"></span><br><span class="line">//解包裹,以关键字形式传递,返回的是元组</span><br><span class="line">def print_arg(a,b,c):</span><br><span class="line">    &quot;print args&quot;</span><br><span class="line">    print(a,b,c)</span><br><span class="line">args = &#123;&quot;a&quot;:1,&quot;b&quot;:2,&quot;c&quot;:3&#125;</span><br><span class="line">print_arg(**args)</span><br><span class="line"></span><br><span class="line">综上,解包裹用于函数调用,它们的先后顺序为: 位置 -&gt; 关键字 -&gt; 解包裹位置 -&gt; 解包裹关键字</span><br></pre></td></tr></table></figure>
<h4 id="3-递归"><a href="#3-递归" class="headerlink" title="3.递归"></a>3.递归</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1. 递归是什么</span><br><span class="line">递归是函数调用其自身的操作.为了防止计算机陷入死循环,递归要求程序有一个能够达到的终止条件</span><br><span class="line">递归源自数学归纳法.数学归纳法是一种书序证明方法,常用于证明命题在自然数范围之内成立</span><br><span class="line"></span><br><span class="line">2. 函数栈</span><br><span class="line">程序中的递归用到栈,栈是数据结构的一种,可以有序的存储数据</span><br><span class="line">栈最显著的特征是: 后进先出</span><br><span class="line">栈是由多个帧组成,栈只支持&apos;pop&apos;和&apos;push&apos;(&apos;pop&apos;用于取出栈顶元素;&apos;push&apos;用于推入栈顶元素)</span><br><span class="line">所以,程序运行中,可以看做是一个先增长栈后消灭栈的过程</span><br><span class="line"></span><br><span class="line">3. 变量作用域</span><br><span class="line">* 函数内部可以创建新的变量</span><br><span class="line">* 函数内部可以看到函数外部已经存在的变量</span><br><span class="line">* 函数内部对A变量操作,不会影响到函数外部变量A</span><br><span class="line">* 函数的参数与函数的内部变量类似,我们可以把参数理解为函数内部的变量</span><br></pre></td></tr></table></figure>
<h4 id="4-模块"><a href="#4-模块" class="headerlink" title="4.模块"></a>4.模块</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1. 引入模块</span><br><span class="line">在python中,一个&quot;.py&quot;文件就是一个模块.通过模块,你可以调用其文件中的函数</span><br><span class="line">引起模块(import),就是为了在新的程序中重复使用已有的python程序</span><br><span class="line">模块是比函数更高一层的封装.把常见的功能编写到模块,方便未来使用,这些模块就是所谓的库</span><br><span class="line"></span><br><span class="line">引入模块方法: import 和 from ... import ...</span><br><span class="line"></span><br><span class="line">2. 搜索路径</span><br><span class="line">在引入模块时,如果库文件和应用文件在同一目录下,python会自动在当前文件夹搜索;如果在当前文件夹下搜索不到,会到标准库的安装路径和操作系统环境变量PYTHONPATH指定的路径下寻找</span><br><span class="line"></span><br><span class="line">//查看当前模块路径</span><br><span class="line">&gt;&gt;&gt; import sys</span><br><span class="line">&gt;&gt;&gt; print(sys.path)</span><br><span class="line"></span><br><span class="line">//添加模块路径</span><br><span class="line">export PYTHONPATH=/path/to/pylib:$PYTHONPATH</span><br></pre></td></tr></table></figure>
<h4 id="5-异常处理"><a href="#5-异常处理" class="headerlink" title="5.异常处理"></a>5.异常处理</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">1. 异常种类</span><br><span class="line">* 只有在代码执行时才出现的错误称为运行时错误</span><br><span class="line">* 语义错误,也是最难排查的错误</span><br><span class="line"></span><br><span class="line">2. 异常处理</span><br><span class="line">异常处理可以提高程序的容错性</span><br><span class="line"></span><br><span class="line">异常处理格式:</span><br><span class="line">try:</span><br><span class="line">    ...</span><br><span class="line">except excepation1:</span><br><span class="line">    ...</span><br><span class="line">except excepation2:</span><br><span class="line">    ...</span><br><span class="line">else:</span><br><span class="line">    ...</span><br><span class="line">finally:</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">    ...</span><br><span class="line">except Exception as e:</span><br><span class="line">    print e</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">使用raise关键字,我们在程序中主动抛出异常</span><br><span class="line">def functionName( level ):</span><br><span class="line">    if level &lt; 1:</span><br><span class="line">        raise Exception(&quot;Invalid level!&quot;, level)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/04/10/python-过程编程/" data-id="cjavy9k5500960coq04a1tepx" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-zabbix-java-gateway" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/31/zabbix-java-gateway/" class="article-date">
  <time datetime="2017-03-31T09:41:02.000Z" itemprop="datePublished">2017-03-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Monitor/">Monitor</a>►<a class="article-category-link" href="/categories/Monitor/zabbix/">zabbix</a>►<a class="article-category-link" href="/categories/Monitor/zabbix/zabbix-java-gateway/">zabbix java gateway</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/31/zabbix-java-gateway/">zabbix java gateway</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="zabbix-java-gateway"><a href="#zabbix-java-gateway" class="headerlink" title="zabbix java gateway"></a>zabbix java gateway</h3><ol>
<li><p>修改配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@101 ~]<span class="comment"># yum -y install zabbix-java-gateway</span></span><br><span class="line"></span><br><span class="line">[root@101 ~]<span class="comment"># cat &gt; /etc/zabbix/zabbix_java_gateway.conf &lt;&lt;EOF</span></span><br><span class="line">&gt; LISTEN_IP=<span class="string">"0.0.0.0"</span></span><br><span class="line">&gt; LISTEN_PORT=10052</span><br><span class="line">&gt; PID_FILE=<span class="string">"/var/run/zabbix/zabbix_java.pid"</span></span><br><span class="line">&gt; START_POLLERS=20</span><br><span class="line">&gt; TIMEOUT=3</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">[root@101 ~]<span class="comment"># cat &gt;&gt; /etc/zabbix/zabbix_server.conf &lt;EOF</span></span><br><span class="line">&gt; JavaGateway=10.0.1.89</span><br><span class="line">&gt; JavaGatewayPort=10052</span><br><span class="line">&gt; StartJavaPollers=10</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">[root@101 ~]<span class="comment"># systemctl start zabbix-java-gateway</span></span><br><span class="line">[root@101 ~]<span class="comment"># systemctl enable zabbix-java-gateway</span></span><br><span class="line"></span><br><span class="line">[root@101 ~]<span class="comment"># systemctl restart zabbix-server</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>download</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Download:  http://archive.apache.org/dist/tomcat/tomcat-7/v7.0.63/bin/extras/catalina-jmx-remote.jar</span><br><span class="line"></span><br><span class="line">[root@101 ~]<span class="comment"># ls -l /usr/share/zabbix-java-gateway/lib/catalina-jmx-remote.jar</span></span><br><span class="line">-rw-r--r-- 1 root root 12997 Mar 31 18:23 /usr/share/zabbix-java-gateway/lib/catalina-jmx-remote.jar</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/31/zabbix-java-gateway/" data-id="cjavy9k8e00bv0coqr0l4cvte" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-disk-io-performance" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/30/disk-io-performance/" class="article-date">
  <time datetime="2017-03-30T01:40:23.000Z" itemprop="datePublished">2017-03-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Disk/">Disk</a>►<a class="article-category-link" href="/categories/Disk/disk-io-performance/">disk io performance</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/30/disk-io-performance/">disk io performance</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="hdparm-测试"><a href="#hdparm-测试" class="headerlink" title="hdparm 测试"></a>hdparm 测试</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//测试硬盘缓存读取速度和读取速度</span><br><span class="line">[root@10 mnt]<span class="comment"># hdparm -Tt /dev/vdb</span></span><br><span class="line">/dev/vdb:</span><br><span class="line"> Timing cached reads:   16760 MB <span class="keyword">in</span>  2.00 seconds = 8389.10 MB/sec</span><br><span class="line"> Timing buffered disk reads: 388 MB <span class="keyword">in</span>  3.00 seconds = 129.32 MB/sec</span><br><span class="line"></span><br><span class="line">2秒钟读取了16760MB的缓存,约合8389.10 MB/sec;</span><br><span class="line">在3.00秒中读取了388MB磁盘(物理读),读取速度约合129.32 MB/sec</span><br><span class="line"></span><br><span class="line">-t 评估硬盘的读取效率</span><br><span class="line">-T 评估硬盘快取的读取效率</span><br></pre></td></tr></table></figure>
<h3 id="dd测试"><a href="#dd测试" class="headerlink" title="dd测试"></a>dd测试</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">在使用前首先了解两个特殊设备</span><br><span class="line">/dev/null 伪设备,回收站.写该文件不会产生IO</span><br><span class="line">/dev/zero 伪设备,会产生空字符流,对它不会产生IO</span><br><span class="line"></span><br><span class="line">//测试磁盘的IO写速度</span><br><span class="line">1.没加关于操作系统<span class="string">"写缓存"</span>的参数,默认<span class="string">"写缓存"</span>启作用</span><br><span class="line">[root@10 ops]<span class="comment"># time dd if=/dev/zero of=./test.dbf bs=8k count=300000</span></span><br><span class="line">300000+0 records <span class="keyword">in</span></span><br><span class="line">300000+0 records out</span><br><span class="line">2457600000 bytes (2.5 GB) copied, 5.97005 s, 412 MB/s</span><br><span class="line"></span><br><span class="line">real    0m5.972s</span><br><span class="line">user    0m0.050s</span><br><span class="line">sys     0m2.464s</span><br><span class="line"></span><br><span class="line">dd先把数据写的操作系统<span class="string">"写缓存"</span>,就完成了写操作.通常称为update的系统守护进程会周期性地(一般每隔30秒)调用sync函数,把<span class="string">"写缓存"</span>中的数据刷入磁盘.因为<span class="string">"写缓存"</span>起作用,你会测试出一个超级快的性能</span><br><span class="line"></span><br><span class="line">2. 明确<span class="string">"写缓存"</span>启作用,conv=sync</span><br><span class="line">[root@10 ops]<span class="comment"># time dd if=/dev/zero of=./test.dbf bs=8k count=300000 conv=sync</span></span><br><span class="line">300000+0 records <span class="keyword">in</span></span><br><span class="line">300000+0 records out</span><br><span class="line">2457600000 bytes (2.5 GB) copied, 6.03335 s, 407 MB/s</span><br><span class="line"></span><br><span class="line">real    0m6.035s</span><br><span class="line">user    0m0.077s</span><br><span class="line">sys     0m2.479s</span><br><span class="line"></span><br><span class="line">conv=sync参数明确<span class="string">"写缓存"</span>启作用,默认值就是conv=sync</span><br><span class="line"></span><br><span class="line">3.明确<span class="string">"写缓存"</span>启作用,conv=fsync</span><br><span class="line">[root@10 ops]<span class="comment"># time dd if=/dev/zero of=./test.dbf bs=8k count=300000 conv=fsync</span></span><br><span class="line">300000+0 records <span class="keyword">in</span></span><br><span class="line">300000+0 records out</span><br><span class="line">2457600000 bytes (2.5 GB) copied, 9.83308 s, 250 MB/s</span><br><span class="line"></span><br><span class="line">real    0m9.835s</span><br><span class="line">user    0m0.058s</span><br><span class="line">sys     0m2.625s</span><br><span class="line"></span><br><span class="line">在9.835s里生成了一个2.5 GB文件,IO的写速度在250 MB/s</span><br><span class="line">dd命令执行到最后会真正执行一次<span class="string">"同步(sync)"</span>操作,这样算出来的时间才是比较符合实际使用结果的</span><br><span class="line">conv=fsync 表示把文件的<span class="string">"数据"</span>和<span class="string">"metadata"</span>都写入磁盘(metadata包括size,访问时间st_atime &amp; st_mtime等等),因为文件的数据和metadata通常存在硬盘的不同地方,因此fsync至少需要两次IO写操作</span><br><span class="line"></span><br><span class="line">4.明确<span class="string">"写缓存"</span>启作用,conv=fdatasync</span><br><span class="line">[root@10 ops]<span class="comment"># time dd if=/dev/zero of=./test.dbf bs=8k count=300000 conv=fdatasync</span></span><br><span class="line">300000+0 records <span class="keyword">in</span></span><br><span class="line">300000+0 records out</span><br><span class="line">2457600000 bytes (2.5 GB) copied, 9.88476 s, 249 MB/s</span><br><span class="line"></span><br><span class="line">real    0m9.887s</span><br><span class="line">user    0m0.062s</span><br><span class="line">sys     0m2.684s</span><br><span class="line"></span><br><span class="line">conv=fdatasync表示只把文件的<span class="string">"数据"</span>写入磁盘,fsync与fdatasync相差不大</span><br><span class="line"></span><br><span class="line">5.明确<span class="string">"写缓存"</span>启作用,oflag=dsync</span><br><span class="line">[root@10 ops]<span class="comment"># time dd if=/dev/zero of=./test.dbf bs=8k count=300000 oflag=dsync</span></span><br><span class="line">300000+0 records <span class="keyword">in</span></span><br><span class="line">300000+0 records out</span><br><span class="line">2457600000 bytes (2.5 GB) copied, 371.456 s, 6.6 MB/s</span><br><span class="line"></span><br><span class="line">real    6m11.458s</span><br><span class="line">user    0m0.755s</span><br><span class="line">sys     0m36.006s</span><br><span class="line">oflag=dsync加入这个参数后,每次读取8k后就要先把这8k写入磁盘,然后再读取下面一个8k,一共重复300K次.这是最慢的一种方式</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//测试磁盘IO读速度</span><br><span class="line">[root@10 ops]<span class="comment"># time dd if=/mnt/ops/test.dbf  of=/dev/null bs=8k   </span></span><br><span class="line">3000000+0 records <span class="keyword">in</span></span><br><span class="line">3000000+0 records out</span><br><span class="line">24576000000 bytes (25 GB) copied, 91.6083 s, 268 MB/s</span><br><span class="line"></span><br><span class="line">real    1m31.611s</span><br><span class="line">user    0m0.484s</span><br><span class="line">sys     0m15.326s</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//测试磁盘IO读写性能</span><br><span class="line">[root@10 ops]<span class="comment"># time dd if=/dev/vdb of=./test.dbf bs=8k count=3000000 conv=fsync</span></span><br><span class="line">3000000+0 records <span class="keyword">in</span></span><br><span class="line">3000000+0 records out</span><br><span class="line">24576000000 bytes (25 GB) copied, 278.723 s, 88.2 MB/s</span><br><span class="line"></span><br><span class="line">real    4m38.726s</span><br><span class="line">user    0m1.039s</span><br><span class="line">sys     1m12.445s</span><br><span class="line"></span><br><span class="line">[root@10 ops]<span class="comment"># time dd if=/dev/vdb of=./test.dbf bs=8k count=3000000</span></span><br><span class="line">3000000+0 records <span class="keyword">in</span></span><br><span class="line">3000000+0 records out</span><br><span class="line">24576000000 bytes (25 GB) copied, 274.808 s, 89.4 MB/s</span><br><span class="line"></span><br><span class="line">real    4m35.634s</span><br><span class="line">user    0m1.040s</span><br><span class="line">sys     1m13.122s</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/30/disk-io-performance/" data-id="cjavy9jv0001r0coqhnn6pdmt" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-command-linux" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/29/command-linux/" class="article-date">
  <time datetime="2017-03-29T09:48:26.000Z" itemprop="datePublished">2017-03-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/system-service/">system service</a>►<a class="article-category-link" href="/categories/system-service/command/">command</a>►<a class="article-category-link" href="/categories/system-service/command/linux/">linux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/29/command-linux/">command linux</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="linux-shell-加减乘除"><a href="#linux-shell-加减乘除" class="headerlink" title="linux shell 加减乘除"></a>linux shell 加减乘除</h3><ol>
<li><p>bc</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">bc是比较常用的linux计算工具了，而且支持浮点运算：</span><br><span class="line"></span><br><span class="line">[root@localhost]$ a=`<span class="built_in">echo</span> 1+1 | bc`</span><br><span class="line">[root@localhost]$ <span class="built_in">echo</span> <span class="variable">$a</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">但是浮点数运算的精度问题，暂时还没明白什么情况：</span><br><span class="line"></span><br><span class="line">[root@localhost]$ b=`<span class="built_in">echo</span> <span class="string">"1.2*1.2"</span> | bc`</span><br><span class="line">[root@localhost]$ <span class="built_in">echo</span> <span class="variable">$b</span></span><br><span class="line">1.4</span><br><span class="line">[root@localhost]$ c=`<span class="built_in">echo</span> <span class="string">"5.0/3.0"</span> | bc`</span><br><span class="line">[root@localhost]$ <span class="built_in">echo</span> <span class="variable">$c</span></span><br><span class="line">1</span><br><span class="line">[root@localhost]$ d=`<span class="built_in">echo</span> <span class="string">"scale=2;5.0/3.0"</span> | bc`</span><br><span class="line">[root@localhost]$ <span class="built_in">echo</span> <span class="variable">$d</span></span><br><span class="line">1.66</span><br><span class="line">[root@localhost]$ e=`<span class="built_in">echo</span> <span class="string">"scale=2;5.0/6.0"</span> | bc`</span><br><span class="line">[root@localhost]$ <span class="built_in">echo</span> <span class="variable">$e</span></span><br><span class="line">.83</span><br><span class="line">尤其最后一个，这到底什么鬼，小数点前的那个0跑哪里去了。。。</span><br></pre></td></tr></table></figure>
</li>
<li><p>expr</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">不支持浮点数计算。这又是个大坑.而且要注意数字与运算符中的空格</span><br><span class="line"></span><br><span class="line">[root@localhost]$ a=`expr 1+1`</span><br><span class="line">[root@localhost]$ <span class="built_in">echo</span> <span class="variable">$a</span></span><br><span class="line">1+1</span><br><span class="line">[root@localhost]$ a=`expr 1 + 1`</span><br><span class="line">[root@localhost]$ <span class="built_in">echo</span> <span class="variable">$a</span></span><br><span class="line">2</span><br><span class="line">[root@localhost]$ b=`expr 10 / 2`</span><br><span class="line">[root@localhost]$ <span class="built_in">echo</span> <span class="variable">$b</span></span><br><span class="line">5</span><br></pre></td></tr></table></figure>
</li>
<li><p>$(())</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">同expr，不支持浮点数运算</span><br><span class="line"></span><br><span class="line">[root@localhost]$ a=$((1+1))</span><br><span class="line">[root@localhost]$ <span class="built_in">echo</span> <span class="variable">$a</span></span><br><span class="line">2</span><br><span class="line">[root@localhost]$ b=$((1 + 3 ))</span><br><span class="line">[root@localhost]$ <span class="built_in">echo</span> <span class="variable">$b</span></span><br><span class="line">4</span><br></pre></td></tr></table></figure>
</li>
<li><p>let</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">不支持浮点数运算，而且不支持直接输出，只能赋值</span><br><span class="line"></span><br><span class="line">[root@localhost]$ <span class="built_in">let</span> a=1+1</span><br><span class="line">[root@localhost]$ <span class="built_in">echo</span> <span class="variable">$a</span></span><br><span class="line">2</span><br><span class="line">[root@localhost]$ <span class="built_in">let</span> b=50/5</span><br><span class="line">[root@localhost]$ <span class="built_in">echo</span> <span class="variable">$b</span></span><br><span class="line">10</span><br><span class="line">[root@localhost]$ <span class="built_in">let</span> c=1.2*2</span><br><span class="line">-bash: <span class="built_in">let</span>: c=1.2*2: syntax error: invalid arithmetic operator (error token is <span class="string">".2*2"</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>awk</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">普通的运算：</span><br><span class="line"></span><br><span class="line">[root@localhost]$ a=`<span class="built_in">echo</span> | awk <span class="string">'&#123;print 1.0/2.0&#125;'</span>`</span><br><span class="line">[root@localhost]$ <span class="built_in">echo</span> <span class="variable">$a</span></span><br><span class="line">0.5</span><br><span class="line">控制精度：</span><br><span class="line"></span><br><span class="line">[root@localhost]$ b=`<span class="built_in">echo</span> | awk <span class="string">'&#123;printf("%.2f",1.0/2.0)&#125;'</span>`</span><br><span class="line">[root@localhost]$ <span class="built_in">echo</span> <span class="variable">$b</span></span><br><span class="line">0.50</span><br><span class="line">传递参数：</span><br><span class="line"></span><br><span class="line">[root@localhost]$ c=`<span class="built_in">echo</span> | awk -v a=1 -v b=3 <span class="string">'&#123;printf("%.4f",a/b)&#125;'</span>`</span><br><span class="line">[root@localhost]$ <span class="built_in">echo</span> <span class="variable">$c</span></span><br><span class="line">0.3333</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/29/command-linux/" data-id="cjavy9juh001a0coqsw4c59kv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-kvm-install" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/23/kvm-install/" class="article-date">
  <time datetime="2017-03-23T06:52:43.000Z" itemprop="datePublished">2017-03-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/automation/">automation</a>►<a class="article-category-link" href="/categories/automation/kvm/">kvm</a>►<a class="article-category-link" href="/categories/automation/kvm/kvm-install/">kvm install</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/23/kvm-install/">kvm install</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="kvm-install"><a href="#kvm-install" class="headerlink" title="kvm install"></a>kvm install</h3><ol>
<li><p>查看CPU是否支持svm和vmx</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost app]<span class="comment"># egrep "svm|vmx" /proc/cpuinfo</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>安装依赖软件包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost app]<span class="comment"># yum -y install qemu-kvm libvirt libvirt-python libguestfs-tools virt-install</span></span><br><span class="line">[root@localhost app]<span class="comment"># systemctl start libvirtd</span></span><br><span class="line">[root@localhost app]<span class="comment"># systemctl enable libvirtd</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>kvm检查</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//检查kvm模块是否安装</span><br><span class="line">[root@localhost app]<span class="comment">#  lsmod | grep kvm</span></span><br><span class="line">kvm_intel              53484  0</span><br><span class="line">kvm                   316506  1 kvm_intel</span><br><span class="line"></span><br><span class="line">//检查kvm是否安装成功</span><br><span class="line">[root@localhost app]<span class="comment"># virsh list --all</span></span><br><span class="line"></span><br><span class="line">//查看版本</span><br><span class="line">[root@localhost app]<span class="comment"># kvm --version</span></span><br><span class="line">[root@localhost app]<span class="comment"># virt-install --version</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh --version</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>kvm网络配置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost app]<span class="comment"># vim /etc/sysconfig/network-scripts/ifcfg-em1</span></span><br><span class="line">BRIDGE=br0</span><br><span class="line"></span><br><span class="line">[root@localhost app]<span class="comment"># vim /etc/sysconfig/network-scripts/ifcfg-br0</span></span><br><span class="line">DEVICE=<span class="string">"br0"</span></span><br><span class="line">BOOTPROTO=<span class="string">"dhcp"</span></span><br><span class="line">IPV6INIT=<span class="string">"yes"</span></span><br><span class="line">IPV6_AUTOCONF=<span class="string">"yes"</span></span><br><span class="line">ONBOOT=<span class="string">"yes"</span></span><br><span class="line">TYPE=<span class="string">"Bridge"</span></span><br><span class="line">DELAY=<span class="string">"0"</span></span><br><span class="line"></span><br><span class="line">[root@localhost app]<span class="comment"># echo "net.ipv4.ip_forward = 1" | tee -a /etc/sysctl.conf</span></span><br><span class="line">[root@localhost app]<span class="comment"># sysctl -p</span></span><br><span class="line"></span><br><span class="line">[root@localhost app]<span class="comment"># systemctl restart NetworkManager</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>创建vm</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost app]<span class="comment"># virt-install \</span></span><br><span class="line">--network bridge:br0 \</span><br><span class="line">--name vm1 \</span><br><span class="line">--ram=1024 \</span><br><span class="line">--vcpus=1 \</span><br><span class="line">--disk path=/vm-images/vm1.img,size=10 \</span><br><span class="line">--graphics none \</span><br><span class="line">--location=http://my.server.com/pub/rhel7/install-x86_64/ \</span><br><span class="line">--extra-args=<span class="string">"console=tty0 console=ttyS0,115200"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>克隆vm</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost app]<span class="comment"># virsh suspend vm1</span></span><br><span class="line">[root@localhost app]<span class="comment"># virt-clone \</span></span><br><span class="line">--connect qemu:///system \</span><br><span class="line">--original vm1 \</span><br><span class="line">--name vm1-clone \</span><br><span class="line">--file /vm-images/vm1-clone.img</span><br><span class="line">[root@localhost app]<span class="comment"># virsh resume vm1</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh start vm1-clone</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>manage vm</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost app]<span class="comment"># virsh list --all</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh dominfo vm1</span></span><br><span class="line">[root@localhost app]<span class="comment"># virt-top</span></span><br><span class="line">[root@localhost app]<span class="comment"># virt-df vm1</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh shutdown vm1</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh start vm1</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh autostart vm1</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh autostart –disable vm1</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh console vm1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>attaching storage device to a vm</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost app]<span class="comment"># virsh attach-disk vm1 /dev/sdb vdb --driver qemu --mode shareable</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh detach-disk vm1 vdb</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>set memory</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost app]<span class="comment"># virsh dominfo vm1 | grep memory</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh setmem vm1 524288</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh dominfo vm1 | grep memory</span></span><br><span class="line"></span><br><span class="line">or</span><br><span class="line">[root@localhost app]<span class="comment"># virsh shutdown vm1</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh edit vm1</span></span><br><span class="line">&lt;memory&gt;2097152&lt;/memory&gt;</span><br><span class="line">[root@localhost app]<span class="comment"># virsh create /etc/libvirt/qemu/vm1.xml</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh dominfo vm1 | grep memory</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh setmem vm1 2097152</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh dominfo vm1 | grep memory</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>set vcpu</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost app]<span class="comment"># virsh shutdown vm1</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh edit vm1</span></span><br><span class="line">&lt;vcpu&gt;2&lt;/vcpu&gt;</span><br><span class="line">[root@localhost app]<span class="comment"># virsh create /etc/libvirt/qemu/vm1.xml</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Disk capacity</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost app]<span class="comment"># dd if=/dev/zero of=/vm-images/vm1-add.img bs=1M count=10240</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh shutdown vm1</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh edit vm1</span></span><br><span class="line">&lt;disk <span class="built_in">type</span>=<span class="string">'file'</span> device=<span class="string">'disk'</span>&gt;</span><br><span class="line">&lt;driver name=<span class="string">'qemu'</span> <span class="built_in">type</span>=<span class="string">'raw'</span> cache=<span class="string">'none'</span> io=<span class="string">'threads'</span>/&gt;</span><br><span class="line">&lt;<span class="built_in">source</span> file=<span class="string">'/vm-images/vm1.img'</span>/&gt;</span><br><span class="line">&lt;target dev=<span class="string">'vda'</span> bus=<span class="string">'virtio'</span>/&gt;</span><br><span class="line">&lt;address <span class="built_in">type</span>=<span class="string">'pci'</span> domain=<span class="string">'0x0000'</span> bus=<span class="string">'0x00'</span> slot=<span class="string">'0x04'</span></span><br><span class="line"><span class="keyword">function</span>=<span class="string">'0x0'</span>/&gt;</span><br><span class="line">&lt;/disk&gt;</span><br><span class="line">&lt;disk <span class="built_in">type</span>=<span class="string">'file'</span> device=<span class="string">'disk'</span>&gt;</span><br><span class="line">&lt;driver name=<span class="string">'qemu'</span> <span class="built_in">type</span>=<span class="string">'raw'</span> cache=<span class="string">'none'</span> io=<span class="string">'threads'</span>/&gt;</span><br><span class="line">&lt;<span class="built_in">source</span> file=<span class="string">'/vm-images/vm1-add.img'</span>/&gt;</span><br><span class="line">&lt;target dev=<span class="string">'vdb'</span> bus=<span class="string">'virtio'</span>/&gt;</span><br><span class="line">&lt;address <span class="built_in">type</span>=<span class="string">'pci'</span> domain=<span class="string">'0x0000'</span> bus=<span class="string">'0x00'</span> slot=<span class="string">'0x06'</span></span><br><span class="line"><span class="keyword">function</span>=<span class="string">'0x0'</span>/&gt;</span><br><span class="line">&lt;/disk&gt;</span><br><span class="line">[root@localhost app]<span class="comment"># virsh create /etc/libvirt/qemu/vm1.xml</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Deleting VMs</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost app]<span class="comment"># virsh shutdown vm1-clone</span></span><br><span class="line">[root@localhost app]<span class="comment"># virsh destroy vm1-clone</span></span><br><span class="line"></span><br><span class="line">[root@localhost app]<span class="comment"># virsh undefine vm1-clone</span></span><br><span class="line">[root@localhost app]<span class="comment"># rm /vm-images/vm1-clone.img</span></span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/23/kvm-install/" data-id="cjavy9jz200580coqoe0kzvc6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-glusterfs-workflow" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/23/glusterfs-workflow/" class="article-date">
  <time datetime="2017-03-23T06:42:29.000Z" itemprop="datePublished">2017-03-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Distributed-storage/">Distributed storage</a>►<a class="article-category-link" href="/categories/Distributed-storage/GlusterFS/">GlusterFS</a>►<a class="article-category-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-workflow/">GlusterFS workflow</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/23/glusterfs-workflow/">glusterfs workflow</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="GlusterFS-工作机制"><a href="#GlusterFS-工作机制" class="headerlink" title="GlusterFS 工作机制"></a>GlusterFS 工作机制</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. 当在一个主机上安装了GlusterFS服务后,会自动创建一个gluster management后台进程.这个进程需要在存储集群中的每个节点上运行.</span><br><span class="line">2. 在启动glusterd进程后,接需来需要创建一个包含了全部存储节点主机的可信任主机池(TSP)</span><br><span class="line">3. 现在,可以在每个存储主机节点上开始创建存储块bricks了.我们可以把来自TSP的bricks按照一定规则形成我们需要的逻辑存储卷</span><br><span class="line">4. 在创建了逻辑存储卷后,在每个被纳入到逻辑卷中的brick节点上都会启动一个glusterfsd进程.同时,在/var/lib/glusterd/vols目录下会生成相关的配置文件(vol files),这些配置文件中包含关于当前brick在逻辑卷中的详细描述信息.此外还会在该路径下创建一个客户端进程需要使用到的配置文件.到此为止.我们的逻辑卷已经可以挂接使用了(mount.glusterfs &lt;IP or hostname&gt;:&lt;volume_name&gt; &lt;mount_point&gt;)</span><br><span class="line">5. 当我们在一个客户机上挂接了逻辑卷后,客户机上的glusterfs进程开始与服务端的glusterd进程通信.Glusterd服务端进程向客户机发送一个配置文件(vol file),配置文件中包含了客户机端需要使用的转换器列表信息和逻辑卷中每个brick的信息</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/23/glusterfs-workflow/" data-id="cjavy9jwo003h0coq40faw78h" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-glusterfs-architecture" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/23/glusterfs-architecture/" class="article-date">
  <time datetime="2017-03-23T05:34:37.000Z" itemprop="datePublished">2017-03-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Distributed-storage/">Distributed storage</a>►<a class="article-category-link" href="/categories/Distributed-storage/GlusterFS/">GlusterFS</a>►<a class="article-category-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-architecture/">GlusterFS architecture</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/23/glusterfs-architecture/">glusterfs architecture</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="GlusterFS-体系结构"><a href="#GlusterFS-体系结构" class="headerlink" title="GlusterFS 体系结构"></a>GlusterFS 体系结构</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在GlusterFS中逻辑卷(volume)是一组存储块(bricks)的集合,GlusterFS可以支持多种类型的逻辑卷,以实现不同的数据保护级别和存取性能</span><br></pre></td></tr></table></figure>
<ol>
<li><p>分布存储卷(Distributed Glusterfs Volume)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">分布存储是Glusterfs默认使用的存储卷类型.文件会被分布得存储到逻辑卷中的各个存储块上去.以两个存储块的逻辑卷为例,文件file1可能被存放在brick1或brick2中,但不会在每个块中都存一份.分布存储不提供数据冗余保护.</span><br><span class="line"></span><br><span class="line">创建分布存储的命令格式为:</span><br><span class="line">gluster volume create NEW-VOLNAME [transport [tcp | rdma | tcp,rdma]] NEW-BRICK...</span><br><span class="line"></span><br><span class="line">样例:</span><br><span class="line">gluster volume create test-volume server1:/exp1 server2:/exp2 server3:/exp3 server4:/exp4</span><br></pre></td></tr></table></figure>
</li>
<li><p>镜像存储卷(Replicated Glusterfs Volume)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">在镜像存储逻辑卷中,数据至少会在不同的brick上被存储两份,具体采取存储几份的冗余数据则可以在创建镜像存储卷时予以设定.镜像存储可以有效得预防存储块损坏可能引发的数据丢失的风险.</span><br><span class="line"></span><br><span class="line">创建镜像存储的命令格式为:</span><br><span class="line">gluster volume create NEW-VOLNAME [replica COUNT] [transport [tcp | rdma | tcp,rdma]] NEW-BRICK...</span><br><span class="line"></span><br><span class="line">样例:</span><br><span class="line">gluster volume create test-volume replica 2 transport tcp server1:/exp1 server2:/exp2</span><br><span class="line"></span><br><span class="line">关于镜像存储卷的仲裁盘配置：</span><br><span class="line">gluster volume create &lt;VOLNAME&gt; replica 3 arbiter 1 host1:brick1 host2:brick2 host3:brick3</span><br><span class="line"></span><br><span class="line">在镜像存储卷中使用一个独立的bricks作为仲裁盘,是为了避免发生脑裂后无法认定数据一致性的问题.</span><br><span class="line">注:对于任何涉及到镜像存储的逻辑卷,在创建时都不能把同一个主机节点上的两个brick设置到同一组镜像复制关系中.即使尝试这样做,也会创建失败.</span><br></pre></td></tr></table></figure>
</li>
<li><p>分片式存储卷(Striped Glusterfs Volume)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">在分片式存储卷中,一个文件会被切分成多份,数量等于brick的数量,然后每个brick中存一份.这种方式不提供数据冗余保护</span><br><span class="line"></span><br><span class="line">创建分片式存储的命令格式为:</span><br><span class="line">gluster volume create NEW-VOLNAME [stripe COUNT] [transport [tcp | dma | tcp,rdma]] NEW-BRICK...</span><br><span class="line"></span><br><span class="line">样例：</span><br><span class="line">gluster volume create test-volume stripe 2 transport tcp server1:/exp1 server2:/exp2</span><br></pre></td></tr></table></figure>
</li>
<li><p>分布式镜像存储卷(Distributed Replicated Glusterfs Volume)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">在这种逻辑卷中,文件是跨镜像存储块的集合(replicated sets of bricks)进行分布式存储的,即文件可能被存储在某一个镜像存储块集合中,但不会同时存储到多个集合.而在一个镜像存储块的集合内,文件是在每个存储块(brick)上各存一份.在我们使用命令创建分布式镜像存储卷时,需要特别注意在设定需要加入逻辑卷中的brick时,每个brick的顺序会决定它与哪一个brick结成镜像复制的关系.Brick会按照从前至后,选择与自己邻近的brick结成镜像复制的关系.例如:我们有8个bricks,设置的数据复制份数为2,那么前两个brick就会成为互为镜像的关系,紧接着的后两个结为镜像关系,以此类推</span><br><span class="line"></span><br><span class="line">创建分布式镜像存储的命令格式为：</span><br><span class="line">gluster volume create NEW-VOLNAME [replica COUNT] [transport [tcp | rdma | tcp,rdma]] NEW-BRICK...</span><br><span class="line"></span><br><span class="line">样例：</span><br><span class="line">gluster volume create test-volume replica 2 transport tcp server1:/exp1 server2:/exp2 server3:/exp3 server4:/exp4</span><br><span class="line"></span><br><span class="line">我们可以看到,镜像存储逻辑卷和分布式镜像存储逻辑卷,它们的创建命令是相同的.不同点在于,在设定数据复制份数和指定加入到卷中的bricks时,如果刚好只够一个镜像存储块集合则是镜像存储卷,如果可以组成多个镜像存储块集合,那么自然就成为分布式镜像存储卷</span><br></pre></td></tr></table></figure>
</li>
<li><p>分布式分片存储卷(Distributed Striped Glusterfs Volume)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">这种方式实际上是在分片式存储卷的基础上做的扩展,即根据你设定的分片参数(一个文件分成几片)和你为逻辑卷加入的bricks数量可以组成多个分片存储块集合时,自然就成为了分布式分片存储卷.每个分片存储块集合中存储的的数据是不同的.</span><br><span class="line"></span><br><span class="line">创建分布式分片存储的命令格式为：</span><br><span class="line">gluster volume create NEW-VOLNAME [stripe COUNT] [transport [tcp | rdma | tcp,rdma]] NEW-BRICK...</span><br><span class="line"></span><br><span class="line">样例:</span><br><span class="line">gluster volume create test-volume stripe 4 transport tcp  server1:/exp1 server2:/exp2 server3:/exp3 server4:/exp4 server5:/exp5 server6:/exp6 server7:/exp7 server8:/exp8</span><br></pre></td></tr></table></figure>
</li>
<li><p>分布式分片及镜像复制存储卷(Distributed Striped Replicated Volume)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">这种方式创建的存储卷会将数据分片后,分布式地跨多个镜像bricks集合来存储.用途为解决大数据的,高并发的,性能敏感的数据存储和使用场景,例如Map Reduce负载.</span><br><span class="line"></span><br><span class="line">样例:</span><br><span class="line">gluster volume create test-volume stripe 2 replica 2 transport tcp server1:/exp1 server2:/exp2 server3:/exp3 server4:/exp4 server5:/exp5 server6:/exp6 server7:/exp7 server8:/exp8</span><br></pre></td></tr></table></figure>
</li>
<li><p>分片及镜像复制存储卷(Striped Replicated Volume)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gluster volume create test-volume stripe 2 replica 2 transport tcp server1:/exp1 server2:/exp2 server3:/exp3 server4:/exp4</span><br><span class="line">or：</span><br><span class="line">gluster volume create test-volume stripe 3 replica 2 transport tcp server1:/exp1 server2:/exp2 server3:/exp3 server4:/exp4 server5:/exp5 server6:/exp6</span><br><span class="line"></span><br><span class="line">同样地,分片及镜像复制存储卷也是用于处理大数据的,高并发的,性能敏感的业务数据.目前看,这种存储卷仅适合用于Map Reduce负载</span><br></pre></td></tr></table></figure>
</li>
<li><p>关于离散存储卷(Dispersed Volume)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">离散存储卷是基于一种前向纠错码技术来实现的,它会对存储进来的数据进行切分,然后附加一些部分冗余的纠错码.这种类型的存储卷要以在实现可接受的数据可靠性的条件下,最大化得避免空间的浪费.</span><br><span class="line"></span><br><span class="line">gluster volume create test-volume disperse 4 server&#123;1..4&#125;:/bricks/test-volume</span><br><span class="line">or:</span><br><span class="line">gluster volume create test-volume disperse 6 server&#123;1..6&#125;:/bricks/test-volume</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/23/glusterfs-architecture/" data-id="cjavy9jwg003b0coqibv0dzyy" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-nsq-command" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/23/nsq-command/" class="article-date">
  <time datetime="2017-03-23T04:29:12.000Z" itemprop="datePublished">2017-03-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/hadoop/">hadoop</a>►<a class="article-category-link" href="/categories/hadoop/nsq/">nsq</a>►<a class="article-category-link" href="/categories/hadoop/nsq/nsq-command/">nsq command</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/23/nsq-command/">nsq command</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/23/nsq-command/" data-id="cjavy9k21007b0coq4viqj7qc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-nsq-install" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/23/nsq-install/" class="article-date">
  <time datetime="2017-03-23T03:44:27.000Z" itemprop="datePublished">2017-03-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/hadoop/">hadoop</a>►<a class="article-category-link" href="/categories/hadoop/nsq/">nsq</a>►<a class="article-category-link" href="/categories/hadoop/nsq/nsq-install/">nsq install</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/23/nsq-install/">nsq install</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="NSQ-docker-install"><a href="#NSQ-docker-install" class="headerlink" title="NSQ docker install"></a>NSQ docker install</h3><ol>
<li><p>下载nsq镜像</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s1 ~]<span class="comment"># docker pull nsqio/nsq</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>run nsqlookupd</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s1 ~]<span class="comment"># docker run --name nsqlookupd -p 4160:4160 -p 4161:4161 nsqio/nsq:latest /nsqlookupd</span></span><br><span class="line"></span><br><span class="line">or:</span><br><span class="line">[root@k8s1 ~]<span class="comment"># docker run --name nsqlookupd -p 5160:4160 -p 5161:4161 nsqio/nsq:latest /nsqlookupd</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>run nsqd</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s1 ~]<span class="comment"># docker run --name nsqd -p 4150:4150 -p 4151:4151 nsqio/nsq:latest /nsqd --broadcast-address=192.168.1.2 --lookupd-tcp-address=192.168.1.2:4160</span></span><br><span class="line"></span><br><span class="line">or：</span><br><span class="line">[root@k8s1 ~]<span class="comment"># docker run -p 4150:4150 -p 4151:4151 -p 4152:4152 -v /home/docker/certs:/etc/ssl/certs \</span></span><br><span class="line">    nsqio/nsq:latest /nsqd \</span><br><span class="line">    --tls-root-ca-file=/etc/ssl/certs/certs.crt \</span><br><span class="line">    --tls-cert=/etc/ssl/certs/cert.pem \</span><br><span class="line">    --tls-key=/etc/ssl/certs/key.pem \</span><br><span class="line">    --tls-required=<span class="literal">true</span> \</span><br><span class="line">    --tls-client-auth-policy=require-verify</span><br><span class="line"></span><br><span class="line">or:</span><br><span class="line">[root@k8s1 ~]<span class="comment"># docker run nsqio/nsq:latest /nsqd --data-path=/data</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>run nsqadmin</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s1 ~]<span class="comment"># docker run --name nsqadmin -p 4171:4171 nsqio/nsq:latest /nsqadmin --lookupd-http-address=192.168.1.2:4161</span></span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/23/nsq-install/" data-id="cjavy9k26007e0coqfuovoiij" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-nsq-info" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/23/nsq-info/" class="article-date">
  <time datetime="2017-03-23T03:44:19.000Z" itemprop="datePublished">2017-03-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/hadoop/">hadoop</a>►<a class="article-category-link" href="/categories/hadoop/nsq/">nsq</a>►<a class="article-category-link" href="/categories/hadoop/nsq/nsq-info/">nsq info</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/23/nsq-info/">nsq info</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="NSQ-简介"><a href="#NSQ-简介" class="headerlink" title="NSQ 简介"></a><a href="http://nsq.io/" target="_blank" rel="noopener">NSQ 简介</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">NSQ是一个基于Go语言的分布式实时消息平台,它基于MIT开源协议发布,代码托管在GitHub.</span><br><span class="line">NSQ可用于大规模系统中的实时消息服务,并且每天能够处理数亿级别的消息,其设计目标是为在分布式环境下运行的去中心化服务提供一个强大的基础架构.</span><br><span class="line">NSQ具有分布式,去中心化的拓扑结构,该结构具有无单点故障,故障容错,高可用性以及能够保证消息的可靠传递的特征</span><br><span class="line">NSQ非常容易配置和部署,且具有最大的灵活性,支持众多消息协议.</span><br></pre></td></tr></table></figure>
<h3 id="NSQ-组成"><a href="#NSQ-组成" class="headerlink" title="NSQ 组成"></a>NSQ 组成</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">NSQ是由四个重要组件构成</span><br><span class="line">* nsqd</span><br><span class="line">  一个负责接收,排队,转发消息到客户端的守护进程</span><br><span class="line">* nsqlookupd</span><br><span class="line">  管理拓扑信息并提供最终一致性的发现服务的守护进程</span><br><span class="line">* nsqadmin</span><br><span class="line">  一套Web用户界面,可实时查看集群的统计数据和执行各种各样的管理任务</span><br><span class="line">* utilities</span><br><span class="line">  常见基础功能,数据流处理工具,如: nsq_stat,nsq_tail,nsq_to_file,nsq_to_http,nsq_to_nsq,to_nsq</span><br></pre></td></tr></table></figure>
<h3 id="NSQ特点"><a href="#NSQ特点" class="headerlink" title="NSQ特点"></a>NSQ特点</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">* 具有分布式且无单点故障的拓扑结构,支持水平扩展,在无中断情况下能够无缝地添加集群节点</span><br><span class="line">* 低延迟的消息推送</span><br><span class="line">* 具有组合式的负载均衡和多播形式的消息路由</span><br><span class="line">* 既擅长处理面向流(高吞吐量)的工作负载,也擅长处理面向Job的(低吞吐量)工作负载</span><br><span class="line">* 消息数据既可以存储于内存中,也可以存储在磁盘中</span><br><span class="line">* 实现了生产者,消费者自动发现和消费者自动连接生产者</span><br><span class="line">* 支持安全传输层协议(TLS),从而确保了消息传递的安全性</span><br><span class="line">* 具有与数据格式无关的消息结构,支持JSON,Protocol Buffers,MsgPacek等消息格式</span><br><span class="line">* 非常易于部署(几乎没有依赖)和配置(所有参数都可以通过命令行进行配置)</span><br><span class="line">* 使用了简单的TCP协议且具有多种语言的客户端功能库</span><br><span class="line">* 具有用于信息统计,管理员操作和实现生产者等的HTTP接口</span><br><span class="line">* 为实时检测集成了统计数据收集器StatsD</span><br><span class="line">* 具有强大的集群管理界面</span><br><span class="line"></span><br><span class="line">为了达到高效的分布式消息服务,NSQ实现了合理,智能的权衡,从而使得其能够完全适用于生产环境中,具体内容如下:</span><br><span class="line">* 支持消息内存队列的大小设置,默认完全持久化(值为0),消息即可持久到磁盘也可以保存在内存中</span><br><span class="line">* 保证消息至少传递一次,以确保消息可以最终成功发送</span><br><span class="line">* 收到的消息是无序的,实现了松散订购</span><br><span class="line">* 发现服务nsqlookupd具有最终一致性,消息最终能够找到所有Topic生产者</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/23/nsq-info/" data-id="cjavy9k23007c0coqu72m6dtt" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/14/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="page-number" href="/page/14/">14</a><span class="page-number current">15</span><a class="page-number" href="/page/16/">16</a><a class="page-number" href="/page/17/">17</a><span class="space">&hellip;</span><a class="page-number" href="/page/29/">29</a><a class="extend next" rel="next" href="/page/16/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AliCloud/">AliCloud</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/AliCloud/SDK/">SDK</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/AliCloud/SDK/Python-SDK/">Python SDK</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Android-install/">Android install</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Android-install/Android-studio-install/">Android studio install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/">Development</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/">Doc</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/HTTP-严格传输安全HSTS/">HTTP 严格传输安全HSTS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/HTTP协议/">HTTP协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/TCP-协议详解/">TCP 协议详解</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/TCP与socket区别/">TCP与socket区别</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/linux-文件描述符与打开文件之间的关系/">linux 文件描述符与打开文件之间的关系</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/linux-文件系统inode/">linux 文件系统inode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/一次完整的HTTP请求/">一次完整的HTTP请求</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Disk/">Disk</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Disk/disk-io-performance/">disk io performance</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Disk/disk-iostat/">disk iostat</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/">Distributed storage</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/">GlusterFS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-architecture/">GlusterFS architecture</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-info/">GlusterFS info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-install/">GlusterFS install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-workflow/">GlusterFS workflow</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HA/">HA</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HA/DRBD/">DRBD</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HA/DRBD/DRBD-install/">DRBD install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HA/keepalived/">keepalived</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HA/keepalived/keepalived-install/">keepalived install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/">IDE</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/Intellij/">Intellij</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/Intellij/Intellij-setting/">Intellij setting</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/vim/">vim</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/vim/vim-shortcut-key/">vim shortcut key</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/vim/vim-vimrc/">vim vimrc</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel/">Kernel</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel/kernel-memory/">kernel memory</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel/kernel-memory/kernel-共享内存/">kernel 共享内存</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/">Monitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/ganglia/">ganglia</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/ganglia/ganglia-install/">ganglia install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/hmonitor/">hmonitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/hmonitor/hmonitor-install/">hmonitor install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/htmonitor/">htmonitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/htmonitor/htmonitor-install/">htmonitor install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/smokeping/">smokeping</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/smokeping/smokeping-install/">smokeping install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/">zabbix</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/monitor/">monitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/monitor/zabbix-monitor-cpu/">zabbix monitor cpu</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/monitor/zabbix-monitor-mem/">zabbix monitor mem</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-auto-discover/">zabbix auto discover</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-grafana-install/">zabbix grafana install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-install/">zabbix install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-install-distributed/">zabbix install distributed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-item-and-tigger/">zabbix item and tigger</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-java-gateway/">zabbix java gateway</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-modify-login-user-passwd/">zabbix modify login user passwd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-optimization/">zabbix optimization</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-proxy-install/">zabbix proxy install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-server-support-chinese/">zabbix server support chinese</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-windows-agent/">zabbix windows agent</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/树莓派/">树莓派</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/树莓派/树莓派-GSM-语音短信报警/">树莓派 GSM 语音短信报警</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/监控/">监控</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/监控/监控知识体系/">监控知识体系</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/">Python Framework</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/Python-Django/">Python Django</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/Python-Django-setting/">Python Django setting</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/Python-tornado-install/">Python tornado install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/">Python Learn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-上下文管理器/">python 上下文管理器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-内存管理/">python 内存管理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-函数编程/">python 函数编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-变量/">python 变量</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-对象使用/">python 对象使用</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-对象的属性/">python 对象的属性</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-对象编程/">python 对象编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-数据类型/">python 数据类型</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-流程控制/">python 流程控制</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-爬虫/">python 爬虫</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-特殊方法/">python 特殊方法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-特殊说明/">python 特殊说明</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-装饰器/">python 装饰器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-过程编程/">python 过程编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-进阶/">python 进阶</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-闭包/">python 闭包</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/">Python install</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-error-info/">python error info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-pip-source-image/">python pip source image</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-pip-use/">python pip use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-pyenv-install/">python pyenv install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-setup-py/">python setup.py</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-source-install/">python source install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-virtualenv/">python virtualenv</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/">Python library</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/MySQLdb/">MySQLdb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/memory-profiler/">memory_profiler</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/time-datetime-calendar/">time datetime calendar</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-modules/">Python modules</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-modules/python-modules-path/">python modules path</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-modules/python-modules-pylint-and-ipython/">python modules pylint and ipython</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-other/">Python other</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-other/python-import-and-reload/">python import and reload</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/">Ruby</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/Ruby-install/">Ruby install</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/Ruby-install/Ruby-install/">Ruby install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/">TCP.IP</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/TCP-状态/">TCP 状态</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/TCP-IP模型/">TCP/IP模型</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/Wireshark-use/">Wireshark use</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/WeChat/">WeChat</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/WeChat/WeChat-enterprise/">WeChat enterprise</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/WeChat/WeChat-enterprise/WeChat-enterprise-API/">WeChat enterprise API</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/">automation</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/">git</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-command/">git command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-error/">git error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gitlab/">git gitlab</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gitolite/">git gitolite</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gogs/">git gogs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gogs-source-install/">git gogs source install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-init/">git init</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-workflow/">git workflow</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/jenkins/">jenkins</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/jenkins/jenkins-info/">jenkins info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/jenkins/jenkins-install/">jenkins install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/kvm/">kvm</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/kvm/kvm-install/">kvm install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/maven/">maven</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/maven/maven-install/">maven install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/nexus/">nexus</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/nexus/nexus-install/">nexus install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/nexus/nexus-proxy-maven/">nexus proxy maven</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/rpm/">rpm</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/rpm/rpm-package-build/">rpm package build</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/rpm/rpmbuild-spec/">rpmbuild spec</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/">salt</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-advanced-topic/">salt advanced topic</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-highstate/">salt highstate</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-info/">salt info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install/">salt install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install-HA/">salt install HA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install-distributed/">salt install distributed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install-standard/">salt install standard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-jinja2-grain-pillar-module/">salt jinja2 grain pillar module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-event-reactor/">salt manage event reactor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-grains/">salt manage grains</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-job/">salt manage job</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-module/">salt manage module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-pillar/">salt manage pillar</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-return/">salt manage return</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-states/">salt manage states</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-target/">salt manage target</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-master-syndic-install/">salt master syndic install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-master-conf/">salt master.conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-minion-conf/">salt minion.conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-raet/">salt raet</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-state-module/">salt state module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-syndic-conf/">salt syndic.conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-write-module-code/">salt write module code</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/svn/">svn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/svn/svn-auto-update/">svn auto update</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/yum/">yum</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/yum/yum-server-install/">yum server install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/">database</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/">Mongo</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-auth/">mongo auth</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-error/">mongo error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-replication-auth-install/">mongo replication auth install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-replication-standard-install/">mongo replication standard install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-standard-install/">mongo standard install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/">Mysql</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-command/">mysql command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-error-info/">mysql error info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-explain/">mysql explain</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-grant/">mysql grant</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-index-options/">mysql index options</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-innodb-buffer-pool-flush/">mysql innodb buffer pool flush</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-master-slave/">mysql master slave</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-master-slave-switch/">mysql master slave switch</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-partition/">mysql partition</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-select-join/">mysql select join</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-slow-log/">mysql slow log</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-standard/">mysql standard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-table-size/">mysql table size</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-use-memory-as-disk/">mysql use memory as disk</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/">Postgresql</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-book-use/">postgresql book use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-master-slave-info/">postgresql master slave info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-master-slave/">postgresql master/slave</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-plugin-install/">postgresql plugin install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-standard/">postgresql standard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-tablespace-database-schema-table-user-role-relation/">postgresql tablespace database schema table user role relation</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-yum-install/">postgresql yum install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-常用命令/">postgresql 常用命令</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-数据库对象/">postgresql 数据库对象</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-数据库管理/">postgresql 数据库管理</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/">Redis</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-error/">redis error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-install/">redis install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-redis-trib-rb/">redis redis-trib.rb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-status/">redis status</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-use/">redis use</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/influxDB/">influxDB</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/influxDB/influxDB-install/">influxDB install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/golang/">golang</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/golang/go-env/">go env</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/">hadoop</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/">RabbitMQ</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-cluster/">RabbitMQ cluster</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-high-availability/">RabbitMQ high availability</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-info/">RabbitMQ info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-install/">RabbitMQ install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-python-pika/">RabbitMQ python pika</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-user-and-grant/">RabbitMQ user and grant</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-working-principle/">RabbitMQ working principle</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/beats/">beats</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/beats/beats-install/">beats install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/">datax</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/datax-info/">datax info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/datax-install/">datax install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/datax-job/">datax job</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/">elasticsearch</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-backup-and-restore/">elasticsearch backup and restore</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-command/">elasticsearch command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-core-component/">elasticsearch core component</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-exploring-your-cluster/">elasticsearch exploring your cluster</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-exploring-your-data/">elasticsearch exploring your data</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-four-search-type/">elasticsearch four search type</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-full-cluster-restart-upgrade/">elasticsearch full cluster restart upgrade</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-install/">elasticsearch install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-modifying-your-data/">elasticsearch modifying your data</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-rolling-upgrades/">elasticsearch rolling upgrades</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-safe-restart/">elasticsearch safe restart</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-shard/">elasticsearch shard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/how-to-tune-for-indexing-speed/">how to tune for indexing speed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/how-to-tune-for-search-speed/">how to tune for search speed</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/flume/">flume</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/flume/flume-info/">flume info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/flume/flume-install/">flume install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/grafana/">grafana</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/grafana/grafana-install/">grafana install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/hadoop/">hadoop</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/hadoop/hadoop-简介/">hadoop 简介</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/">kafka</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-add-topic-partition/">kafka add topic partition</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-add-topic-replicats/">kafka add topic replicats</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-broker-config/">kafka broker config</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-high-throughput/">kafka high throughput</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-info/">kafka info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-install/">kafka install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-manage-web/">kafka manage web</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-migrate-and-scale/">kafka migrate and scale</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-offset-monitor/">kafka offset monitor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-optimize/">kafka optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-use/">kafka use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-web-console/">kafka web console</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-with-zookeeper/">kafka with zookeeper</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kibana/">kibana</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kibana/kibana-install/">kibana install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/">logstash</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-config-file/">logstash config file</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-filter-grok/">logstash filter grok</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-info/">logstash info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-install/">logstash install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mycat/">mycat</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mycat/mycat-jvm-optimize/">mycat jvm optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mycat/mycat-web-install/">mycat web install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/">nsq</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/nsq-command/">nsq command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/nsq-info/">nsq info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/nsq-install/">nsq install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/">zookeeper</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-install/">zookeeper install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-monitor/">zookeeper monitor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-optimize/">zookeeper optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-use/">zookeeper use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-zab-protocol/">zookeeper zab protocol</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-env/">java env</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-jvm-optimize/">java jvm optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-jvm-opts/">java jvm opts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-jvm-原理/">java jvm 原理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-learn/">java learn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-learn/java-学习笔记/">java 学习笔记</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-log4j/">java log4j</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-performance-analysis/">java performance analysis</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-performance-analysis/jps/">jps</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/">k8s</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/k8s-dashboard-install/">k8s dashboard install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/k8s-install/">k8s install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/k8s-registry-install/">k8s registry install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/node/">node</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/node/node-install/">node install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/other/ACID/">ACID</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/分布式二阶段和三阶段提交协议/">分布式二阶段和三阶段提交协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/开源许可协议/">开源许可协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/网络带宽/">网络带宽</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/">system service</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/">Atlassian</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-https/">confluence https</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-install/">confluence install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-reset-passwd/">confluence reset passwd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-update/">confluence update</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/jira-https/">jira https</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/jira-install/">jira install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/jira-update/">jira update</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/mariadb-install/">mariadb install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/">CentOS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/Base-env/">Base env</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-common-use-scripts/">linux common use scripts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-history-info-setting/">linux history info setting</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-login-info/">linux login info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-nginx-install/">linux nginx install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-skill/">linux skill</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-system-init/">linux system init</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-内存插槽-内存信息/">linux 内存插槽 内存信息</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-扩容swap分区/">linux 扩容swap分区</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-物理CPU-CPU核数-逻辑CPU/">linux 物理CPU CPU核数 逻辑CPU</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-磁盘系统block区别/">linux 磁盘系统block区别</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-设置-包含头文件路径-和-动态库链接路径/">linux 设置 包含头文件路径 和 动态库链接路径</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/make提高源码编译速度/">make提高源码编译速度</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/NFS/">NFS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/NFS/nfs-exports-command/">nfs exports command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/NFS/nfs-install/">nfs install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Samba/">Samba</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Samba/samba-conf/">samba conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Samba/samba-install/">samba install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/">command</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/grep/">grep</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/pigz/">pigz</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/sed/">sed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/split/">split</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/tr/">tr</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/haproxy/">haproxy</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/haproxy/haproxy-install/">haproxy install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/">nginx</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-install/">nginx install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-location/">nginx location</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-rewrite/">nginx rewrite</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-status/">nginx status</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/ntpd/">ntpd</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/ntpd/ntpd-install/">ntpd install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openssl/">openssl</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openssl/openssl-certificate/">openssl certificate</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openvpn/">openvpn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openvpn/openvpn-install/">openvpn install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/rsync/">rsync</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/rsync/rsync-install/">rsync install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/supersord/">supersord</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/supersord/supersord-install/">supersord install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/">vsftpd</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/ftp-proxy/">ftp proxy</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/vsftpd-error/">vsftpd error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/vsftpd-info/">vsftpd info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/vsftpd-install/">vsftpd install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/">windows</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/cygwin-install/">cygwin install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/ipsec-set/">ipsec set</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/windows-modify-hosts/">windows modify hosts</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/SSL/">SSL</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/SSL/SSL-certificate/">SSL certificate</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/angular/">angular</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/angular/angular-install/">angular install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/hexo/">hexo</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/hexo/hexo-install/">hexo install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/sass/">sass</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/sass/sass-install/">sass install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/xml/">xml</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/xml/xml-format/">xml format</a></li></ul></li></ul></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/01/01/hello-everyone/">Hello Everyone</a>
          </li>
        
          <li>
            <a href="/2017/11/28/kafka-web-console/">kafka web console</a>
          </li>
        
          <li>
            <a href="/2017/11/27/svn-auto-update/">svn auto update</a>
          </li>
        
          <li>
            <a href="/2017/11/15/salt-manage-event-reactor/">salt manage event reactor</a>
          </li>
        
          <li>
            <a href="/2017/11/15/salt-manage-job/">salt manage job</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 penn<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>