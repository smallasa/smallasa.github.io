<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>smallasa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="smallasa">
<meta property="og:url" content="http://www.smallasa.com/page/6/index.html">
<meta property="og:site_name" content="smallasa">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="smallasa">
  
    <link rel="alternate" href="/atom.xml" title="smallasa" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">smallasa</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">I known what i do !</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.smallasa.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-python-setup-py" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/17/python-setup-py/" class="article-date">
  <time datetime="2017-08-17T07:43:25.000Z" itemprop="datePublished">2017-08-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Python/">Python</a>►<a class="article-category-link" href="/categories/Python/Python-install/">Python install</a>►<a class="article-category-link" href="/categories/Python/Python-install/python-setup-py/">python setup.py</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/17/python-setup-py/">python setup.py</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="python-setup-py-语法格式"><a href="#python-setup-py-语法格式" class="headerlink" title="python setup.py 语法格式"></a>python setup.py 语法格式</h3><ol>
<li><p>删除 setup.py 安装的软件包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">通过 setup.py 安装了一个软件包,删除的时候发现 setup.py 没有 uninstall 选项</span><br><span class="line">此时,通过两个步骤可以轻松完成卸载:</span><br><span class="line">步骤一: 增加&quot;--record&quot;参数,重新安装</span><br><span class="line">        python setup.py install --record install.txt</span><br><span class="line">步骤二: 删除安装文件</span><br><span class="line">        cat install.txt|xargs rm -rf</span><br></pre></td></tr></table></figure>
</li>
<li><p>python 模块的安装方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">方式一: pip install &#123;module&#125;</span><br><span class="line">方式二: 单文件,直接copy到 $PYTHON_DIR/lib 目录下</span><br><span class="line">方式三: 多文件,且带有 setup.py, 运行 python setup.py install</span><br><span class="line">方式四: egg文件,下载ez_setup.py,运行 python ez_setup; easy_install *.egg</span><br><span class="line"></span><br><span class="line">注意: 如果是自己写的安装模块,推荐制作安装包,通过setup.py来安装</span><br></pre></td></tr></table></figure>
</li>
<li><p>setup.py 文件使用方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python setup.py build         #编译</span><br><span class="line">python setup.py install       #安装</span><br><span class="line">python setup.py sdist         #制作分发包</span><br><span class="line">python setup.py bdist_wininst #制作 windows 下的分发包</span><br><span class="line">python setup.py bdist_rpm     #制作 windows 下的分发包</span><br></pre></td></tr></table></figure>
</li>
<li><p>setup.py 文件语法格式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">说明: setup.py 中主要执行一个 setup 函数,该函数中大部分是描述性东西,最主要的是 packages 参数,列出所有的 package,可以用自带的 find_packages 来动态获取 package</span><br><span class="line"></span><br><span class="line">例如:</span><br><span class="line">from setuptools import setup,find_packages   # 加载&quot;setup&quot;和&quot;find_packages&quot;函数</span><br><span class="line">setup(                               # 定义 setup 函数</span><br><span class="line">    name = &quot;test&quot;,                   # 包名称</span><br><span class="line">    version = &quot;1.0&quot;,                 # 包版本</span><br><span class="line">    platforms = &quot;any&quot;,               # 包适用的平台</span><br><span class="line">    keywords = (&quot;test&quot;, &quot;xxx&quot;),      # 程序关键字列表</span><br><span class="line">    description = &quot;test sdk&quot;,        # 程序简要说明</span><br><span class="line">    long_description = &quot;test sdk for python&quot;,  # 程序详细说明  </span><br><span class="line">    license = &quot;LGPL&quot;,                # 程序授权信息</span><br><span class="line"></span><br><span class="line">    url = &quot;http://test.com&quot;,                # 程序官网地址</span><br><span class="line">    author = &apos;smallasa&apos;                     # 程序编写者</span><br><span class="line">    author_email = &apos;samllasa@sina.com&apos;      # 程序编写者的邮箱</span><br><span class="line">    #maintainer = &apos;smallasa&apos;                # 程序维护者</span><br><span class="line">    #maintainer_email = &apos;smallasa@sina.com&apos; # 程序维护者邮箱</span><br><span class="line"></span><br><span class="line">    packages = find_packages(),      # 需要处理的包目录(包含__init__.py的文件夹)</span><br><span class="line">    include_package_data = True,  </span><br><span class="line"></span><br><span class="line">    install_requires = [         # 需要安装的依赖包</span><br><span class="line">        &apos;redis&gt;=2.10.5&apos;,</span><br><span class="line">        &apos;setuptools&gt;=16.0&apos;,</span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line">    scripts = [],     #安装时需要执行的脚步列表</span><br><span class="line">    entry_points = &#123;  # 动态发现服务和插件</span><br><span class="line">        &apos;console_scripts&apos;: [  # console_scripts 指明了命令行工具的名称</span><br><span class="line">            &apos;test = test.help:main&apos;  # 在 &apos;test = test.help:main&apos; 等号前 指明了工具包名称;等号后 指明了程序入口地址</span><br><span class="line">        ]  </span><br><span class="line">    &#125;  </span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">参数详解:</span><br><span class="line">--name 包名称</span><br><span class="line">--version (-V) 包版本</span><br><span class="line">--author 程序的作者</span><br><span class="line">--author_email 程序的作者的邮箱地址</span><br><span class="line">--maintainer 维护者</span><br><span class="line">--maintainer_email 维护者的邮箱地址</span><br><span class="line">--url 程序的官网地址</span><br><span class="line">--license 程序的授权信息</span><br><span class="line">--description 程序的简单描述</span><br><span class="line">--long_description 程序的详细描述</span><br><span class="line">--platforms 程序适用的软件平台列表</span><br><span class="line">--classifiers 程序的所属分类列表</span><br><span class="line">--keywords 程序的关键字列表</span><br><span class="line">--packages 需要处理的包目录（包含__init__.py的文件夹）</span><br><span class="line">--py_modules 需要打包的python文件列表</span><br><span class="line">--download_url 程序的下载地址</span><br><span class="line">--cmdclass</span><br><span class="line">--data_files 打包时需要打包的数据文件，如图片，配置文件等</span><br><span class="line">--scripts 安装时需要执行的脚步列表</span><br><span class="line">--package_dir 告诉setuptools哪些目录下的文件被映射到哪个源码包。一个例子：package_dir = &#123;&apos;&apos;: &apos;lib&apos;&#125;，表示“root package”中的模块都在lib 目录中。</span><br><span class="line">--requires 定义依赖哪些模块</span><br><span class="line">--provides定义可以为哪些模块提供依赖</span><br><span class="line">--find_packages() 对于简单工程来说，手动增加packages参数很容易，刚刚我们用到了这个函数，它默认在和setup.py同一目录下搜索各个含有 __init__.py的包。</span><br><span class="line"></span><br><span class="line">                          其实我们可以将包统一放在一个src目录中，另外，这个包内可能还有aaa.txt文件和data数据文件夹。另外，也可以排除一些特定的包</span><br><span class="line"></span><br><span class="line">                          find_packages(exclude=[&quot;*.tests&quot;, &quot;*.tests.*&quot;, &quot;tests.*&quot;, &quot;tests&quot;])</span><br><span class="line"></span><br><span class="line">--install_requires = [&quot;requests&quot;] 需要安装的依赖包</span><br><span class="line">--entry_points 动态发现服务和插件，下面详细讲</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/08/17/python-setup-py/" data-id="cjazexzjt008gqcoqizpoqxp0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-python-装饰器" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/17/python-装饰器/" class="article-date">
  <time datetime="2017-08-17T01:17:22.000Z" itemprop="datePublished">2017-08-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Python/">Python</a>►<a class="article-category-link" href="/categories/Python/Python-Learn/">Python Learn</a>►<a class="article-category-link" href="/categories/Python/Python-Learn/python-装饰器/">python 装饰器</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/17/python-装饰器/">python 装饰器</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="python-装饰器"><a href="#python-装饰器" class="headerlink" title="python 装饰器"></a>python 装饰器</h3><ol>
<li><p>装饰器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* 可以包装函数,类的&quot;函数&quot;</span><br><span class="line">* 装饰器本质 接收一个函数对象(可调用对象),返回一个可调用对象(返回的是在装饰器中定义的函数)</span><br></pre></td></tr></table></figure>
</li>
<li><p>包装函数的装饰器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">//示例2:</span><br><span class="line">[root@dev test]# cat decol2.py    </span><br><span class="line">#!/usr/bin/env python</span><br><span class="line"># coding: utf-8</span><br><span class="line"></span><br><span class="line">def deco(F):  # 定义装饰器,装饰器是特殊的函数. F表示可调用对象</span><br><span class="line">    def new_F(a,b):  # 定义一个新的函数</span><br><span class="line">        print(&quot;input&quot;,a,b)  # 打印a和b</span><br><span class="line">        return F(a,b) # 返回传入&quot;函数可调用对象&quot;,并将a和b,传入到可调用对象</span><br><span class="line">    return new_F # 返回这个定义的函数对象,类似闭包</span><br><span class="line"></span><br><span class="line"># 计算平方和</span><br><span class="line">@deco  # 采用装饰器,在函数定义之前</span><br><span class="line">def square_sum(a,b):</span><br><span class="line">    return a**2 + b**2</span><br><span class="line"></span><br><span class="line"># 计算平方差</span><br><span class="line">@deco</span><br><span class="line">def square_diff(a,b):</span><br><span class="line">    return a**2 - b**2</span><br><span class="line"></span><br><span class="line">print(square_sum(3,4))</span><br><span class="line">print(square_diff(3,4))</span><br><span class="line"></span><br><span class="line">[root@dev test]# python decol2.py</span><br><span class="line">(&apos;input&apos;, 3, 4)</span><br><span class="line">25</span><br><span class="line">(&apos;input&apos;, 3, 4)</span><br><span class="line">-7</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">示例3:</span><br><span class="line">[root@dev test]# cat decol3.py</span><br><span class="line">#!/usr/bin/env python</span><br><span class="line"># coding: utf-8</span><br><span class="line"></span><br><span class="line"># 新的装饰器</span><br><span class="line">def pre_str(pre=&apos;&apos;):</span><br><span class="line">    # 旧的装饰器</span><br><span class="line">    def decorator(F):</span><br><span class="line">        def new_F(a,b):</span><br><span class="line">            print(pre + &apos;input&apos; ,a,b)</span><br><span class="line">            return F(a,b)</span><br><span class="line">        return new_F</span><br><span class="line">    return decorator</span><br><span class="line"></span><br><span class="line"># 计算平方和</span><br><span class="line">@pre_str(pre=&apos;hi + &apos;)</span><br><span class="line">def square_sum(a,b):</span><br><span class="line">    return a**2 + b**2</span><br><span class="line"></span><br><span class="line"># 计算平方差</span><br><span class="line">@pre_str(pre=&apos;hi - &apos;)</span><br><span class="line">def square_diff(a,b):</span><br><span class="line">    return a**2 - b**2</span><br><span class="line"></span><br><span class="line">print(square_sum(3,4))</span><br><span class="line">print(square_diff(3,4))</span><br><span class="line"></span><br><span class="line">[root@dev test]# python decol3.py</span><br><span class="line">(&apos;hi + input&apos;, 3, 4)</span><br><span class="line">25</span><br><span class="line">(&apos;hi + input&apos;, 3, 4)</span><br><span class="line">-7</span><br></pre></td></tr></table></figure>
</li>
<li><p>包装类的装饰器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">[root@dev test]# cat decol4.py</span><br><span class="line">#!/usr/bin/env python</span><br><span class="line"># coding: utf-8</span><br><span class="line"></span><br><span class="line">def decorator(aClass):</span><br><span class="line">    class newClass:</span><br><span class="line">        def __init__(self,age):</span><br><span class="line">            self.total_display = 0</span><br><span class="line">            self.wrapped = aClass(age)</span><br><span class="line">        def disply(self):</span><br><span class="line">            self.total_display += 1</span><br><span class="line">            print(&quot;total display&quot;,self.total_display)</span><br><span class="line">            self.wrapped.display()</span><br><span class="line">    return newClass</span><br><span class="line"></span><br><span class="line">@decorator</span><br><span class="line">class Bird:</span><br><span class="line">    def __init__(self,age):</span><br><span class="line">        self.age = age</span><br><span class="line">    def display(self):</span><br><span class="line">        print(&apos;My age is &apos;,self.age)</span><br><span class="line"></span><br><span class="line">a = Bird(5)</span><br><span class="line">for i in range(3):</span><br><span class="line">    a.disply()</span><br><span class="line">[root@dev test]# python decol4.py</span><br><span class="line">(&apos;total display&apos;, 1)</span><br><span class="line">(&apos;My age is &apos;, 5)</span><br><span class="line">(&apos;total display&apos;, 2)</span><br><span class="line">(&apos;My age is &apos;, 5)</span><br><span class="line">(&apos;total display&apos;, 3)</span><br><span class="line">(&apos;My age is &apos;, 5)</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/08/17/python-装饰器/" data-id="cjazexzko0096qcoqa4vn4r67" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-python-闭包" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/17/python-闭包/" class="article-date">
  <time datetime="2017-08-17T00:44:58.000Z" itemprop="datePublished">2017-08-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Python/">Python</a>►<a class="article-category-link" href="/categories/Python/Python-Learn/">Python Learn</a>►<a class="article-category-link" href="/categories/Python/Python-Learn/python-闭包/">python 闭包</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/17/python-闭包/">python 闭包</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="python-闭包"><a href="#python-闭包" class="headerlink" title="python 闭包"></a>python 闭包</h3><ol>
<li><p>闭包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">定义: 一个包含&quot;环境变量&quot;取值的函数对象.是一种组织代码的结构,提高了代码的重复使用性</span><br></pre></td></tr></table></figure>
</li>
<li><p>代码示例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">//示例1:</span><br><span class="line">[root@dev test]# cat col1.py</span><br><span class="line">#!/usr/bin/env python</span><br><span class="line"># coding:utf-8</span><br><span class="line"></span><br><span class="line">def line_conf(): # 定义了一个函数line_conf()</span><br><span class="line">    def line(x): # 定义了一个子函数</span><br><span class="line">        return 2*x + 1  # 子函数输出结果</span><br><span class="line">    return line   # 将子函数line()作为对象返回</span><br><span class="line"></span><br><span class="line">my_line = line_conf()  # 先调用line_conf(),返回line()对象 赋值给my_line</span><br><span class="line">print(my_line(5))  # 打印my_line函数对象,并传入参数5</span><br><span class="line"></span><br><span class="line">[root@dev test]# python col1.py</span><br><span class="line">11</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//示例2:</span><br><span class="line">[root@dev test]# cat col2.py</span><br><span class="line">#!/usr/bin/env python</span><br><span class="line"># coding:utf-8</span><br><span class="line"></span><br><span class="line">def line_conf():</span><br><span class="line">    b = 15  # 函数内部定义b</span><br><span class="line">    def line(x):</span><br><span class="line">        return 2*x + b  # 这里的b引用的是函数内部定义的b,而不是函数外部的b</span><br><span class="line">    return line  # 返回函数对象</span><br><span class="line">b = 5  # 函数外部定义b</span><br><span class="line">my_line = line_conf()</span><br><span class="line">print(my_line(5))</span><br><span class="line"></span><br><span class="line">[root@dev test]# python col2.py</span><br><span class="line">25</span><br><span class="line"></span><br><span class="line">//示例3:</span><br><span class="line">[root@dev test]# cat col3.py</span><br><span class="line">#!/usr/bin/env python</span><br><span class="line"># coding:utf-8</span><br><span class="line"></span><br><span class="line">def line_conf():</span><br><span class="line">    b = 15</span><br><span class="line">    def line(x):</span><br><span class="line">        return 2*x + b</span><br><span class="line">    return line</span><br><span class="line">b = 5</span><br><span class="line">my_line = line_conf()</span><br><span class="line">print(my_line.__closure__)  # __closure__是闭包的意思,打印元组</span><br><span class="line">print(my_line.__closure__[0].cell_contents)  # 打印闭包元组的第0号元素的cell_contents元素.说明我们闭包的第0号元素是闭包的环境变量</span><br><span class="line"></span><br><span class="line">[root@dev test]# python col3.py</span><br><span class="line">(&lt;cell at 0x7f6b98a8e670: int object at 0x1e6a018&gt;,)</span><br><span class="line">15</span><br><span class="line"></span><br><span class="line">//示例4:</span><br><span class="line">[root@dev test]# cat col4.py</span><br><span class="line">#!/usr/bin/env python</span><br><span class="line"># coding:utf-8</span><br><span class="line"></span><br><span class="line">def line_conf(a,b):  # 定义函数,并传入两个参数</span><br><span class="line">    def line(x):     # 定义子函数,传入一个参数</span><br><span class="line">        return a*x + b</span><br><span class="line">    return line</span><br><span class="line">line1 = line_conf(1,1)</span><br><span class="line">line2 = line_conf(4,5)</span><br><span class="line">print(line1(5),line2(5))</span><br><span class="line"></span><br><span class="line">[root@dev test]# python col4.py</span><br><span class="line">(6, 25)</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/08/17/python-闭包/" data-id="cjazexzko009aqcoqx84pchf6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linux-skill" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/17/linux-skill/" class="article-date">
  <time datetime="2017-08-17T00:38:46.000Z" itemprop="datePublished">2017-08-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/system-service/">system service</a>►<a class="article-category-link" href="/categories/system-service/CentOS/">CentOS</a>►<a class="article-category-link" href="/categories/system-service/CentOS/linux-skill/">linux skill</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/17/linux-skill/">linux skill</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="linux使用技巧"><a href="#linux使用技巧" class="headerlink" title="linux使用技巧"></a>linux使用技巧</h3><ol>
<li>bash命令补全<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@dev ~]<span class="comment"># yum -y install bash-completion</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@dev ~]<span class="comment"># systemctl &#123;双击TAB键&#125;</span></span><br><span class="line">...</span><br><span class="line">condrestart            hybrid-sleep           poweroff               start</span><br><span class="line">condstop               is-active              preset                 status</span><br><span class="line">daemon-reexec          is-enabled             reboot                 stop</span><br><span class="line">...        </span><br><span class="line">[root@dev ~]<span class="comment"># systemctl status &#123;双击TAB键&#125;</span></span><br><span class="line">Display all 288 possibilities? (y or n)</span><br><span class="line">arp-ethers.service</span><br><span class="line">auditd.service</span><br><span class="line">avahi-daemon.service</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/08/17/linux-skill/" data-id="cjazexzfw005gqcoq5fdzeep9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-jenkins-info" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/16/jenkins-info/" class="article-date">
  <time datetime="2017-08-16T02:58:28.000Z" itemprop="datePublished">2017-08-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/automation/">automation</a>►<a class="article-category-link" href="/categories/automation/jenkins/">jenkins</a>►<a class="article-category-link" href="/categories/automation/jenkins/jenkins-info/">jenkins info</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/16/jenkins-info/">jenkins info</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="jenkins-简介"><a href="#jenkins-简介" class="headerlink" title="jenkins 简介"></a>jenkins 简介</h3><ol>
<li><p>持续集成简介</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">持续集成(CI)简单来讲就是一个能监控你版本控制系统变化的工具.无论任何时候,只要检测到发生变化,这个工具就会自动编译和测试你的应用.测试出现问题通知开发人员进行修复.持续集成能帮你监视代码库健康,自动监控代码质量和代码覆盖度量,还能帮你降低技术债务和减少维护成本.从本质上讲,持续集成是通过更快的反馈来降低风险.</span><br></pre></td></tr></table></figure>
</li>
<li><p>引入持续集成</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">阶段1: 无构建服务器(手动构建)</span><br><span class="line">阶段2: 夜间构建(简单代码编译,定时构建)</span><br><span class="line">阶段3: 夜间构建加自动化测试(定时构建加集成测试)</span><br><span class="line">阶段4: 加入度量值(构建中运行自动化代码质量和代码覆盖率检查,测试相关性及有效性)</span><br><span class="line">阶段5: 更认真的对待测试(自动化构建加测试)</span><br><span class="line">阶段6: 自动化验收测试和自动化部署</span><br><span class="line">阶段7: 持续部署</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/08/16/jenkins-info/" data-id="cjazexzel004aqcoqqq6plivt" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-salt-minion-conf" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/16/salt-minion-conf/" class="article-date">
  <time datetime="2017-08-16T01:30:32.000Z" itemprop="datePublished">2017-08-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/automation/">automation</a>►<a class="article-category-link" href="/categories/automation/salt/">salt</a>►<a class="article-category-link" href="/categories/automation/salt/salt-minion-conf/">salt minion.conf</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/16/salt-minion-conf/">salt minion.conf</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="salt-minion-conf"><a href="#salt-minion-conf" class="headerlink" title="salt minion.conf"></a>salt minion.conf</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br></pre></td><td class="code"><pre><span class="line">[root@saltminion[X] ~]<span class="comment"># cat /etc/salt/minion.d/minion.conf</span></span><br><span class="line"><span class="comment">##### Primary configuration settings #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># This configuration file is used to manage the behavior of the Salt Minion.</span></span><br><span class="line"><span class="comment"># With the exception of the location of the Salt Master Server, values that are</span></span><br><span class="line"><span class="comment"># commented out but have an empty line after the comment are defaults that need</span></span><br><span class="line"><span class="comment"># not be set in the config. If there is no blank line after the comment, the</span></span><br><span class="line"><span class="comment"># value is presented as an example and is not the default.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Per default the minion will automatically include all config files</span></span><br><span class="line"><span class="comment"># from minion.d/*.conf (minion.d is a directory in the same directory</span></span><br><span class="line"><span class="comment"># as the main minion config file).</span></span><br><span class="line"><span class="comment">#default_include: minion.d/*.conf</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the location of the salt master server. If the master server cannot be</span></span><br><span class="line"><span class="comment"># resolved, then the minion will fail to start.</span></span><br><span class="line">master: 192.168.13.212</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set http proxy information for the minion when doing requests</span></span><br><span class="line"><span class="comment">#proxy_host:</span></span><br><span class="line"><span class="comment">#proxy_port:</span></span><br><span class="line"><span class="comment">#proxy_username:</span></span><br><span class="line"><span class="comment">#proxy_password:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If multiple masters are specified in the 'master' setting, the default behavior</span></span><br><span class="line"><span class="comment"># is to always try to connect to them in the order they are listed. If random_master is</span></span><br><span class="line"><span class="comment"># set to True, the order will be randomized instead. This can be helpful in distributing</span></span><br><span class="line"><span class="comment"># the load of many minions executing salt-call requests, for example, from a cron job.</span></span><br><span class="line"><span class="comment"># If only one master is listed, this setting is ignored and a warning will be logged.</span></span><br><span class="line"><span class="comment"># <span class="doctag">NOTE:</span> If master_type is set to failover, use master_shuffle instead.</span></span><br><span class="line"><span class="comment">#random_master: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Use if master_type is set to failover.</span></span><br><span class="line"><span class="comment">#master_shuffle: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Minions can connect to multiple masters simultaneously (all masters</span></span><br><span class="line"><span class="comment"># are "hot"), or can be configured to failover if a master becomes</span></span><br><span class="line"><span class="comment"># unavailable.  Multiple hot masters are configured by setting this</span></span><br><span class="line"><span class="comment"># value to "str".  Failover masters can be requested by setting</span></span><br><span class="line"><span class="comment"># to "failover".  MAKE SURE TO SET master_alive_interval if you are</span></span><br><span class="line"><span class="comment"># using failover.</span></span><br><span class="line"><span class="comment"># Setting master_type to 'disable' let's you have a running minion (with engines and</span></span><br><span class="line"><span class="comment"># beacons) without a master connection</span></span><br><span class="line"><span class="comment"># master_type: str</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Poll interval in seconds for checking if the master is still there.  Only</span></span><br><span class="line"><span class="comment"># respected if master_type above is "failover". To disable the interval entirely,</span></span><br><span class="line"><span class="comment"># set the value to -1. (This may be necessary on machines which have high numbers</span></span><br><span class="line"><span class="comment"># of TCP connections, such as load balancers.)</span></span><br><span class="line"><span class="comment"># master_alive_interval: 30</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If the minion is in multi-master mode and the master_type configuration option</span></span><br><span class="line"><span class="comment"># is set to "failover", this setting can be set to "True" to force the minion</span></span><br><span class="line"><span class="comment"># to fail back to the first master in the list if the first master is back online.</span></span><br><span class="line"><span class="comment">#master_failback: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If the minion is in multi-master mode, the "master_type" configuration is set to</span></span><br><span class="line"><span class="comment"># "failover", and the "master_failback" option is enabled, the master failback</span></span><br><span class="line"><span class="comment"># interval can be set to ping the top master with this interval, in seconds.</span></span><br><span class="line"><span class="comment">#master_failback_interval: 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set whether the minion should connect to the master via IPv6:</span></span><br><span class="line"><span class="comment">#ipv6: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the number of seconds to wait before attempting to resolve</span></span><br><span class="line"><span class="comment"># the master hostname if name resolution fails. Defaults to 30 seconds.</span></span><br><span class="line"><span class="comment"># Set to zero if the minion should shutdown and not retry.</span></span><br><span class="line"><span class="comment"># retry_dns: 30</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the port used by the master reply and authentication server.</span></span><br><span class="line"><span class="comment">#master_port: 4506</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The user to run salt.</span></span><br><span class="line"><span class="comment">#user: root</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The user to run salt remote execution commands as via sudo. If this option is</span></span><br><span class="line"><span class="comment"># enabled then sudo will be used to change the active user executing the remote</span></span><br><span class="line"><span class="comment"># command. If enabled the user will need to be allowed access via the sudoers</span></span><br><span class="line"><span class="comment"># file for the user that the salt minion is configured to run as. The most</span></span><br><span class="line"><span class="comment"># common option would be to use the root user. If this option is set the user</span></span><br><span class="line"><span class="comment"># option should also be set to a non-root user. If migrating from a root minion</span></span><br><span class="line"><span class="comment"># to a non root minion the minion cache should be cleared and the minion pki</span></span><br><span class="line"><span class="comment"># directory will need to be changed to the ownership of the new user.</span></span><br><span class="line"><span class="comment">#sudo_user: root</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify the location of the daemon process ID file.</span></span><br><span class="line"><span class="comment">#pidfile: /var/run/salt-minion.pid</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The root directory prepended to these options: pki_dir, cachedir, log_file,</span></span><br><span class="line"><span class="comment"># sock_dir, pidfile.</span></span><br><span class="line"><span class="comment">#root_dir: /</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The path to the minion's configuration file.</span></span><br><span class="line"><span class="comment">#conf_file: /etc/salt/minion</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The directory to store the pki information in</span></span><br><span class="line"><span class="comment">#pki_dir: /etc/salt/pki/minion</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Explicitly declare the id for this minion to use, if left commented the id</span></span><br><span class="line"><span class="comment"># will be the hostname as returned by the python call: socket.getfqdn()</span></span><br><span class="line"><span class="comment"># Since salt uses detached ids it is possible to run multiple minions on the</span></span><br><span class="line"><span class="comment"># same machine but with different ids, this can be useful for salt compute</span></span><br><span class="line"><span class="comment"># clusters.</span></span><br><span class="line">id: saltminion1</span><br><span class="line"></span><br><span class="line"><span class="comment"># Cache the minion id to a file when the minion's id is not statically defined</span></span><br><span class="line"><span class="comment"># in the minion config. Defaults to "True". This setting prevents potential</span></span><br><span class="line"><span class="comment"># problems when automatic minion id resolution changes, which can cause the</span></span><br><span class="line"><span class="comment"># minion to lose connection with the master. To turn off minion id caching,</span></span><br><span class="line"><span class="comment"># set this config to ``False``.</span></span><br><span class="line"><span class="comment">#minion_id_caching: True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Append a domain to a hostname in the event that it does not exist.  This is</span></span><br><span class="line"><span class="comment"># useful for systems where socket.getfqdn() does not actually result in a</span></span><br><span class="line"><span class="comment"># FQDN (for instance, Solaris).</span></span><br><span class="line"><span class="comment">#append_domain:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Custom static grains for this minion can be specified here and used in SLS</span></span><br><span class="line"><span class="comment"># files just like all other grains. This example sets 4 custom grains, with</span></span><br><span class="line"><span class="comment"># the 'roles' grain having two values that can be matched against.</span></span><br><span class="line"><span class="comment">#grains:</span></span><br><span class="line"><span class="comment">#  roles:</span></span><br><span class="line"><span class="comment">#    - webserver</span></span><br><span class="line"><span class="comment">#    - memcache</span></span><br><span class="line"><span class="comment">#  deployment: datacenter4</span></span><br><span class="line"><span class="comment">#  cabinet: 13</span></span><br><span class="line"><span class="comment">#  cab_u: 14-15</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Where cache data goes.</span></span><br><span class="line"><span class="comment"># This data may contain sensitive data and should be protected accordingly.</span></span><br><span class="line"><span class="comment">#cachedir: /var/cache/salt/minion</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Append minion_id to these directories.  Helps with</span></span><br><span class="line"><span class="comment"># multiple proxies and minions running on the same machine.</span></span><br><span class="line"><span class="comment"># Allowed elements in the list: pki_dir, cachedir, extension_modules</span></span><br><span class="line"><span class="comment"># Normally not needed unless running several proxies and/or minions on the same machine</span></span><br><span class="line"><span class="comment"># Defaults to ['cachedir'] for proxies, [] (empty list) for regular minions</span></span><br><span class="line"><span class="comment">#append_minionid_config_dirs:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Verify and set permissions on configuration directories at startup.</span></span><br><span class="line"><span class="comment">#verify_env: True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The minion can locally cache the return data from jobs sent to it, this</span></span><br><span class="line"><span class="comment"># can be a good way to keep track of jobs the minion has executed</span></span><br><span class="line"><span class="comment"># (on the minion side). By default this feature is disabled, to enable, set</span></span><br><span class="line"><span class="comment"># cache_jobs to True.</span></span><br><span class="line"><span class="comment">#cache_jobs: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the directory used to hold unix sockets.</span></span><br><span class="line"><span class="comment">#sock_dir: /var/run/salt/minion</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the default outputter used by the salt-call command. The default is</span></span><br><span class="line"><span class="comment"># "nested".</span></span><br><span class="line"><span class="comment">#output: nested</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># To set a list of additional directories to search for salt outputters, set the</span></span><br><span class="line"><span class="comment"># outputter_dirs option.</span></span><br><span class="line"><span class="comment">#outputter_dirs: []</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># By default output is colored. To disable colored output, set the color value</span></span><br><span class="line"><span class="comment"># to False.</span></span><br><span class="line"><span class="comment">#color: True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Do not strip off the colored output from nested results and state outputs</span></span><br><span class="line"><span class="comment"># (true by default).</span></span><br><span class="line"><span class="comment"># strip_colors: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Backup files that are replaced by file.managed and file.recurse under</span></span><br><span class="line"><span class="comment"># 'cachedir'/file_backup relative to their original location and appended</span></span><br><span class="line"><span class="comment"># with a timestamp. The only valid setting is "minion". Disabled by default.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Alternatively this can be specified for each file in state files:</span></span><br><span class="line"><span class="comment"># /etc/ssh/sshd_config:</span></span><br><span class="line"><span class="comment">#   file.managed:</span></span><br><span class="line"><span class="comment">#     - source: salt://ssh/sshd_config</span></span><br><span class="line"><span class="comment">#     - backup: minion</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#backup_mode: minion</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When waiting for a master to accept the minion's public key, salt will</span></span><br><span class="line"><span class="comment"># continuously attempt to reconnect until successful. This is the time, in</span></span><br><span class="line"><span class="comment"># seconds, between those reconnection attempts.</span></span><br><span class="line"><span class="comment">#acceptance_wait_time: 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If this is nonzero, the time between reconnection attempts will increase by</span></span><br><span class="line"><span class="comment"># acceptance_wait_time seconds per iteration, up to this maximum. If this is</span></span><br><span class="line"><span class="comment"># set to zero, the time between reconnection attempts will stay constant.</span></span><br><span class="line"><span class="comment">#acceptance_wait_time_max: 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If the master rejects the minion's public key, retry instead of exiting.</span></span><br><span class="line"><span class="comment"># Rejected keys will be handled the same as waiting on acceptance.</span></span><br><span class="line"><span class="comment">#rejected_retry: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When the master key changes, the minion will try to re-auth itself to receive</span></span><br><span class="line"><span class="comment"># the new master key. In larger environments this can cause a SYN flood on the</span></span><br><span class="line"><span class="comment"># master because all minions try to re-auth immediately. To prevent this and</span></span><br><span class="line"><span class="comment"># have a minion wait for a random amount of time, use this optional parameter.</span></span><br><span class="line"><span class="comment"># The wait-time will be a random number of seconds between 0 and the defined value.</span></span><br><span class="line"><span class="comment">#random_reauth_delay: 60</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># To avoid overloading a master when many minions startup at once, a randomized</span></span><br><span class="line"><span class="comment"># delay may be set to tell the minions to wait before connecting to the master.</span></span><br><span class="line"><span class="comment"># This value is the number of seconds to choose from for a random number. For</span></span><br><span class="line"><span class="comment"># example, setting this value to 60 will choose a random number of seconds to delay</span></span><br><span class="line"><span class="comment"># on startup between zero seconds and sixty seconds. Setting to '0' will disable</span></span><br><span class="line"><span class="comment"># this feature.</span></span><br><span class="line"><span class="comment">#random_startup_delay: 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When waiting for a master to accept the minion's public key, salt will</span></span><br><span class="line"><span class="comment"># continuously attempt to reconnect until successful. This is the timeout value,</span></span><br><span class="line"><span class="comment"># in seconds, for each individual attempt. After this timeout expires, the minion</span></span><br><span class="line"><span class="comment"># will wait for acceptance_wait_time seconds before trying again. Unless your master</span></span><br><span class="line"><span class="comment"># is under unusually heavy load, this should be left at the default.</span></span><br><span class="line"><span class="comment">#auth_timeout: 60</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Number of consecutive SaltReqTimeoutError that are acceptable when trying to</span></span><br><span class="line"><span class="comment"># authenticate.</span></span><br><span class="line"><span class="comment">#auth_tries: 7</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The number of attempts to connect to a master before giving up.</span></span><br><span class="line"><span class="comment"># Set this to -1 for unlimited attempts. This allows for a master to have</span></span><br><span class="line"><span class="comment"># downtime and the minion to reconnect to it later when it comes back up.</span></span><br><span class="line"><span class="comment"># In 'failover' mode, it is the number of attempts for each set of masters.</span></span><br><span class="line"><span class="comment"># In this mode, it will cycle through the list of masters for each attempt.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This is different than auth_tries because auth_tries attempts to</span></span><br><span class="line"><span class="comment"># retry auth attempts with a single master. auth_tries is under the</span></span><br><span class="line"><span class="comment"># assumption that you can connect to the master but not gain</span></span><br><span class="line"><span class="comment"># authorization from it. master_tries will still cycle through all</span></span><br><span class="line"><span class="comment"># the masters in a given try, so it is appropriate if you expect</span></span><br><span class="line"><span class="comment"># occasional downtime from the master(s).</span></span><br><span class="line"><span class="comment">#master_tries: 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If authentication fails due to SaltReqTimeoutError during a ping_interval,</span></span><br><span class="line"><span class="comment"># cause sub minion process to restart.</span></span><br><span class="line"><span class="comment">#auth_safemode: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ping Master to ensure connection is alive (seconds).</span></span><br><span class="line"><span class="comment">#ping_interval: 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># To auto recover minions if master changes IP address (DDNS)</span></span><br><span class="line"><span class="comment">#    auth_tries: 10</span></span><br><span class="line"><span class="comment">#    auth_safemode: False</span></span><br><span class="line"><span class="comment">#    ping_interval: 90</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Minions won't know master is missing until a ping fails. After the ping fail,</span></span><br><span class="line"><span class="comment"># the minion will attempt authentication and likely fails out and cause a restart.</span></span><br><span class="line"><span class="comment"># When the minion restarts it will resolve the masters IP and attempt to reconnect.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If you don't have any problems with syn-floods, don't bother with the</span></span><br><span class="line"><span class="comment"># three recon_* settings described below, just leave the defaults!</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The ZeroMQ pull-socket that binds to the masters publishing interface tries</span></span><br><span class="line"><span class="comment"># to reconnect immediately, if the socket is disconnected (for example if</span></span><br><span class="line"><span class="comment"># the master processes are restarted). In large setups this will have all</span></span><br><span class="line"><span class="comment"># minions reconnect immediately which might flood the master (the ZeroMQ-default</span></span><br><span class="line"><span class="comment"># is usually a 100ms delay). To prevent this, these three recon_* settings</span></span><br><span class="line"><span class="comment"># can be used.</span></span><br><span class="line"><span class="comment"># recon_default: the interval in milliseconds that the socket should wait before</span></span><br><span class="line"><span class="comment">#                trying to reconnect to the master (1000ms = 1 second)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># recon_max: the maximum time a socket should wait. each interval the time to wait</span></span><br><span class="line"><span class="comment">#            is calculated by doubling the previous time. if recon_max is reached,</span></span><br><span class="line"><span class="comment">#            it starts again at recon_default. Short example:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#            reconnect 1: the socket will wait 'recon_default' milliseconds</span></span><br><span class="line"><span class="comment">#            reconnect 2: 'recon_default' * 2</span></span><br><span class="line"><span class="comment">#            reconnect 3: ('recon_default' * 2) * 2</span></span><br><span class="line"><span class="comment">#            reconnect 4: value from previous interval * 2</span></span><br><span class="line"><span class="comment">#            reconnect 5: value from previous interval * 2</span></span><br><span class="line"><span class="comment">#            reconnect x: if value &gt;= recon_max, it starts again with recon_default</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># recon_randomize: generate a random wait time on minion start. The wait time will</span></span><br><span class="line"><span class="comment">#                  be a random value between recon_default and recon_default +</span></span><br><span class="line"><span class="comment">#                  recon_max. Having all minions reconnect with the same recon_default</span></span><br><span class="line"><span class="comment">#                  and recon_max value kind of defeats the purpose of being able to</span></span><br><span class="line"><span class="comment">#                  change these settings. If all minions have the same values and your</span></span><br><span class="line"><span class="comment">#                  setup is quite large (several thousand minions), they will still</span></span><br><span class="line"><span class="comment">#                  flood the master. The desired behavior is to have timeframe within</span></span><br><span class="line"><span class="comment">#                  all minions try to reconnect.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Example on how to use these settings. The goal: have all minions reconnect within a</span></span><br><span class="line"><span class="comment"># 60 second timeframe on a disconnect.</span></span><br><span class="line"><span class="comment"># recon_default: 1000</span></span><br><span class="line"><span class="comment"># recon_max: 59000</span></span><br><span class="line"><span class="comment"># recon_randomize: True</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Each minion will have a randomized reconnect value between 'recon_default'</span></span><br><span class="line"><span class="comment"># and 'recon_default + recon_max', which in this example means between 1000ms</span></span><br><span class="line"><span class="comment"># 60000ms (or between 1 and 60 seconds). The generated random-value will be</span></span><br><span class="line"><span class="comment"># doubled after each attempt to reconnect. Lets say the generated random</span></span><br><span class="line"><span class="comment"># value is 11 seconds (or 11000ms).</span></span><br><span class="line"><span class="comment"># reconnect 1: wait 11 seconds</span></span><br><span class="line"><span class="comment"># reconnect 2: wait 22 seconds</span></span><br><span class="line"><span class="comment"># reconnect 3: wait 33 seconds</span></span><br><span class="line"><span class="comment"># reconnect 4: wait 44 seconds</span></span><br><span class="line"><span class="comment"># reconnect 5: wait 55 seconds</span></span><br><span class="line"><span class="comment"># reconnect 6: wait time is bigger than 60 seconds (recon_default + recon_max)</span></span><br><span class="line"><span class="comment"># reconnect 7: wait 11 seconds</span></span><br><span class="line"><span class="comment"># reconnect 8: wait 22 seconds</span></span><br><span class="line"><span class="comment"># reconnect 9: wait 33 seconds</span></span><br><span class="line"><span class="comment"># reconnect x: etc.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># In a setup with ~6000 thousand hosts these settings would average the reconnects</span></span><br><span class="line"><span class="comment"># to about 100 per second and all hosts would be reconnected within 60 seconds.</span></span><br><span class="line"><span class="comment"># recon_default: 100</span></span><br><span class="line"><span class="comment"># recon_max: 5000</span></span><br><span class="line"><span class="comment"># recon_randomize: False</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The loop_interval sets how long in seconds the minion will wait between</span></span><br><span class="line"><span class="comment"># evaluating the scheduler and running cleanup tasks.  This defaults to 1</span></span><br><span class="line"><span class="comment"># second on the minion scheduler.</span></span><br><span class="line"><span class="comment">#loop_interval: 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Some installations choose to start all job returns in a cache or a returner</span></span><br><span class="line"><span class="comment"># and forgo sending the results back to a master. In this workflow, jobs</span></span><br><span class="line"><span class="comment"># are most often executed with --async from the Salt CLI and then results</span></span><br><span class="line"><span class="comment"># are evaluated by examining job caches on the minions or any configured returners.</span></span><br><span class="line"><span class="comment"># WARNING: Setting this to False will **disable** returns back to the master.</span></span><br><span class="line"><span class="comment">#pub_ret: True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># The grains can be merged, instead of overridden, using this option.</span></span><br><span class="line"><span class="comment"># This allows custom grains to defined different subvalues of a dictionary</span></span><br><span class="line"><span class="comment"># grain. By default this feature is disabled, to enable set grains_deep_merge</span></span><br><span class="line"><span class="comment"># to ``True``.</span></span><br><span class="line"><span class="comment">#grains_deep_merge: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The grains_refresh_every setting allows for a minion to periodically check</span></span><br><span class="line"><span class="comment"># its grains to see if they have changed and, if so, to inform the master</span></span><br><span class="line"><span class="comment"># of the new grains. This operation is moderately expensive, therefore</span></span><br><span class="line"><span class="comment"># care should be taken not to set this value too low.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Note: This value is expressed in __minutes__!</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># A value of 10 minutes is a reasonable default.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If the value is set to zero, this check is disabled.</span></span><br><span class="line"><span class="comment">#grains_refresh_every: 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Cache grains on the minion. Default is False.</span></span><br><span class="line"><span class="comment">#grains_cache: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Cache rendered pillar data on the minion. Default is False.</span></span><br><span class="line"><span class="comment"># This may cause 'cachedir'/pillar to contain sensitive data that should be</span></span><br><span class="line"><span class="comment"># protected accordingly.</span></span><br><span class="line"><span class="comment">#minion_pillar_cache: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Grains cache expiration, in seconds. If the cache file is older than this</span></span><br><span class="line"><span class="comment"># number of seconds then the grains cache will be dumped and fully re-populated</span></span><br><span class="line"><span class="comment"># with fresh data. Defaults to 5 minutes. Will have no effect if 'grains_cache'</span></span><br><span class="line"><span class="comment"># is not enabled.</span></span><br><span class="line"><span class="comment"># grains_cache_expiration: 300</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Determines whether or not the salt minion should run scheduled mine updates.</span></span><br><span class="line"><span class="comment"># Defaults to "True". Set to "False" to disable the scheduled mine updates</span></span><br><span class="line"><span class="comment"># (this essentially just does not add the mine update function to the minion's</span></span><br><span class="line"><span class="comment"># scheduler).</span></span><br><span class="line"><span class="comment">#mine_enabled: True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Determines whether or not scheduled mine updates should be accompanied by a job</span></span><br><span class="line"><span class="comment"># return for the job cache. Defaults to "False". Set to "True" to include job</span></span><br><span class="line"><span class="comment"># returns in the job cache for mine updates.</span></span><br><span class="line"><span class="comment">#mine_return_job: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Example functions that can be run via the mine facility</span></span><br><span class="line"><span class="comment"># NO mine functions are established by default.</span></span><br><span class="line"><span class="comment"># Note these can be defined in the minion's pillar as well.</span></span><br><span class="line"><span class="comment">#mine_functions:</span></span><br><span class="line"><span class="comment">#  test.ping: []</span></span><br><span class="line"><span class="comment">#  network.ip_addrs:</span></span><br><span class="line"><span class="comment">#    interface: eth0</span></span><br><span class="line"><span class="comment">#    cidr: '10.0.0.0/8'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The number of seconds a mine update runs.</span></span><br><span class="line"><span class="comment">#mine_interval: 60</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Windows platforms lack posix IPC and must rely on slower TCP based inter-</span></span><br><span class="line"><span class="comment"># process communications. Set ipc_mode to 'tcp' on such systems</span></span><br><span class="line"><span class="comment">#ipc_mode: ipc</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Overwrite the default tcp ports used by the minion when in tcp mode</span></span><br><span class="line"><span class="comment">#tcp_pub_port: 4510</span></span><br><span class="line"><span class="comment">#tcp_pull_port: 4511</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Passing very large events can cause the minion to consume large amounts of</span></span><br><span class="line"><span class="comment"># memory. This value tunes the maximum size of a message allowed onto the</span></span><br><span class="line"><span class="comment"># minion event bus. The value is expressed in bytes.</span></span><br><span class="line"><span class="comment">#max_event_size: 1048576</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># To detect failed master(s) and fire events on connect/disconnect, set</span></span><br><span class="line"><span class="comment"># master_alive_interval to the number of seconds to poll the masters for</span></span><br><span class="line"><span class="comment"># connection events.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#master_alive_interval: 30</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The minion can include configuration from other files. To enable this,</span></span><br><span class="line"><span class="comment"># pass a list of paths to this option. The paths can be either relative or</span></span><br><span class="line"><span class="comment"># absolute; if relative, they are considered to be relative to the directory</span></span><br><span class="line"><span class="comment"># the main minion configuration file lives in (this file). Paths can make use</span></span><br><span class="line"><span class="comment"># of shell-style globbing. If no files are matched by a path passed to this</span></span><br><span class="line"><span class="comment"># option then the minion will log a warning message.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Include a config file from some other path:</span></span><br><span class="line"><span class="comment"># include: /etc/salt/extra_config</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Include config from several files and directories:</span></span><br><span class="line"><span class="comment">#include:</span></span><br><span class="line"><span class="comment">#  - /etc/salt/extra_config</span></span><br><span class="line"><span class="comment">#  - /etc/roles/webserver</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The syndic minion can verify that it is talking to the correct master via the</span></span><br><span class="line"><span class="comment"># key fingerprint of the higher-level master with the "syndic_finger" config.</span></span><br><span class="line"><span class="comment">#syndic_finger: ''</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#####   Minion module management     #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># Disable specific modules. This allows the admin to limit the level of</span></span><br><span class="line"><span class="comment"># access the master has to the minion.  The default here is the empty list,</span></span><br><span class="line"><span class="comment"># below is an example of how this needs to be formatted in the config file</span></span><br><span class="line"><span class="comment">#disable_modules:</span></span><br><span class="line"><span class="comment">#  - cmdmod</span></span><br><span class="line"><span class="comment">#  - test</span></span><br><span class="line"><span class="comment">#disable_returners: []</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This is the reverse of disable_modules.  The default, like disable_modules, is the empty list,</span></span><br><span class="line"><span class="comment"># but if this option is set to *anything* then *only* those modules will load.</span></span><br><span class="line"><span class="comment"># Note that this is a very large hammer and it can be quite difficult to keep the minion working</span></span><br><span class="line"><span class="comment"># the way you think it should since Salt uses many modules internally itself.  At a bare minimum</span></span><br><span class="line"><span class="comment"># you need the following enabled or else the minion won't start.</span></span><br><span class="line"><span class="comment">#whitelist_modules:</span></span><br><span class="line"><span class="comment">#  - cmdmod</span></span><br><span class="line"><span class="comment">#  - test</span></span><br><span class="line"><span class="comment">#  - config</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Modules can be loaded from arbitrary paths. This enables the easy deployment</span></span><br><span class="line"><span class="comment"># of third party modules. Modules for returners and minions can be loaded.</span></span><br><span class="line"><span class="comment"># Specify a list of extra directories to search for minion modules and</span></span><br><span class="line"><span class="comment"># returners. These paths must be fully qualified!</span></span><br><span class="line"><span class="comment">#module_dirs: []</span></span><br><span class="line"><span class="comment">#returner_dirs: []</span></span><br><span class="line"><span class="comment">#states_dirs: []</span></span><br><span class="line"><span class="comment">#render_dirs: []</span></span><br><span class="line"><span class="comment">#utils_dirs: []</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># A module provider can be statically overwritten or extended for the minion</span></span><br><span class="line"><span class="comment"># via the providers option, in this case the default module will be</span></span><br><span class="line"><span class="comment"># overwritten by the specified module. In this example the pkg module will</span></span><br><span class="line"><span class="comment"># be provided by the yumpkg5 module instead of the system default.</span></span><br><span class="line"><span class="comment">#providers:</span></span><br><span class="line"><span class="comment">#  pkg: yumpkg5</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Enable Cython modules searching and loading. (Default: False)</span></span><br><span class="line"><span class="comment">#cython_enable: False</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Specify a max size (in bytes) for modules on import. This feature is currently</span></span><br><span class="line"><span class="comment"># only supported on *nix operating systems and requires psutil.</span></span><br><span class="line"><span class="comment"># modules_max_memory: -1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####    State Management Settings    #####</span></span><br><span class="line"><span class="comment">###########################################</span></span><br><span class="line"><span class="comment"># The state management system executes all of the state templates on the minion</span></span><br><span class="line"><span class="comment"># to enable more granular control of system state management. The type of</span></span><br><span class="line"><span class="comment"># template and serialization used for state management needs to be configured</span></span><br><span class="line"><span class="comment"># on the minion, the default renderer is yaml_jinja. This is a yaml file</span></span><br><span class="line"><span class="comment"># rendered from a jinja template, the available options are:</span></span><br><span class="line"><span class="comment"># yaml_jinja</span></span><br><span class="line"><span class="comment"># yaml_mako</span></span><br><span class="line"><span class="comment"># yaml_wempy</span></span><br><span class="line"><span class="comment"># json_jinja</span></span><br><span class="line"><span class="comment"># json_mako</span></span><br><span class="line"><span class="comment"># json_wempy</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#renderer: yaml_jinja</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The failhard option tells the minions to stop immediately after the first</span></span><br><span class="line"><span class="comment"># failure detected in the state execution. Defaults to False.</span></span><br><span class="line"><span class="comment">#failhard: False</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Reload the modules prior to a highstate run.</span></span><br><span class="line"><span class="comment">#autoload_dynamic_modules: True</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># clean_dynamic_modules keeps the dynamic modules on the minion in sync with</span></span><br><span class="line"><span class="comment"># the dynamic modules on the master, this means that if a dynamic module is</span></span><br><span class="line"><span class="comment"># not on the master it will be deleted from the minion. By default, this is</span></span><br><span class="line"><span class="comment"># enabled and can be disabled by changing this value to False.</span></span><br><span class="line"><span class="comment">#clean_dynamic_modules: True</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Normally, the minion is not isolated to any single environment on the master</span></span><br><span class="line"><span class="comment"># when running states, but the environment can be isolated on the minion side</span></span><br><span class="line"><span class="comment"># by statically setting it. Remember that the recommended way to manage</span></span><br><span class="line"><span class="comment"># environments is to isolate via the top file.</span></span><br><span class="line"><span class="comment">#environment: None</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Isolates the pillar environment on the minion side. This functions the same</span></span><br><span class="line"><span class="comment"># as the environment setting, but for pillar instead of states.</span></span><br><span class="line"><span class="comment">#pillarenv: None</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Set this option to True to force the pillarenv to be the same as the</span></span><br><span class="line"><span class="comment"># effective saltenv when running states. Note that if pillarenv is specified,</span></span><br><span class="line"><span class="comment"># this option will be ignored.</span></span><br><span class="line"><span class="comment">#pillarenv_from_saltenv: False</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Set this option to 'True' to force a 'KeyError' to be raised whenever an</span></span><br><span class="line"><span class="comment"># attempt to retrieve a named value from pillar fails. When this option is set</span></span><br><span class="line"><span class="comment"># to 'False', the failed attempt returns an empty string. Default is 'False'.</span></span><br><span class="line"><span class="comment">#pillar_raise_on_missing: False</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If using the local file directory, then the state top file name needs to be</span></span><br><span class="line"><span class="comment"># defined, by default this is top.sls.</span></span><br><span class="line"><span class="comment">#state_top: top.sls</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Run states when the minion daemon starts. To enable, set startup_states to:</span></span><br><span class="line"><span class="comment"># 'highstate' -- Execute state.highstate</span></span><br><span class="line"><span class="comment"># 'sls' -- Read in the sls_list option and execute the named sls files</span></span><br><span class="line"><span class="comment"># 'top' -- Read top_file option and execute based on that file on the Master</span></span><br><span class="line"><span class="comment">#startup_states: ''</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># List of states to run when the minion starts up if startup_states is 'sls':</span></span><br><span class="line"><span class="comment">#sls_list:</span></span><br><span class="line"><span class="comment">#  - edit.vim</span></span><br><span class="line"><span class="comment">#  - hyper</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Top file to execute if startup_states is 'top':</span></span><br><span class="line"><span class="comment">#top_file: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Automatically aggregate all states that have support for mod_aggregate by</span></span><br><span class="line"><span class="comment"># setting to True. Or pass a list of state module names to automatically</span></span><br><span class="line"><span class="comment"># aggregate just those types.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># state_aggregate:</span></span><br><span class="line"><span class="comment">#   - pkg</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#state_aggregate: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#####     File Directory Settings    #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># The Salt Minion can redirect all file server operations to a local directory,</span></span><br><span class="line"><span class="comment"># this allows for the same state tree that is on the master to be used if</span></span><br><span class="line"><span class="comment"># copied completely onto the minion. This is a literal copy of the settings on</span></span><br><span class="line"><span class="comment"># the master but used to reference a local directory on the minion.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the file client. The client defaults to looking on the master server for</span></span><br><span class="line"><span class="comment"># files, but can be directed to look at the local file directory setting</span></span><br><span class="line"><span class="comment"># defined below by setting it to "local". Setting a local file_client runs the</span></span><br><span class="line"><span class="comment"># minion in masterless mode.</span></span><br><span class="line"><span class="comment">#file_client: remote</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The file directory works on environments passed to the minion, each environment</span></span><br><span class="line"><span class="comment"># can have multiple root directories, the subdirectories in the multiple file</span></span><br><span class="line"><span class="comment"># roots cannot match, otherwise the downloaded files will not be able to be</span></span><br><span class="line"><span class="comment"># reliably ensured. A base environment is required to house the top file.</span></span><br><span class="line"><span class="comment"># Example:</span></span><br><span class="line"><span class="comment"># file_roots:</span></span><br><span class="line"><span class="comment">#   base:</span></span><br><span class="line"><span class="comment">#     - /srv/salt/</span></span><br><span class="line"><span class="comment">#   dev:</span></span><br><span class="line"><span class="comment">#     - /srv/salt/dev/services</span></span><br><span class="line"><span class="comment">#     - /srv/salt/dev/states</span></span><br><span class="line"><span class="comment">#   prod:</span></span><br><span class="line"><span class="comment">#     - /srv/salt/prod/services</span></span><br><span class="line"><span class="comment">#     - /srv/salt/prod/states</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#file_roots:</span></span><br><span class="line"><span class="comment">#  base:</span></span><br><span class="line"><span class="comment">#    - /srv/salt</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the line below if you do not want the file_server to follow</span></span><br><span class="line"><span class="comment"># symlinks when walking the filesystem tree. This is set to True</span></span><br><span class="line"><span class="comment"># by default. Currently this only applies to the default roots</span></span><br><span class="line"><span class="comment"># fileserver_backend.</span></span><br><span class="line"><span class="comment">#fileserver_followsymlinks: False</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Uncomment the line below if you do not want symlinks to be</span></span><br><span class="line"><span class="comment"># treated as the files they are pointing to. By default this is set to</span></span><br><span class="line"><span class="comment"># False. By uncommenting the line below, any detected symlink while listing</span></span><br><span class="line"><span class="comment"># files on the Master will not be returned to the Minion.</span></span><br><span class="line"><span class="comment">#fileserver_ignoresymlinks: True</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># By default, the Salt fileserver recurses fully into all defined environments</span></span><br><span class="line"><span class="comment"># to attempt to find files. To limit this behavior so that the fileserver only</span></span><br><span class="line"><span class="comment"># traverses directories with SLS files and special Salt directories like _modules,</span></span><br><span class="line"><span class="comment"># enable the option below. This might be useful for installations where a file root</span></span><br><span class="line"><span class="comment"># has a very large number of files and performance is negatively impacted. Default</span></span><br><span class="line"><span class="comment"># is False.</span></span><br><span class="line"><span class="comment">#fileserver_limit_traversal: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The hash_type is the hash to use when discovering the hash of a file on</span></span><br><span class="line"><span class="comment"># the local fileserver. The default is sha256, but md5, sha1, sha224, sha384</span></span><br><span class="line"><span class="comment"># and sha512 are also supported.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># WARNING: While md5 and sha1 are also supported, do not use them due to the</span></span><br><span class="line"><span class="comment"># high chance of possible collisions and thus security breach.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Warning: Prior to changing this value, the minion should be stopped and all</span></span><br><span class="line"><span class="comment"># Salt caches should be cleared.</span></span><br><span class="line"><span class="comment">#hash_type: sha256</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The Salt pillar is searched for locally if file_client is set to local. If</span></span><br><span class="line"><span class="comment"># this is the case, and pillar data is defined, then the pillar_roots need to</span></span><br><span class="line"><span class="comment"># also be configured on the minion:</span></span><br><span class="line"><span class="comment">#pillar_roots:</span></span><br><span class="line"><span class="comment">#  base:</span></span><br><span class="line"><span class="comment">#    - /srv/pillar</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set a hard-limit on the size of the files that can be pushed to the master.</span></span><br><span class="line"><span class="comment"># It will be interpreted as megabytes. Default: 100</span></span><br><span class="line"><span class="comment">#file_recv_max_size: 100</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">######        Security settings       #####</span></span><br><span class="line"><span class="comment">###########################################</span></span><br><span class="line"><span class="comment"># Enable "open mode", this mode still maintains encryption, but turns off</span></span><br><span class="line"><span class="comment"># authentication, this is only intended for highly secure environments or for</span></span><br><span class="line"><span class="comment"># the situation where your keys end up in a bad state. If you run in open mode</span></span><br><span class="line"><span class="comment"># you do so at your own risk!</span></span><br><span class="line"><span class="comment">#open_mode: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable permissive access to the salt keys.  This allows you to run the</span></span><br><span class="line"><span class="comment"># master or minion as root, but have a non-root group be given access to</span></span><br><span class="line"><span class="comment"># your pki_dir.  To make the access explicit, root must belong to the group</span></span><br><span class="line"><span class="comment"># you've given access to. This is potentially quite insecure.</span></span><br><span class="line"><span class="comment">#permissive_pki_access: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The state_verbose and state_output settings can be used to change the way</span></span><br><span class="line"><span class="comment"># state system data is printed to the display. By default all data is printed.</span></span><br><span class="line"><span class="comment"># The state_verbose setting can be set to True or False, when set to False</span></span><br><span class="line"><span class="comment"># all data that has a result of True and no changes will be suppressed.</span></span><br><span class="line"><span class="comment">#state_verbose: True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The state_output setting changes if the output is the full multi line</span></span><br><span class="line"><span class="comment"># output for each changed state if set to 'full', but if set to 'terse'</span></span><br><span class="line"><span class="comment"># the output will be shortened to a single line.</span></span><br><span class="line"><span class="comment">#state_output: full</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The state_output_diff setting changes whether or not the output from</span></span><br><span class="line"><span class="comment"># successful states is returned. Useful when even the terse output of these</span></span><br><span class="line"><span class="comment"># states is cluttering the logs. Set it to True to ignore them.</span></span><br><span class="line"><span class="comment">#state_output_diff: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The state_output_profile setting changes whether profile information</span></span><br><span class="line"><span class="comment"># will be shown for each state run.</span></span><br><span class="line"><span class="comment">#state_output_profile: True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Fingerprint of the master public key to validate the identity of your Salt master</span></span><br><span class="line"><span class="comment"># before the initial key exchange. The master fingerprint can be found by running</span></span><br><span class="line"><span class="comment"># "salt-key -f master.pub" on the Salt master.</span></span><br><span class="line"><span class="comment">#master_finger: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Use TLS/SSL encrypted connection between master and minion.</span></span><br><span class="line"><span class="comment"># Can be set to a dictionary containing keyword arguments corresponding to Python's</span></span><br><span class="line"><span class="comment"># 'ssl.wrap_socket' method.</span></span><br><span class="line"><span class="comment"># Default is None.</span></span><br><span class="line"><span class="comment">#ssl:</span></span><br><span class="line"><span class="comment">#    keyfile: &lt;path_to_keyfile&gt;</span></span><br><span class="line"><span class="comment">#    certfile: &lt;path_to_certfile&gt;</span></span><br><span class="line"><span class="comment">#    ssl_version: PROTOCOL_TLSv1_2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">######         Thread settings        #####</span></span><br><span class="line"><span class="comment">###########################################</span></span><br><span class="line"><span class="comment"># Disable multiprocessing support, by default when a minion receives a</span></span><br><span class="line"><span class="comment"># publication a new process is spawned and the command is executed therein.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># WARNING: Disabling multiprocessing may result in substantial slowdowns</span></span><br><span class="line"><span class="comment"># when processing large pillars. See https://github.com/saltstack/salt/issues/38758</span></span><br><span class="line"><span class="comment"># for a full explanation.</span></span><br><span class="line"><span class="comment">#multiprocessing: True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####         Logging settings       #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># The location of the minion log file</span></span><br><span class="line"><span class="comment"># The minion log can be sent to a regular file, local path name, or network</span></span><br><span class="line"><span class="comment"># location. Remote logging works best when configured to use rsyslogd(8) (e.g.:</span></span><br><span class="line"><span class="comment"># ``file:///dev/log``), with rsyslogd(8) configured for network logging. The URI</span></span><br><span class="line"><span class="comment"># format is: &lt;file|udp|tcp&gt;://&lt;host|socketpath&gt;:&lt;port-if-required&gt;/&lt;log-facility&gt;</span></span><br><span class="line"><span class="comment">#log_file: /var/log/salt/minion</span></span><br><span class="line"><span class="comment">#log_file: file:///dev/log</span></span><br><span class="line"><span class="comment">#log_file: udp://loghost:10514</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#log_file: /var/log/salt/minion</span></span><br><span class="line"><span class="comment">#key_logfile: /var/log/salt/key</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The level of messages to send to the console.</span></span><br><span class="line"><span class="comment"># One of 'garbage', 'trace', 'debug', info', 'warning', 'error', 'critical'.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The following log levels are considered INSECURE and may log sensitive data:</span></span><br><span class="line"><span class="comment"># ['garbage', 'trace', 'debug']</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Default: 'warning'</span></span><br><span class="line"><span class="comment">#log_level: warning</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The level of messages to send to the log file.</span></span><br><span class="line"><span class="comment"># One of 'garbage', 'trace', 'debug', info', 'warning', 'error', 'critical'.</span></span><br><span class="line"><span class="comment"># If using 'log_granular_levels' this must be set to the highest desired level.</span></span><br><span class="line"><span class="comment"># Default: 'warning'</span></span><br><span class="line"><span class="comment">#log_level_logfile:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The date and time format used in log messages. Allowed date/time formatting</span></span><br><span class="line"><span class="comment"># can be seen here: http://docs.python.org/library/time.html#time.strftime</span></span><br><span class="line"><span class="comment">#log_datefmt: '%H:%M:%S'</span></span><br><span class="line"><span class="comment">#log_datefmt_logfile: '%Y-%m-%d %H:%M:%S'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The format of the console logging messages. Allowed formatting options can</span></span><br><span class="line"><span class="comment"># be seen here: http://docs.python.org/library/logging.html#logrecord-attributes</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Console log colors are specified by these additional formatters:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># %(colorlevel)s</span></span><br><span class="line"><span class="comment"># %(colorname)s</span></span><br><span class="line"><span class="comment"># %(colorprocess)s</span></span><br><span class="line"><span class="comment"># %(colormsg)s</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Since it is desirable to include the surrounding brackets, '[' and ']', in</span></span><br><span class="line"><span class="comment"># the coloring of the messages, these color formatters also include padding as</span></span><br><span class="line"><span class="comment"># well.  Color LogRecord attributes are only available for console logging.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#log_fmt_console: '%(colorlevel)s %(colormsg)s'</span></span><br><span class="line"><span class="comment">#log_fmt_console: '[%(levelname)-8s] %(message)s'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#log_fmt_logfile: '%(asctime)s,%(msecs)03d [%(name)-17s][%(levelname)-8s] %(message)s'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This can be used to control logging levels more specificically.  This</span></span><br><span class="line"><span class="comment"># example sets the main salt library at the 'warning' level, but sets</span></span><br><span class="line"><span class="comment"># 'salt.modules' to log at the 'debug' level:</span></span><br><span class="line"><span class="comment">#   log_granular_levels:</span></span><br><span class="line"><span class="comment">#     'salt': 'warning'</span></span><br><span class="line"><span class="comment">#     'salt.modules': 'debug'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#log_granular_levels: &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># To diagnose issues with minions disconnecting or missing returns, ZeroMQ</span></span><br><span class="line"><span class="comment"># supports the use of monitor sockets to log connection events. This</span></span><br><span class="line"><span class="comment"># feature requires ZeroMQ 4.0 or higher.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># To enable ZeroMQ monitor sockets, set 'zmq_monitor' to 'True' and log at a</span></span><br><span class="line"><span class="comment"># debug level or higher.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># A sample log event is as follows:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># [DEBUG   ] ZeroMQ event: &#123;'endpoint': 'tcp://127.0.0.1:4505', 'event': 512,</span></span><br><span class="line"><span class="comment"># 'value': 27, 'description': 'EVENT_DISCONNECTED'&#125;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># All events logged will include the string 'ZeroMQ event'. A connection event</span></span><br><span class="line"><span class="comment"># should be logged as the minion starts up and initially connects to the</span></span><br><span class="line"><span class="comment"># master. If not, check for debug log level and that the necessary version of</span></span><br><span class="line"><span class="comment"># ZeroMQ is installed.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#zmq_monitor: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Number of times to try to authenticate with the salt master when reconnecting</span></span><br><span class="line"><span class="comment"># to the master</span></span><br><span class="line"><span class="comment">#tcp_authentication_retries: 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">######      Module configuration      #####</span></span><br><span class="line"><span class="comment">###########################################</span></span><br><span class="line"><span class="comment"># Salt allows for modules to be passed arbitrary configuration data, any data</span></span><br><span class="line"><span class="comment"># passed here in valid yaml format will be passed on to the salt minion modules</span></span><br><span class="line"><span class="comment"># for use. It is STRONGLY recommended that a naming convention be used in which</span></span><br><span class="line"><span class="comment"># the module name is followed by a . and then the value. Also, all top level</span></span><br><span class="line"><span class="comment"># data must be applied via the yaml dict construct, some examples:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># You can specify that all modules should run in test mode:</span></span><br><span class="line"><span class="comment">#test: True</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># A simple value for the test module:</span></span><br><span class="line"><span class="comment">#test.foo: foo</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># A list for the test module:</span></span><br><span class="line"><span class="comment">#test.bar: [baz,quo]</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># A dict for the test module:</span></span><br><span class="line"><span class="comment">#test.baz: &#123;spam: sausage, cheese: bread&#125;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">######      Update settings          ######</span></span><br><span class="line"><span class="comment">###########################################</span></span><br><span class="line"><span class="comment"># Using the features in Esky, a salt minion can both run as a frozen app and</span></span><br><span class="line"><span class="comment"># be updated on the fly. These options control how the update process</span></span><br><span class="line"><span class="comment"># (saltutil.update()) behaves.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The url for finding and downloading updates. Disabled by default.</span></span><br><span class="line"><span class="comment">#update_url: False</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The list of services to restart after a successful update. Empty by default.</span></span><br><span class="line"><span class="comment">#update_restart_services: []</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">######      Keepalive settings        ######</span></span><br><span class="line"><span class="comment">############################################</span></span><br><span class="line"><span class="comment"># ZeroMQ now includes support for configuring SO_KEEPALIVE if supported by</span></span><br><span class="line"><span class="comment"># the OS. If connections between the minion and the master pass through</span></span><br><span class="line"><span class="comment"># a state tracking device such as a firewall or VPN gateway, there is</span></span><br><span class="line"><span class="comment"># the risk that it could tear down the connection the master and minion</span></span><br><span class="line"><span class="comment"># without informing either party that their connection has been taken away.</span></span><br><span class="line"><span class="comment"># Enabling TCP Keepalives prevents this from happening.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Overall state of TCP Keepalives, enable (1 or True), disable (0 or False)</span></span><br><span class="line"><span class="comment"># or leave to the OS defaults (-1), on Linux, typically disabled. Default True, enabled.</span></span><br><span class="line"><span class="comment">#tcp_keepalive: True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># How long before the first keepalive should be sent in seconds. Default 300</span></span><br><span class="line"><span class="comment"># to send the first keepalive after 5 minutes, OS default (-1) is typically 7200 seconds</span></span><br><span class="line"><span class="comment"># on Linux see /proc/sys/net/ipv4/tcp_keepalive_time.</span></span><br><span class="line"><span class="comment">#tcp_keepalive_idle: 300</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># How many lost probes are needed to consider the connection lost. Default -1</span></span><br><span class="line"><span class="comment"># to use OS defaults, typically 9 on Linux, see /proc/sys/net/ipv4/tcp_keepalive_probes.</span></span><br><span class="line"><span class="comment">#tcp_keepalive_cnt: -1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># How often, in seconds, to send keepalives after the first one. Default -1 to</span></span><br><span class="line"><span class="comment"># use OS defaults, typically 75 seconds on Linux, see</span></span><br><span class="line"><span class="comment"># /proc/sys/net/ipv4/tcp_keepalive_intvl.</span></span><br><span class="line"><span class="comment">#tcp_keepalive_intvl: -1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">######   Windows Software settings    ######</span></span><br><span class="line"><span class="comment">############################################</span></span><br><span class="line"><span class="comment"># Location of the repository cache file on the master:</span></span><br><span class="line"><span class="comment">#win_repo_cachefile: 'salt://win/repo/winrepo.p'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">######      Returner  settings        ######</span></span><br><span class="line"><span class="comment">############################################</span></span><br><span class="line"><span class="comment"># Default Minion returners. Can be a comma delimited string or a list:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#return: mysql</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#return: mysql,slack,redis</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#return:</span></span><br><span class="line"><span class="comment">#  - mysql</span></span><br><span class="line"><span class="comment">#  - hipchat</span></span><br><span class="line"><span class="comment">#  - slack</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">######    Miscellaneous  settings     ######</span></span><br><span class="line"><span class="comment">############################################</span></span><br><span class="line"><span class="comment"># Default match type for filtering events tags: startswith, endswith, find, regex, fnmatch</span></span><br><span class="line"><span class="comment">#event_match_type: startswith</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/08/16/salt-minion-conf/" data-id="cjazexzlz00ajqcoq4d69ts15" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-salt-syndic-conf" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/16/salt-syndic-conf/" class="article-date">
  <time datetime="2017-08-16T01:30:25.000Z" itemprop="datePublished">2017-08-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/automation/">automation</a>►<a class="article-category-link" href="/categories/automation/salt/">salt</a>►<a class="article-category-link" href="/categories/automation/salt/salt-syndic-conf/">salt syndic.conf</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/16/salt-syndic-conf/">salt syndic.conf</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="salt-syndic-conf"><a href="#salt-syndic-conf" class="headerlink" title="salt syndic.conf"></a>salt syndic.conf</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br></pre></td><td class="code"><pre><span class="line">[root@saltsyndic[X] ~]<span class="comment"># cat /etc/salt/master.d/master.conf</span></span><br><span class="line"><span class="comment">##### Primary configuration settings #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># This configuration file is used to manage the behavior of the Salt Master.</span></span><br><span class="line"><span class="comment"># Values that are commented out but have an empty line after the comment are</span></span><br><span class="line"><span class="comment"># defaults that do not need to be set in the config. If there is no blank line</span></span><br><span class="line"><span class="comment"># after the comment then the value is presented as an example and is not the</span></span><br><span class="line"><span class="comment"># default.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Per default, the master will automatically include all config files</span></span><br><span class="line"><span class="comment"># from master.d/*.conf (master.d is a directory in the same directory</span></span><br><span class="line"><span class="comment"># as the main master config file).</span></span><br><span class="line"><span class="comment">#default_include: master.d/*.conf</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The address of the interface to bind to:</span></span><br><span class="line">interface: 0.0.0.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># Whether the master should listen for IPv6 connections. If this is set to True,</span></span><br><span class="line"><span class="comment"># the interface option must be adjusted, too. (For example: "interface: '::'")</span></span><br><span class="line">ipv6: False</span><br><span class="line"></span><br><span class="line"><span class="comment"># The tcp port used by the publisher:</span></span><br><span class="line">publish_port: 4505</span><br><span class="line"></span><br><span class="line"><span class="comment"># The user under which the salt master will run. Salt will update all</span></span><br><span class="line"><span class="comment"># permissions to allow the specified user to run the master. The exception is</span></span><br><span class="line"><span class="comment"># the job cache, which must be deleted if this user is changed. If the</span></span><br><span class="line"><span class="comment"># modified files cause conflicts, set verify_env to False.</span></span><br><span class="line">user: root</span><br><span class="line"></span><br><span class="line"><span class="comment"># The port used by the communication interface. The ret (return) port is the</span></span><br><span class="line"><span class="comment"># interface used for the file server, authentication, job returns, etc.</span></span><br><span class="line">ret_port: 4506</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify the location of the daemon process ID file:</span></span><br><span class="line">pidfile: /var/run/salt/salt-master.pid</span><br><span class="line"></span><br><span class="line"><span class="comment"># The root directory prepended to these options: pki_dir, cachedir,</span></span><br><span class="line"><span class="comment"># sock_dir, log_file, autosign_file, autoreject_file, extension_modules,</span></span><br><span class="line"><span class="comment"># key_logfile, pidfile:</span></span><br><span class="line">root_dir: /</span><br><span class="line"></span><br><span class="line"><span class="comment"># The path to the master's configuration file.</span></span><br><span class="line">conf_file: /etc/salt/master</span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory used to store public key data:</span></span><br><span class="line">pki_dir: /salt/pki/master</span><br><span class="line"></span><br><span class="line"><span class="comment"># Key cache. Increases master speed for large numbers of accepted</span></span><br><span class="line"><span class="comment"># keys. Available options: 'sched'. (Updates on a fixed schedule.)</span></span><br><span class="line"><span class="comment"># Note that enabling this feature means that minions will not be</span></span><br><span class="line"><span class="comment"># available to target for up to the length of the maintanence loop</span></span><br><span class="line"><span class="comment"># which by default is 60s.</span></span><br><span class="line">key_cache: <span class="string">'sched'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory to store job and cache data:</span></span><br><span class="line"><span class="comment"># This directory may contain sensitive data and should be protected accordingly.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">cachedir: /var/cache/salt/master</span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory for custom modules. This directory can contain subdirectories for</span></span><br><span class="line"><span class="comment"># each of Salt's module types such as "runners", "output", "wheel", "modules",</span></span><br><span class="line"><span class="comment"># "states", "returners", etc.</span></span><br><span class="line"><span class="comment">#extension_modules: &lt;no default&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory for custom modules. This directory can contain subdirectories for</span></span><br><span class="line"><span class="comment"># each of Salt's module types such as "runners", "output", "wheel", "modules",</span></span><br><span class="line"><span class="comment"># "states", "returners", "engines", etc.</span></span><br><span class="line"><span class="comment"># Like 'extension_modules' but can take an array of paths</span></span><br><span class="line">module_dirs:</span><br><span class="line">   - /var/cache/salt/minion/extmods</span><br><span class="line"></span><br><span class="line"><span class="comment"># Verify and set permissions on configuration directories at startup:</span></span><br><span class="line">verify_env: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the number of hours to keep old job information in the job cache:</span></span><br><span class="line">keep_jobs: 24</span><br><span class="line"></span><br><span class="line"><span class="comment"># The number of seconds to wait when the client is requesting information</span></span><br><span class="line"><span class="comment"># about running jobs.</span></span><br><span class="line">gather_job_timeout: 10</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the default timeout for the salt command and api. The default is 5</span></span><br><span class="line"><span class="comment"># seconds.</span></span><br><span class="line">timeout: 10</span><br><span class="line"></span><br><span class="line"><span class="comment"># The loop_interval option controls the seconds for the master's maintenance</span></span><br><span class="line"><span class="comment"># process check cycle. This process updates file server backends, cleans the</span></span><br><span class="line"><span class="comment"># job cache and executes the scheduler.</span></span><br><span class="line">loop_interval: 60</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the default outputter used by the salt command. The default is "nested".</span></span><br><span class="line">output: nested</span><br><span class="line"></span><br><span class="line"><span class="comment"># To set a list of additional directories to search for salt outputters, set the</span></span><br><span class="line"><span class="comment"># outputter_dirs option.</span></span><br><span class="line"><span class="comment">#outputter_dirs: []</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the default output file used by the salt command. Default is to output</span></span><br><span class="line"><span class="comment"># to the CLI and not to a file. Functions the same way as the "--out-file"</span></span><br><span class="line"><span class="comment"># CLI option, only sets this to a single file for all salt commands.</span></span><br><span class="line"><span class="comment"># output_file: /mnt/log/salt/output_file</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Return minions that timeout when running commands like test.ping</span></span><br><span class="line">show_timeout: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># Tell the client to display the jid when a job is published.</span></span><br><span class="line">show_jid: False</span><br><span class="line"></span><br><span class="line"><span class="comment"># By default, output is colored. To disable colored output, set the color value</span></span><br><span class="line"><span class="comment"># to False.</span></span><br><span class="line">color: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># Do not strip off the colored output from nested results and state outputs</span></span><br><span class="line"><span class="comment"># (true by default).</span></span><br><span class="line">strip_colors: False</span><br><span class="line"></span><br><span class="line"><span class="comment"># To display a summary of the number of minions targeted, the number of</span></span><br><span class="line"><span class="comment"># minions returned, and the number of minions that did not return, set the</span></span><br><span class="line"><span class="comment"># cli_summary value to True. (False by default.)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">cli_summary: False</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the directory used to hold unix sockets:</span></span><br><span class="line">sock_dir: /var/run/salt/master</span><br><span class="line"></span><br><span class="line"><span class="comment"># The master can take a while to start up when lspci and/or dmidecode is used</span></span><br><span class="line"><span class="comment"># to populate the grains for the master. Enable if you want to see GPU hardware</span></span><br><span class="line"><span class="comment"># data for your master.</span></span><br><span class="line">enable_gpu_grains: False</span><br><span class="line"></span><br><span class="line"><span class="comment"># The master maintains a job cache. While this is a great addition, it can be</span></span><br><span class="line"><span class="comment"># a burden on the master for larger deployments (over 5000 minions).</span></span><br><span class="line"><span class="comment"># Disabling the job cache will make previously executed jobs unavailable to</span></span><br><span class="line"><span class="comment"># the jobs system and is not generally recommended.</span></span><br><span class="line">job_cache: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># Cache minion grains, pillar and mine data via the cache subsystem in the</span></span><br><span class="line"><span class="comment"># cachedir or a database.</span></span><br><span class="line">minion_data_cache: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># Cache subsystem module to use for minion data cache.</span></span><br><span class="line">cache: localfs</span><br><span class="line"><span class="comment"># Enables a fast in-memory cache booster and sets the expiration time.</span></span><br><span class="line">memcache_expire_seconds: 0</span><br><span class="line"><span class="comment"># Set a memcache limit in items (bank + key) per cache storage (driver + driver_opts).</span></span><br><span class="line">memcache_max_items: 102400</span><br><span class="line"><span class="comment"># Each time a cache storage got full cleanup all the expired items not just the oldest one.</span></span><br><span class="line">memcache_full_cleanup: False</span><br><span class="line"><span class="comment"># Enable collecting the memcache stats and log it on `debug` log level.</span></span><br><span class="line">memcache_debug: False</span><br><span class="line"></span><br><span class="line"><span class="comment"># Store all returns in the given returner.</span></span><br><span class="line"><span class="comment"># Setting this option requires that any returner-specific configuration also</span></span><br><span class="line"><span class="comment"># be set. See various returners in salt/returners for details on required</span></span><br><span class="line"><span class="comment"># configuration values. (See also, event_return_queue below.)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#event_return: mysql</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># On busy systems, enabling event_returns can cause a considerable load on</span></span><br><span class="line"><span class="comment"># the storage system for returners. Events can be queued on the master and</span></span><br><span class="line"><span class="comment"># stored in a batched fashion using a single transaction for multiple events.</span></span><br><span class="line"><span class="comment"># By default, events are not queued.</span></span><br><span class="line"><span class="comment">#event_return_queue: 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Only return events matching tags in a whitelist, supports glob matches.</span></span><br><span class="line"><span class="comment">#event_return_whitelist:</span></span><br><span class="line"><span class="comment">#  - salt/master/a_tag</span></span><br><span class="line"><span class="comment">#  - salt/run/*/ret</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Store all event returns **except** the tags in a blacklist, supports globs.</span></span><br><span class="line"><span class="comment">#event_return_blacklist:</span></span><br><span class="line"><span class="comment">#  - salt/master/not_this_tag</span></span><br><span class="line"><span class="comment">#  - salt/wheel/*/ret</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Passing very large events can cause the minion to consume large amounts of</span></span><br><span class="line"><span class="comment"># memory. This value tunes the maximum size of a message allowed onto the</span></span><br><span class="line"><span class="comment"># master event bus. The value is expressed in bytes.</span></span><br><span class="line"><span class="comment">#max_event_size: 1048576</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># By default, the master AES key rotates every 24 hours. The next command</span></span><br><span class="line"><span class="comment"># following a key rotation will trigger a key refresh from the minion which may</span></span><br><span class="line"><span class="comment"># result in minions which do not respond to the first command after a key refresh.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># To tell the master to ping all minions immediately after an AES key refresh, set</span></span><br><span class="line"><span class="comment"># ping_on_rotate to True. This should mitigate the issue where a minion does not</span></span><br><span class="line"><span class="comment"># appear to initially respond after a key is rotated.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Note that ping_on_rotate may cause high load on the master immediately after</span></span><br><span class="line"><span class="comment"># the key rotation event as minions reconnect. Consider this carefully if this</span></span><br><span class="line"><span class="comment"># salt master is managing a large number of minions.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If disabled, it is recommended to handle this event by listening for the</span></span><br><span class="line"><span class="comment"># 'aes_key_rotate' event with the 'key' tag and acting appropriately.</span></span><br><span class="line"><span class="comment"># ping_on_rotate: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># By default, the master deletes its cache of minion data when the key for that</span></span><br><span class="line"><span class="comment"># minion is removed. To preserve the cache after key deletion, set</span></span><br><span class="line"><span class="comment"># 'preserve_minion_cache' to True.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># WARNING: This may have security implications if compromised minions auth with</span></span><br><span class="line"><span class="comment"># a previous deleted minion ID.</span></span><br><span class="line"><span class="comment">#preserve_minion_cache: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Allow or deny minions from requesting their own key revocation</span></span><br><span class="line"><span class="comment">#allow_minion_key_revoke: True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If max_minions is used in large installations, the master might experience</span></span><br><span class="line"><span class="comment"># high-load situations because of having to check the number of connected</span></span><br><span class="line"><span class="comment"># minions for every authentication. This cache provides the minion-ids of</span></span><br><span class="line"><span class="comment"># all connected minions to all MWorker-processes and greatly improves the</span></span><br><span class="line"><span class="comment"># performance of max_minions.</span></span><br><span class="line"><span class="comment"># con_cache: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The master can include configuration from other files. To enable this,</span></span><br><span class="line"><span class="comment"># pass a list of paths to this option. The paths can be either relative or</span></span><br><span class="line"><span class="comment"># absolute; if relative, they are considered to be relative to the directory</span></span><br><span class="line"><span class="comment"># the main master configuration file lives in (this file). Paths can make use</span></span><br><span class="line"><span class="comment"># of shell-style globbing. If no files are matched by a path passed to this</span></span><br><span class="line"><span class="comment"># option, then the master will log a warning message.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Include a config file from some other path:</span></span><br><span class="line"><span class="comment"># include: /etc/salt/extra_config</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Include config from several files and directories:</span></span><br><span class="line"><span class="comment"># include:</span></span><br><span class="line"><span class="comment">#   - /etc/salt/extra_config</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####  Large-scale tuning settings   #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># Max open files</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Each minion connecting to the master uses AT LEAST one file descriptor, the</span></span><br><span class="line"><span class="comment"># master subscription connection. If enough minions connect you might start</span></span><br><span class="line"><span class="comment"># seeing on the console (and then salt-master crashes):</span></span><br><span class="line"><span class="comment">#   Too many open files (tcp_listener.cpp:335)</span></span><br><span class="line"><span class="comment">#   Aborted (core dumped)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># By default this value will be the one of `ulimit -Hn`, ie, the hard limit for</span></span><br><span class="line"><span class="comment"># max open files.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If you wish to set a different value than the default one, uncomment and</span></span><br><span class="line"><span class="comment"># configure this setting. Remember that this value CANNOT be higher than the</span></span><br><span class="line"><span class="comment"># hard limit. Raising the hard limit depends on your OS and/or distribution,</span></span><br><span class="line"><span class="comment"># a good way to find the limit is to search the internet. For example:</span></span><br><span class="line"><span class="comment">#   raise max open files hard limit debian</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">max_open_files: 65535</span><br><span class="line"></span><br><span class="line"><span class="comment"># The number of worker threads to start. These threads are used to manage</span></span><br><span class="line"><span class="comment"># return calls made from minions to the master. If the master seems to be</span></span><br><span class="line"><span class="comment"># running slowly, increase the number of threads. This setting can not be</span></span><br><span class="line"><span class="comment"># set lower than 3.</span></span><br><span class="line">worker_threads: 8</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the ZeroMQ high water marks</span></span><br><span class="line"><span class="comment"># http://api.zeromq.org/3-2:zmq-setsockopt</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The listen queue size / backlog</span></span><br><span class="line">zmq_backlog: 1000</span><br><span class="line"></span><br><span class="line"><span class="comment"># The publisher interface ZeroMQPubServerChannel</span></span><br><span class="line">pub_hwm: 1000</span><br><span class="line"></span><br><span class="line"><span class="comment"># These two ZMQ HWM settings, salt_event_pub_hwm and event_publisher_pub_hwm</span></span><br><span class="line"><span class="comment"># are significant for masters with thousands of minions.  When these are</span></span><br><span class="line"><span class="comment"># insufficiently high it will manifest in random responses missing in the CLI</span></span><br><span class="line"><span class="comment"># and even missing from the job cache.  Masters that have fast CPUs and many</span></span><br><span class="line"><span class="comment"># cores with appropriate worker_threads will not need these set as high.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># On deployment with 8,000 minions, 2.4GHz CPUs, 24 cores, 32GiB memory has</span></span><br><span class="line"><span class="comment"># these settings:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   salt_event_pub_hwm: 128000</span></span><br><span class="line"><span class="comment">#   event_publisher_pub_hwm: 64000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ZMQ high-water-mark for SaltEvent pub socket</span></span><br><span class="line">salt_event_pub_hwm: 20000</span><br><span class="line"></span><br><span class="line"><span class="comment"># ZMQ high-water-mark for EventPublisher pub socket</span></span><br><span class="line">event_publisher_pub_hwm: 10000</span><br><span class="line"></span><br><span class="line"><span class="comment"># The master may allocate memory per-event and not</span></span><br><span class="line"><span class="comment"># reclaim it.</span></span><br><span class="line"><span class="comment"># To set a high-water mark for memory allocation, use</span></span><br><span class="line"><span class="comment"># ipc_write_buffer to set a high-water mark for message</span></span><br><span class="line"><span class="comment"># buffering.</span></span><br><span class="line"><span class="comment"># Value: In bytes. Set to 'dynamic' to have Salt select</span></span><br><span class="line"><span class="comment"># a value for you. Default is disabled.</span></span><br><span class="line">ipc_write_buffer: <span class="string">'dynamic'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####        Security settings       #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># Enable "open mode", this mode still maintains encryption, but turns off</span></span><br><span class="line"><span class="comment"># authentication, this is only intended for highly secure environments or for</span></span><br><span class="line"><span class="comment"># the situation where your keys end up in a bad state. If you run in open mode</span></span><br><span class="line"><span class="comment"># you do so at your own risk!</span></span><br><span class="line">open_mode: False</span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable auto_accept, this setting will automatically accept all incoming</span></span><br><span class="line"><span class="comment"># public keys from the minions. Note that this is insecure.</span></span><br><span class="line">auto_accept: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># Time in minutes that an incoming public key with a matching name found in</span></span><br><span class="line"><span class="comment"># pki_dir/minion_autosign/keyid is automatically accepted. Expired autosign keys</span></span><br><span class="line"><span class="comment"># are removed when the master checks the minion_autosign directory.</span></span><br><span class="line"><span class="comment"># 0 equals no timeout</span></span><br><span class="line">autosign_timeout: 120</span><br><span class="line"></span><br><span class="line"><span class="comment"># If the autosign_file is specified, incoming keys specified in the</span></span><br><span class="line"><span class="comment"># autosign_file will be automatically accepted. This is insecure.  Regular</span></span><br><span class="line"><span class="comment"># expressions as well as globing lines are supported.</span></span><br><span class="line">autosign_file: /etc/salt/autosign.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># Works like autosign_file, but instead allows you to specify minion IDs for</span></span><br><span class="line"><span class="comment"># which keys will automatically be rejected. Will override both membership in</span></span><br><span class="line"><span class="comment"># the autosign_file and the auto_accept setting.</span></span><br><span class="line">autoreject_file: /etc/salt/autoreject.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable permissive access to the salt keys. This allows you to run the</span></span><br><span class="line"><span class="comment"># master or minion as root, but have a non-root group be given access to</span></span><br><span class="line"><span class="comment"># your pki_dir. To make the access explicit, root must belong to the group</span></span><br><span class="line"><span class="comment"># you've given access to. This is potentially quite insecure. If an autosign_file</span></span><br><span class="line"><span class="comment"># is specified, enabling permissive_pki_access will allow group access to that</span></span><br><span class="line"><span class="comment"># specific file.</span></span><br><span class="line">permissive_pki_access: False</span><br><span class="line"></span><br><span class="line"><span class="comment"># Allow users on the master access to execute specific commands on minions.</span></span><br><span class="line"><span class="comment"># This setting should be treated with care since it opens up execution</span></span><br><span class="line"><span class="comment"># capabilities to non root users. By default this capability is completely</span></span><br><span class="line"><span class="comment"># disabled.</span></span><br><span class="line"><span class="comment">#publisher_acl:</span></span><br><span class="line"><span class="comment">#  larry:</span></span><br><span class="line"><span class="comment">#    - test.ping</span></span><br><span class="line"><span class="comment">#    - network.*</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Blacklist any of the following users or modules</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This example would blacklist all non sudo users, including root from</span></span><br><span class="line"><span class="comment"># running any commands. It would also blacklist any use of the "cmd"</span></span><br><span class="line"><span class="comment"># module. This is completely disabled by default.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Check the list of configured users in client ACL against users on the</span></span><br><span class="line"><span class="comment"># system and throw errors if they do not exist.</span></span><br><span class="line"><span class="comment">#client_acl_verify: True</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#publisher_acl_blacklist:</span></span><br><span class="line"><span class="comment">#  users:</span></span><br><span class="line"><span class="comment">#    - root</span></span><br><span class="line"><span class="comment">#    - '^(?!sudo_).*$'   #  all non sudo users</span></span><br><span class="line"><span class="comment">#  modules:</span></span><br><span class="line"><span class="comment">#    - cmd</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enforce publisher_acl &amp; publisher_acl_blacklist when users have sudo</span></span><br><span class="line"><span class="comment"># access to the salt command.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#sudo_acl: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The external auth system uses the Salt auth modules to authenticate and</span></span><br><span class="line"><span class="comment"># validate users to access areas of the Salt system.</span></span><br><span class="line"><span class="comment">#external_auth:</span></span><br><span class="line"><span class="comment">#  pam:</span></span><br><span class="line"><span class="comment">#    fred:</span></span><br><span class="line"><span class="comment">#      - test.*</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Time (in seconds) for a newly generated token to live. Default: 12 hours</span></span><br><span class="line"><span class="comment">#token_expire: 43200</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Allow eauth users to specify the expiry time of the tokens they generate.</span></span><br><span class="line"><span class="comment"># A boolean applies to all users or a dictionary of whitelisted eauth backends</span></span><br><span class="line"><span class="comment"># and usernames may be given.</span></span><br><span class="line"><span class="comment"># token_expire_user_override:</span></span><br><span class="line"><span class="comment">#   pam:</span></span><br><span class="line"><span class="comment">#     - fred</span></span><br><span class="line"><span class="comment">#     - tom</span></span><br><span class="line"><span class="comment">#   ldap:</span></span><br><span class="line"><span class="comment">#     - gary</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#token_expire_user_override: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to True to enable keeping the calculated user's auth list in the token</span></span><br><span class="line"><span class="comment"># file. This is disabled by default and the auth list is calculated or requested</span></span><br><span class="line"><span class="comment"># from the eauth driver each time.</span></span><br><span class="line"><span class="comment">#keep_acl_in_token: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Auth subsystem module to use to get authorized access list for a user. By default it's</span></span><br><span class="line"><span class="comment"># the same module used for external authentication.</span></span><br><span class="line"><span class="comment">#eauth_acl_module: django</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Allow minions to push files to the master. This is disabled by default, for</span></span><br><span class="line"><span class="comment"># security purposes.</span></span><br><span class="line"><span class="comment">#file_recv: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set a hard-limit on the size of the files that can be pushed to the master.</span></span><br><span class="line"><span class="comment"># It will be interpreted as megabytes. Default: 100</span></span><br><span class="line"><span class="comment">#file_recv_max_size: 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Signature verification on messages published from the master.</span></span><br><span class="line"><span class="comment"># This causes the master to cryptographically sign all messages published to its event</span></span><br><span class="line"><span class="comment"># bus, and minions then verify that signature before acting on the message.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This is False by default.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Note that to facilitate interoperability with masters and minions that are different</span></span><br><span class="line"><span class="comment"># versions, if sign_pub_messages is True but a message is received by a minion with</span></span><br><span class="line"><span class="comment"># no signature, it will still be accepted, and a warning message will be logged.</span></span><br><span class="line"><span class="comment"># Conversely, if sign_pub_messages is False, but a minion receives a signed</span></span><br><span class="line"><span class="comment"># message it will be accepted, the signature will not be checked, and a warning message</span></span><br><span class="line"><span class="comment"># will be logged. This behavior went away in Salt 2014.1.0 and these two situations</span></span><br><span class="line"><span class="comment"># will cause minion to throw an exception and drop the message.</span></span><br><span class="line"><span class="comment"># sign_pub_messages: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Signature verification on messages published from minions</span></span><br><span class="line"><span class="comment"># This requires that minions cryptographically sign the messages they</span></span><br><span class="line"><span class="comment"># publish to the master.  If minions are not signing, then log this information</span></span><br><span class="line"><span class="comment"># at loglevel 'INFO' and drop the message without acting on it.</span></span><br><span class="line"><span class="comment"># require_minion_sign_messages: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The below will drop messages when their signatures do not validate.</span></span><br><span class="line"><span class="comment"># Note that when this option is False but `require_minion_sign_messages` is True</span></span><br><span class="line"><span class="comment"># minions MUST sign their messages but the validity of their signatures</span></span><br><span class="line"><span class="comment"># is ignored.</span></span><br><span class="line"><span class="comment"># These two config options exist so a Salt infrastructure can be moved</span></span><br><span class="line"><span class="comment"># to signing minion messages gradually.</span></span><br><span class="line"><span class="comment"># drop_messages_signature_fail: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Use TLS/SSL encrypted connection between master and minion.</span></span><br><span class="line"><span class="comment"># Can be set to a dictionary containing keyword arguments corresponding to Python's</span></span><br><span class="line"><span class="comment"># 'ssl.wrap_socket' method.</span></span><br><span class="line"><span class="comment"># Default is None.</span></span><br><span class="line"><span class="comment">#ssl:</span></span><br><span class="line"><span class="comment">#    keyfile: &lt;path_to_keyfile&gt;</span></span><br><span class="line"><span class="comment">#    certfile: &lt;path_to_certfile&gt;</span></span><br><span class="line"><span class="comment">#    ssl_version: PROTOCOL_TLSv1_2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#####     Salt-SSH Configuration     #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Pass in an alternative location for the salt-ssh roster file</span></span><br><span class="line"><span class="comment">#roster_file: /etc/salt/roster</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define locations for roster files so they can be chosen when using Salt API.</span></span><br><span class="line"><span class="comment"># An administrator can place roster files into these locations. Then when</span></span><br><span class="line"><span class="comment"># calling Salt API, parameter 'roster_file' should contain a relative path to</span></span><br><span class="line"><span class="comment"># these locations. That is, "roster_file=/foo/roster" will be resolved as</span></span><br><span class="line"><span class="comment"># "/etc/salt/roster.d/foo/roster" etc. This feature prevents passing insecure</span></span><br><span class="line"><span class="comment"># custom rosters through the Salt API.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#rosters:</span></span><br><span class="line"><span class="comment"># - /etc/salt/roster.d</span></span><br><span class="line"><span class="comment"># - /opt/salt/some/more/rosters</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The ssh password to log in with.</span></span><br><span class="line"><span class="comment">#ssh_passwd: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#The target system's ssh port number.</span></span><br><span class="line"><span class="comment">#ssh_port: 22</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of ports to scan.</span></span><br><span class="line"><span class="comment">#ssh_scan_ports: 22</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Scanning socket timeout for salt-ssh.</span></span><br><span class="line"><span class="comment">#ssh_scan_timeout: 0.01</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Boolean to run command via sudo.</span></span><br><span class="line"><span class="comment">#ssh_sudo: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Number of seconds to wait for a response when establishing an SSH connection.</span></span><br><span class="line"><span class="comment">#ssh_timeout: 60</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The user to log in as.</span></span><br><span class="line"><span class="comment">#ssh_user: root</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The log file of the salt-ssh command:</span></span><br><span class="line"><span class="comment">#ssh_log_file: /var/log/salt/ssh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Pass in minion option overrides that will be inserted into the SHIM for</span></span><br><span class="line"><span class="comment"># salt-ssh calls. The local minion config is not used for salt-ssh. Can be</span></span><br><span class="line"><span class="comment"># overridden on a per-minion basis in the roster (`minion_opts`)</span></span><br><span class="line"><span class="comment">#ssh_minion_opts:</span></span><br><span class="line"><span class="comment">#  gpg_keydir: /root/gpg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set this to True to default to using ~/.ssh/id_rsa for salt-ssh</span></span><br><span class="line"><span class="comment"># authentication with minions</span></span><br><span class="line"><span class="comment">#ssh_use_home_key: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set this to True to default salt-ssh to run with ``-o IdentitiesOnly=yes``.</span></span><br><span class="line"><span class="comment"># This option is intended for situations where the ssh-agent offers many</span></span><br><span class="line"><span class="comment"># different identities and allows ssh to ignore those identities and use the</span></span><br><span class="line"><span class="comment"># only one specified in options.</span></span><br><span class="line"><span class="comment">#ssh_identities_only: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># List-only nodegroups for salt-ssh. Each group must be formed as either a</span></span><br><span class="line"><span class="comment"># comma-separated list, or a YAML list. This option is useful to group minions</span></span><br><span class="line"><span class="comment"># into easy-to-target groups when using salt-ssh. These groups can then be</span></span><br><span class="line"><span class="comment"># targeted with the normal -N argument to salt-ssh.</span></span><br><span class="line"><span class="comment">#ssh_list_nodegroups: &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#####    Master Module Management    #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># Manage how master side modules are loaded.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Add any additional locations to look for master runners:</span></span><br><span class="line"><span class="comment">#runner_dirs: []</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable Cython for master side modules:</span></span><br><span class="line"><span class="comment">#cython_enable: False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####      State System settings     #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># The state system uses a "top" file to tell the minions what environment to</span></span><br><span class="line"><span class="comment"># use and what modules to use. The state_top file is defined relative to the</span></span><br><span class="line"><span class="comment"># root of the base environment as defined in "File Server settings" below.</span></span><br><span class="line">state_top: top.sls</span><br><span class="line"></span><br><span class="line"><span class="comment"># The master_tops option replaces the external_nodes option by creating</span></span><br><span class="line"><span class="comment"># a plugable system for the generation of external top data. The external_nodes</span></span><br><span class="line"><span class="comment"># option is deprecated by the master_tops option.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># To gain the capabilities of the classic external_nodes system, use the</span></span><br><span class="line"><span class="comment"># following configuration:</span></span><br><span class="line"><span class="comment"># master_tops:</span></span><br><span class="line"><span class="comment">#   ext_nodes: &lt;Shell command which returns yaml&gt;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#master_tops: &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The external_nodes option allows Salt to gather data that would normally be</span></span><br><span class="line"><span class="comment"># placed in a top file. The external_nodes option is the executable that will</span></span><br><span class="line"><span class="comment"># return the ENC data. Remember that Salt will look for external nodes AND top</span></span><br><span class="line"><span class="comment"># files and combine the results if both are enabled!</span></span><br><span class="line"><span class="comment">#external_nodes: None</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The renderer to use on the minions to render the state data</span></span><br><span class="line">renderer: yaml_jinja</span><br><span class="line"></span><br><span class="line"><span class="comment"># The Jinja renderer can strip extra carriage returns and whitespace</span></span><br><span class="line"><span class="comment"># See http://jinja.pocoo.org/docs/api/#high-level-api</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If this is set to True the first newline after a Jinja block is removed</span></span><br><span class="line"><span class="comment"># (block, not variable tag!). Defaults to False, corresponds to the Jinja</span></span><br><span class="line"><span class="comment"># environment init variable "trim_blocks".</span></span><br><span class="line"><span class="comment">#jinja_trim_blocks: False</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If this is set to True leading spaces and tabs are stripped from the start</span></span><br><span class="line"><span class="comment"># of a line to a block. Defaults to False, corresponds to the Jinja</span></span><br><span class="line"><span class="comment"># environment init variable "lstrip_blocks".</span></span><br><span class="line"><span class="comment">#jinja_lstrip_blocks: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The failhard option tells the minions to stop immediately after the first</span></span><br><span class="line"><span class="comment"># failure detected in the state execution, defaults to False</span></span><br><span class="line"><span class="comment">#failhard: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The state_verbose and state_output settings can be used to change the way</span></span><br><span class="line"><span class="comment"># state system data is printed to the display. By default all data is printed.</span></span><br><span class="line"><span class="comment"># The state_verbose setting can be set to True or False, when set to False</span></span><br><span class="line"><span class="comment"># all data that has a result of True and no changes will be suppressed.</span></span><br><span class="line">state_verbose: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># The state_output setting changes if the output is the full multi line</span></span><br><span class="line"><span class="comment"># output for each changed state if set to 'full', but if set to 'terse'</span></span><br><span class="line"><span class="comment"># the output will be shortened to a single line.  If set to 'mixed', the output</span></span><br><span class="line"><span class="comment"># will be terse unless a state failed, in which case that output will be full.</span></span><br><span class="line"><span class="comment"># If set to 'changes', the output will be full unless the state didn't change.</span></span><br><span class="line">state_output: full</span><br><span class="line"></span><br><span class="line"><span class="comment"># The state_output_diff setting changes whether or not the output from</span></span><br><span class="line"><span class="comment"># successful states is returned. Useful when even the terse output of these</span></span><br><span class="line"><span class="comment"># states is cluttering the logs. Set it to True to ignore them.</span></span><br><span class="line"><span class="comment">#state_output_diff: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Automatically aggregate all states that have support for mod_aggregate by</span></span><br><span class="line"><span class="comment"># setting to 'True'. Or pass a list of state module names to automatically</span></span><br><span class="line"><span class="comment"># aggregate just those types.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># state_aggregate:</span></span><br><span class="line"><span class="comment">#   - pkg</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#state_aggregate: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Send progress events as each function in a state run completes execution</span></span><br><span class="line"><span class="comment"># by setting to 'True'. Progress events are in the format</span></span><br><span class="line"><span class="comment"># 'salt/job/&lt;JID&gt;/prog/&lt;MID&gt;/&lt;RUN NUM&gt;'.</span></span><br><span class="line"><span class="comment">#state_events: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#####      File Server settings      #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># Salt runs a lightweight file server written in zeromq to deliver files to</span></span><br><span class="line"><span class="comment"># minions. This file server is built into the master daemon and does not</span></span><br><span class="line"><span class="comment"># require a dedicated port.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The file server works on environments passed to the master, each environment</span></span><br><span class="line"><span class="comment"># can have multiple root directories, the subdirectories in the multiple file</span></span><br><span class="line"><span class="comment"># roots cannot match, otherwise the downloaded files will not be able to be</span></span><br><span class="line"><span class="comment"># reliably ensured. A base environment is required to house the top file.</span></span><br><span class="line"><span class="comment"># Example:</span></span><br><span class="line"><span class="comment"># file_roots:</span></span><br><span class="line"><span class="comment">#   base:</span></span><br><span class="line"><span class="comment">#     - /srv/salt/</span></span><br><span class="line"><span class="comment">#   dev:</span></span><br><span class="line"><span class="comment">#     - /srv/salt/dev/services</span></span><br><span class="line"><span class="comment">#     - /srv/salt/dev/states</span></span><br><span class="line"><span class="comment">#   prod:</span></span><br><span class="line"><span class="comment">#     - /srv/salt/prod/services</span></span><br><span class="line"><span class="comment">#     - /srv/salt/prod/states</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">file_roots:</span><br><span class="line">  base:</span><br><span class="line">    - /salt/file/base</span><br><span class="line">  dev:</span><br><span class="line">    - /salt/file/dev</span><br><span class="line">  prod:</span><br><span class="line">    - /salt/file/prod</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># The master_roots setting configures a master-only copy of the file_roots dictionary,</span></span><br><span class="line"><span class="comment"># used by the state compiler.</span></span><br><span class="line"><span class="comment">#master_roots: /srv/salt-master</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When using multiple environments, each with their own top file, the</span></span><br><span class="line"><span class="comment"># default behaviour is an unordered merge. To prevent top files from</span></span><br><span class="line"><span class="comment"># being merged together and instead to only use the top file from the</span></span><br><span class="line"><span class="comment"># requested environment, set this value to 'same'.</span></span><br><span class="line"><span class="comment">#top_file_merging_strategy: merge</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># To specify the order in which environments are merged, set the ordering</span></span><br><span class="line"><span class="comment"># in the env_order option. Given a conflict, the last matching value will</span></span><br><span class="line"><span class="comment"># win.</span></span><br><span class="line"><span class="comment">#env_order: ['base', 'dev', 'prod']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If top_file_merging_strategy is set to 'same' and an environment does not</span></span><br><span class="line"><span class="comment"># contain a top file, the top file in the environment specified by default_top</span></span><br><span class="line"><span class="comment"># will be used instead.</span></span><br><span class="line"><span class="comment">#default_top: base</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The hash_type is the hash to use when discovering the hash of a file on</span></span><br><span class="line"><span class="comment"># the master server. The default is sha256, but md5, sha1, sha224, sha384 and</span></span><br><span class="line"><span class="comment"># sha512 are also supported.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># WARNING: While md5 and sha1 are also supported, do not use them due to the</span></span><br><span class="line"><span class="comment"># high chance of possible collisions and thus security breach.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Prior to changing this value, the master should be stopped and all Salt</span></span><br><span class="line"><span class="comment"># caches should be cleared.</span></span><br><span class="line">hash_type: sha256</span><br><span class="line"></span><br><span class="line"><span class="comment"># The buffer size in the file server can be adjusted here:</span></span><br><span class="line"><span class="comment">#file_buffer_size: 1048576</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A regular expression (or a list of expressions) that will be matched</span></span><br><span class="line"><span class="comment"># against the file path before syncing the modules and states to the minions.</span></span><br><span class="line"><span class="comment"># This includes files affected by the file.recurse state.</span></span><br><span class="line"><span class="comment"># For example, if you manage your custom modules and states in subversion</span></span><br><span class="line"><span class="comment"># and don't want all the '.svn' folders and content synced to your minions,</span></span><br><span class="line"><span class="comment"># you could set this to '/\.svn($|/)'. By default nothing is ignored.</span></span><br><span class="line">file_ignore_regex:</span><br><span class="line">  - <span class="string">'/\.svn($|/)'</span></span><br><span class="line">  - <span class="string">'/\.git($|/)'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A file glob (or list of file globs) that will be matched against the file</span></span><br><span class="line"><span class="comment"># path before syncing the modules and states to the minions. This is similar</span></span><br><span class="line"><span class="comment"># to file_ignore_regex above, but works on globs instead of regex. By default</span></span><br><span class="line"><span class="comment"># nothing is ignored.</span></span><br><span class="line"><span class="comment"># file_ignore_glob:</span></span><br><span class="line"><span class="comment">#  - '*.pyc'</span></span><br><span class="line"><span class="comment">#  - '*/somefolder/*.bak'</span></span><br><span class="line"><span class="comment">#  - '*.swp'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># File Server Backend</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Salt supports a modular fileserver backend system, this system allows</span></span><br><span class="line"><span class="comment"># the salt master to link directly to third party systems to gather and</span></span><br><span class="line"><span class="comment"># manage the files available to minions. Multiple backends can be</span></span><br><span class="line"><span class="comment"># configured and will be searched for the requested file in the order in which</span></span><br><span class="line"><span class="comment"># they are defined here. The default setting only enables the standard backend</span></span><br><span class="line"><span class="comment"># "roots" which uses the "file_roots" option.</span></span><br><span class="line"><span class="comment">#fileserver_backend:</span></span><br><span class="line"><span class="comment">#  - roots</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># To use multiple backends list them in the order they are searched:</span></span><br><span class="line">fileserver_backend:</span><br><span class="line">  - git</span><br><span class="line"><span class="comment">#  - roots</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Uncomment the line below if you do not want the file_server to follow</span></span><br><span class="line"><span class="comment"># symlinks when walking the filesystem tree. This is set to True</span></span><br><span class="line"><span class="comment"># by default. Currently this only applies to the default roots</span></span><br><span class="line"><span class="comment"># fileserver_backend.</span></span><br><span class="line">fileserver_followsymlinks: True</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Uncomment the line below if you do not want symlinks to be</span></span><br><span class="line"><span class="comment"># treated as the files they are pointing to. By default this is set to</span></span><br><span class="line"><span class="comment"># False. By uncommenting the line below, any detected symlink while listing</span></span><br><span class="line"><span class="comment"># files on the Master will not be returned to the Minion.</span></span><br><span class="line"><span class="comment">#fileserver_ignoresymlinks: True</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># By default, the Salt fileserver recurses fully into all defined environments</span></span><br><span class="line"><span class="comment"># to attempt to find files. To limit this behavior so that the fileserver only</span></span><br><span class="line"><span class="comment"># traverses directories with SLS files and special Salt directories like _modules,</span></span><br><span class="line"><span class="comment"># enable the option below. This might be useful for installations where a file root</span></span><br><span class="line"><span class="comment"># has a very large number of files and performance is impacted. Default is False.</span></span><br><span class="line"><span class="comment"># fileserver_limit_traversal: False</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The fileserver can fire events off every time the fileserver is updated,</span></span><br><span class="line"><span class="comment"># these are disabled by default, but can be easily turned on by setting this</span></span><br><span class="line"><span class="comment"># flag to True</span></span><br><span class="line"><span class="comment">#fileserver_events: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Git File Server Backend Configuration</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Optional parameter used to specify the provider to be used for gitfs. Must be</span></span><br><span class="line"><span class="comment"># either pygit2 or gitpython. If unset, then both will be tried (in that</span></span><br><span class="line"><span class="comment"># order), and the first one with a compatible version installed will be the</span></span><br><span class="line"><span class="comment"># provider that is used.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">gitfs_provider: pygit2</span><br><span class="line"></span><br><span class="line"><span class="comment"># Along with gitfs_password, is used to authenticate to HTTPS remotes.</span></span><br><span class="line">gitfs_user: <span class="string">'liu_p'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Along with gitfs_user, is used to authenticate to HTTPS remotes.</span></span><br><span class="line"><span class="comment"># This parameter is not required if the repository does not use authentication.</span></span><br><span class="line">gitfs_password: <span class="string">'liu_p123'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># By default, Salt will not authenticate to an HTTP (non-HTTPS) remote.</span></span><br><span class="line"><span class="comment"># This parameter enables authentication over HTTP. Enable this at your own risk.</span></span><br><span class="line">gitfs_insecure_auth: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># Along with gitfs_privkey (and optionally gitfs_passphrase), is used to</span></span><br><span class="line"><span class="comment"># authenticate to SSH remotes. This parameter (or its per-remote counterpart)</span></span><br><span class="line"><span class="comment"># is required for SSH remotes.</span></span><br><span class="line"><span class="comment">#gitfs_pubkey: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Along with gitfs_pubkey (and optionally gitfs_passphrase), is used to</span></span><br><span class="line"><span class="comment"># authenticate to SSH remotes. This parameter (or its per-remote counterpart)</span></span><br><span class="line"><span class="comment"># is required for SSH remotes.</span></span><br><span class="line"><span class="comment">#gitfs_privkey: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This parameter is optional, required only when the SSH key being used to</span></span><br><span class="line"><span class="comment"># authenticate is protected by a passphrase.</span></span><br><span class="line"><span class="comment">#gitfs_passphrase: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When using the git fileserver backend at least one git remote needs to be</span></span><br><span class="line"><span class="comment"># defined. The user running the salt master will need read access to the repo.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The repos will be searched in order to find the file requested by a client</span></span><br><span class="line"><span class="comment"># and the first repo to have the file will return it.</span></span><br><span class="line"><span class="comment"># When using the git backend branches and tags are translated into salt</span></span><br><span class="line"><span class="comment"># environments.</span></span><br><span class="line"><span class="comment"># Note: file:// repos will be treated as a remote, so refs you want used must</span></span><br><span class="line"><span class="comment"># exist in that repo as *local* refs.</span></span><br><span class="line">gitfs_remotes:</span><br><span class="line">   - http://gogs.jwops.cn/TEC-Ops/salt.repo.git</span><br><span class="line"><span class="comment">#  - git://github.com/saltstack/salt-states.git</span></span><br><span class="line"><span class="comment">#  - file:///var/git/saltmaster</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The gitfs_ssl_verify option specifies whether to ignore ssl certificate</span></span><br><span class="line"><span class="comment"># errors when contacting the gitfs backend. You might want to set this to</span></span><br><span class="line"><span class="comment"># false if you're using a git backend that uses a self-signed certificate but</span></span><br><span class="line"><span class="comment"># keep in mind that setting this flag to anything other than the default of True</span></span><br><span class="line"><span class="comment"># is a security concern, you may want to try using the ssh transport.</span></span><br><span class="line">gitfs_ssl_verify: True</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The gitfs_root option gives the ability to serve files from a subdirectory</span></span><br><span class="line"><span class="comment"># within the repository. The path is defined relative to the root of the</span></span><br><span class="line"><span class="comment"># repository and defaults to the repository root.</span></span><br><span class="line">gitfs_root: saltmaster</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The refspecs fetched by gitfs remotes</span></span><br><span class="line">gitfs_refspecs:</span><br><span class="line">  - <span class="string">'+refs/heads/*:refs/remotes/origin/*'</span></span><br><span class="line">  - <span class="string">'+refs/tags/*:refs/tags/*'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#####         Pillar settings        #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># Salt Pillars allow for the building of global data that can be made selectively</span></span><br><span class="line"><span class="comment"># available to different minions based on minion grain filtering. The Salt</span></span><br><span class="line"><span class="comment"># Pillar is laid out in the same fashion as the file server, with environments,</span></span><br><span class="line"><span class="comment"># a top file and sls files. However, pillar data does not need to be in the</span></span><br><span class="line"><span class="comment"># highstate format, and is generally just key/value pairs.</span></span><br><span class="line"><span class="comment">#pillar_roots:</span></span><br><span class="line"><span class="comment">#  base:</span></span><br><span class="line"><span class="comment">#    - /srv/pillar</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">pillar_roots:</span><br><span class="line">  base:</span><br><span class="line">    - /salt/pillar/base</span><br><span class="line">  dev:</span><br><span class="line">    - /salt/pillar/dev</span><br><span class="line">  prod:</span><br><span class="line">    - /salt/pillar/prod</span><br><span class="line"></span><br><span class="line"><span class="comment">#ext_pillar:</span></span><br><span class="line"><span class="comment">#  - hiera: /etc/hiera.yaml</span></span><br><span class="line"><span class="comment">#  - cmd_yaml: cat /etc/salt/yaml</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># A list of paths to be recursively decrypted during pillar compilation.</span></span><br><span class="line"><span class="comment"># Entries in this list can be formatted either as a simple string, or as a</span></span><br><span class="line"><span class="comment"># key/value pair, with the key being the pillar location, and the value being</span></span><br><span class="line"><span class="comment"># the renderer to use for pillar decryption. If the former is used, the</span></span><br><span class="line"><span class="comment"># renderer specified by decrypt_pillar_default will be used.</span></span><br><span class="line"><span class="comment">#decrypt_pillar:</span></span><br><span class="line"><span class="comment">#  - 'foo:bar': gpg</span></span><br><span class="line"><span class="comment">#  - 'lorem:ipsum:dolor'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The delimiter used to distinguish nested data structures in the</span></span><br><span class="line"><span class="comment"># decrypt_pillar option.</span></span><br><span class="line"><span class="comment">#decrypt_pillar_delimiter: ':'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The default renderer used for decryption, if one is not specified for a given</span></span><br><span class="line"><span class="comment"># pillar key in decrypt_pillar.</span></span><br><span class="line"><span class="comment">#decrypt_pillar_default: gpg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># List of renderers which are permitted to be used for pillar decryption.</span></span><br><span class="line"><span class="comment">#decrypt_pillar_renderers:</span></span><br><span class="line"><span class="comment">#  - gpg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The ext_pillar_first option allows for external pillar sources to populate</span></span><br><span class="line"><span class="comment"># before file system pillar. This allows for targeting file system pillar from</span></span><br><span class="line"><span class="comment"># ext_pillar.</span></span><br><span class="line"><span class="comment">#ext_pillar_first: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The external pillars permitted to be used on-demand using pillar.ext</span></span><br><span class="line"><span class="comment">#on_demand_ext_pillar:</span></span><br><span class="line"><span class="comment">#  - libvirt</span></span><br><span class="line"><span class="comment">#  - virtkey</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The pillar_gitfs_ssl_verify option specifies whether to ignore ssl certificate</span></span><br><span class="line"><span class="comment"># errors when contacting the pillar gitfs backend. You might want to set this to</span></span><br><span class="line"><span class="comment"># false if you're using a git backend that uses a self-signed certificate but</span></span><br><span class="line"><span class="comment"># keep in mind that setting this flag to anything other than the default of True</span></span><br><span class="line"><span class="comment"># is a security concern, you may want to try using the ssh transport.</span></span><br><span class="line"><span class="comment">#pillar_gitfs_ssl_verify: True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The pillar_opts option adds the master configuration file data to a dict in</span></span><br><span class="line"><span class="comment"># the pillar called "master". This is used to set simple configurations in the</span></span><br><span class="line"><span class="comment"># master config file that can then be used on minions.</span></span><br><span class="line"><span class="comment">#pillar_opts: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The pillar_safe_render_error option prevents the master from passing pillar</span></span><br><span class="line"><span class="comment"># render errors to the minion. This is set on by default because the error could</span></span><br><span class="line"><span class="comment"># contain templating data which would give that minion information it shouldn't</span></span><br><span class="line"><span class="comment"># have, like a password! When set true the error message will only show:</span></span><br><span class="line"><span class="comment">#   Rendering SLS 'my.sls' failed. Please see master log for details.</span></span><br><span class="line"><span class="comment">#pillar_safe_render_error: True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The pillar_source_merging_strategy option allows you to configure merging strategy</span></span><br><span class="line"><span class="comment"># between different sources. It accepts five values: none, recurse, aggregate, overwrite,</span></span><br><span class="line"><span class="comment"># or smart. None will not do any merging at all. Recurse will merge recursively mapping of data.</span></span><br><span class="line"><span class="comment"># Aggregate instructs aggregation of elements between sources that use the #!yamlex renderer. Overwrite</span></span><br><span class="line"><span class="comment"># will overwrite elements according the order in which they are processed. This is</span></span><br><span class="line"><span class="comment"># behavior of the 2014.1 branch and earlier. Smart guesses the best strategy based</span></span><br><span class="line"><span class="comment"># on the "renderer" setting and is the default value.</span></span><br><span class="line"><span class="comment">#pillar_source_merging_strategy: smart</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Recursively merge lists by aggregating them instead of replacing them.</span></span><br><span class="line"><span class="comment">#pillar_merge_lists: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set this option to True to force the pillarenv to be the same as the effective</span></span><br><span class="line"><span class="comment"># saltenv when running states. If pillarenv is specified this option will be</span></span><br><span class="line"><span class="comment"># ignored.</span></span><br><span class="line"><span class="comment">#pillarenv_from_saltenv: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set this option to 'True' to force a 'KeyError' to be raised whenever an</span></span><br><span class="line"><span class="comment"># attempt to retrieve a named value from pillar fails. When this option is set</span></span><br><span class="line"><span class="comment"># to 'False', the failed attempt returns an empty string. Default is 'False'.</span></span><br><span class="line"><span class="comment">#pillar_raise_on_missing: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Git External Pillar (git_pillar) Configuration Options</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Specify the provider to be used for git_pillar. Must be either pygit2 or</span></span><br><span class="line"><span class="comment"># gitpython. If unset, then both will be tried in that same order, and the</span></span><br><span class="line"><span class="comment"># first one with a compatible version installed will be the provider that</span></span><br><span class="line"><span class="comment"># is used.</span></span><br><span class="line">git_pillar_provider: pygit2</span><br><span class="line"></span><br><span class="line"><span class="comment"># If the desired branch matches this value, and the environment is omitted</span></span><br><span class="line"><span class="comment"># from the git_pillar configuration, then the environment for that git_pillar</span></span><br><span class="line"><span class="comment"># remote will be base.</span></span><br><span class="line"><span class="comment">#git_pillar_base: master</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If the branch is omitted from a git_pillar remote, then this branch will</span></span><br><span class="line"><span class="comment"># be used instead</span></span><br><span class="line"><span class="comment">#git_pillar_branch: master</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Environment to use for git_pillar remotes. This is normally derived from</span></span><br><span class="line"><span class="comment"># the branch/tag (or from a per-remote env parameter), but if set this will</span></span><br><span class="line"><span class="comment"># override the process of deriving the env from the branch/tag name.</span></span><br><span class="line"><span class="comment">#git_pillar_env: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Path relative to the root of the repository where the git_pillar top file</span></span><br><span class="line"><span class="comment"># and SLS files are located.</span></span><br><span class="line"><span class="comment">#git_pillar_root: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Specifies whether or not to ignore SSL certificate errors when contacting</span></span><br><span class="line"><span class="comment"># the remote repository.</span></span><br><span class="line"><span class="comment">#git_pillar_ssl_verify: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When set to False, if there is an update/checkout lock for a git_pillar</span></span><br><span class="line"><span class="comment"># remote and the pid written to it is not running on the master, the lock</span></span><br><span class="line"><span class="comment"># file will be automatically cleared and a new lock will be obtained.</span></span><br><span class="line"><span class="comment">#git_pillar_global_lock: True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Git External Pillar Authentication Options</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Along with git_pillar_password, is used to authenticate to HTTPS remotes.</span></span><br><span class="line"><span class="comment">#git_pillar_user: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Along with git_pillar_user, is used to authenticate to HTTPS remotes.</span></span><br><span class="line"><span class="comment"># This parameter is not required if the repository does not use authentication.</span></span><br><span class="line"><span class="comment">#git_pillar_password: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># By default, Salt will not authenticate to an HTTP (non-HTTPS) remote.</span></span><br><span class="line"><span class="comment"># This parameter enables authentication over HTTP.</span></span><br><span class="line"><span class="comment">#git_pillar_insecure_auth: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Along with git_pillar_privkey (and optionally git_pillar_passphrase),</span></span><br><span class="line"><span class="comment"># is used to authenticate to SSH remotes.</span></span><br><span class="line"><span class="comment">#git_pillar_pubkey: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Along with git_pillar_pubkey (and optionally git_pillar_passphrase),</span></span><br><span class="line"><span class="comment"># is used to authenticate to SSH remotes.</span></span><br><span class="line"><span class="comment">#git_pillar_privkey: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This parameter is optional, required only when the SSH key being used</span></span><br><span class="line"><span class="comment"># to authenticate is protected by a passphrase.</span></span><br><span class="line"><span class="comment">#git_pillar_passphrase: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The refspecs fetched by git_pillar remotes</span></span><br><span class="line"><span class="comment">#git_pillar_refspecs:</span></span><br><span class="line"><span class="comment">#  - '+refs/heads/*:refs/remotes/origin/*'</span></span><br><span class="line"><span class="comment">#  - '+refs/tags/*:refs/tags/*'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A master can cache pillars locally to bypass the expense of having to render them</span></span><br><span class="line"><span class="comment"># for each minion on every request. This feature should only be enabled in cases</span></span><br><span class="line"><span class="comment"># where pillar rendering time is known to be unsatisfactory and any attendant security</span></span><br><span class="line"><span class="comment"># concerns about storing pillars in a master cache have been addressed.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># When enabling this feature, be certain to read through the additional ``pillar_cache_*``</span></span><br><span class="line"><span class="comment"># configuration options to fully understand the tunable parameters and their implications.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Note: setting ``pillar_cache: True`` has no effect on targeting Minions with Pillars.</span></span><br><span class="line"><span class="comment"># See https://docs.saltstack.com/en/latest/topics/targeting/pillar.html</span></span><br><span class="line"><span class="comment">#pillar_cache: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If and only if a master has set ``pillar_cache: True``, the cache TTL controls the amount</span></span><br><span class="line"><span class="comment"># of time, in seconds, before the cache is considered invalid by a master and a fresh</span></span><br><span class="line"><span class="comment"># pillar is recompiled and stored.</span></span><br><span class="line"><span class="comment">#pillar_cache_ttl: 3600</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If and only if a master has set `pillar_cache: True`, one of several storage providers</span></span><br><span class="line"><span class="comment"># can be utililzed.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># `disk`: The default storage backend. This caches rendered pillars to the master cache.</span></span><br><span class="line"><span class="comment">#         Rendered pillars are serialized and deserialized as msgpack structures for speed.</span></span><br><span class="line"><span class="comment">#         Note that pillars are stored UNENCRYPTED. Ensure that the master cache</span></span><br><span class="line"><span class="comment">#         has permissions set appropriately. (Same defaults are provided.)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># memory: [EXPERIMENTAL] An optional backend for pillar caches which uses a pure-Python</span></span><br><span class="line"><span class="comment">#         in-memory data structure for maximal performance. There are several caveats,</span></span><br><span class="line"><span class="comment">#         however. First, because each master worker contains its own in-memory cache,</span></span><br><span class="line"><span class="comment">#         there is no guarantee of cache consistency between minion requests. This</span></span><br><span class="line"><span class="comment">#         works best in situations where the pillar rarely if ever changes. Secondly,</span></span><br><span class="line"><span class="comment">#         and perhaps more importantly, this means that unencrypted pillars will</span></span><br><span class="line"><span class="comment">#         be accessible to any process which can examine the memory of the ``salt-master``!</span></span><br><span class="line"><span class="comment">#         This may represent a substantial security risk.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#pillar_cache_backend: disk</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####          Syndic settings       #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># The Salt syndic is used to pass commands through a master from a higher</span></span><br><span class="line"><span class="comment"># master. Using the syndic is simple. If this is a master that will have</span></span><br><span class="line"><span class="comment"># syndic servers(s) below it, then set the "order_masters" setting to True.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If this is a master that will be running a syndic daemon for passthrough, then</span></span><br><span class="line"><span class="comment"># the "syndic_master" setting needs to be set to the location of the master server</span></span><br><span class="line"><span class="comment"># to receive commands from.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the order_masters setting to True if this master will command lower</span></span><br><span class="line"><span class="comment"># masters' syndic interfaces.</span></span><br><span class="line"><span class="comment"># order_masters: True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If this master will be running a salt syndic daemon, syndic_master tells</span></span><br><span class="line"><span class="comment"># this master where to receive commands from.</span></span><br><span class="line">syndic_master:</span><br><span class="line">  - 192.168.13.217</span><br><span class="line">  - 192.168.13.218</span><br><span class="line"></span><br><span class="line"><span class="comment"># This is the 'ret_port' of the MasterOfMaster:</span></span><br><span class="line">syndic_master_port: 4506</span><br><span class="line"></span><br><span class="line"><span class="comment"># PID file of the syndic daemon:</span></span><br><span class="line">syndic_pidfile: /var/<span class="built_in">log</span>/salt/salt-syndic.pid</span><br><span class="line"></span><br><span class="line"><span class="comment"># The log file of the salt-syndic daemon:</span></span><br><span class="line">syndic_log_file: /var/<span class="built_in">log</span>/salt/syndic</span><br><span class="line"></span><br><span class="line"><span class="comment"># The behaviour of the multi-syndic when connection to a master of masters failed.</span></span><br><span class="line"><span class="comment"># Can specify ``random`` (default) or ``ordered``. If set to ``random``, masters</span></span><br><span class="line"><span class="comment"># will be iterated in random order. If ``ordered`` is specified, the configured</span></span><br><span class="line"><span class="comment"># order will be used.</span></span><br><span class="line">syndic_failover: random</span><br><span class="line"></span><br><span class="line"><span class="comment"># The number of seconds for the salt client to wait for additional syndics to</span></span><br><span class="line"><span class="comment"># check in with their lists of expected minions before giving up.</span></span><br><span class="line">syndic_wait: 20</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####      Peer Publish settings     #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># Salt minions can send commands to other minions, but only if the minion is</span></span><br><span class="line"><span class="comment"># allowed to. By default "Peer Publication" is disabled, and when enabled it</span></span><br><span class="line"><span class="comment"># is enabled for specific minions and specific commands. This allows secure</span></span><br><span class="line"><span class="comment"># compartmentalization of commands based on individual minions.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The configuration uses regular expressions to match minions and then a list</span></span><br><span class="line"><span class="comment"># of regular expressions to match functions. The following will allow the</span></span><br><span class="line"><span class="comment"># minion authenticated as foo.example.com to execute functions from the test</span></span><br><span class="line"><span class="comment"># and pkg modules.</span></span><br><span class="line"><span class="comment">#peer:</span></span><br><span class="line"><span class="comment">#  foo.example.com:</span></span><br><span class="line"><span class="comment">#    - test.*</span></span><br><span class="line"><span class="comment">#    - pkg.*</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This will allow all minions to execute all commands:</span></span><br><span class="line"><span class="comment">#peer:</span></span><br><span class="line"><span class="comment">#  .*:</span></span><br><span class="line"><span class="comment">#    - .*</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This is not recommended, since it would allow anyone who gets root on any</span></span><br><span class="line"><span class="comment"># single minion to instantly have root on all of the minions!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Minions can also be allowed to execute runners from the salt master.</span></span><br><span class="line"><span class="comment"># Since executing a runner from the minion could be considered a security risk,</span></span><br><span class="line"><span class="comment"># it needs to be enabled. This setting functions just like the peer setting</span></span><br><span class="line"><span class="comment"># except that it opens up runners instead of module functions.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># All peer runner support is turned off by default and must be enabled before</span></span><br><span class="line"><span class="comment"># using. This will enable all peer runners for all minions:</span></span><br><span class="line"><span class="comment">#peer_run:</span></span><br><span class="line"><span class="comment">#  .*:</span></span><br><span class="line"><span class="comment">#    - .*</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># To enable just the manage.up runner for the minion foo.example.com:</span></span><br><span class="line"><span class="comment">#peer_run:</span></span><br><span class="line"><span class="comment">#  foo.example.com:</span></span><br><span class="line"><span class="comment">#    - manage.up</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#####         Mine settings     #####</span></span><br><span class="line"><span class="comment">#####################################</span></span><br><span class="line"><span class="comment"># Restrict mine.get access from minions. By default any minion has a full access</span></span><br><span class="line"><span class="comment"># to get all mine data from master cache. In acl definion below, only pcre matches</span></span><br><span class="line"><span class="comment"># are allowed.</span></span><br><span class="line"><span class="comment"># mine_get:</span></span><br><span class="line"><span class="comment">#   .*:</span></span><br><span class="line"><span class="comment">#     - .*</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The example below enables minion foo.example.com to get 'network.interfaces' mine</span></span><br><span class="line"><span class="comment"># data only, minions web* to get all network.* and disk.* mine data and all other</span></span><br><span class="line"><span class="comment"># minions won't get any mine data.</span></span><br><span class="line"><span class="comment"># mine_get:</span></span><br><span class="line"><span class="comment">#   foo.example.com:</span></span><br><span class="line"><span class="comment">#     - network.interfaces</span></span><br><span class="line"><span class="comment">#   web.*:</span></span><br><span class="line"><span class="comment">#     - network.*</span></span><br><span class="line"><span class="comment">#     - disk.*</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####         Logging settings       #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># The location of the master log file</span></span><br><span class="line"><span class="comment"># The master log can be sent to a regular file, local path name, or network</span></span><br><span class="line"><span class="comment"># location. Remote logging works best when configured to use rsyslogd(8) (e.g.:</span></span><br><span class="line"><span class="comment"># ``file:///dev/log``), with rsyslogd(8) configured for network logging. The URI</span></span><br><span class="line"><span class="comment"># format is: &lt;file|udp|tcp&gt;://&lt;host|socketpath&gt;:&lt;port-if-required&gt;/&lt;log-facility&gt;</span></span><br><span class="line"><span class="comment">#log_file: /var/log/salt/master</span></span><br><span class="line"><span class="comment">#log_file: file:///dev/log</span></span><br><span class="line"><span class="comment">#log_file: udp://loghost:10514</span></span><br><span class="line"></span><br><span class="line">log_file: /var/<span class="built_in">log</span>/salt/master</span><br><span class="line">key_logfile: /var/<span class="built_in">log</span>/salt/key</span><br><span class="line"></span><br><span class="line"><span class="comment"># The level of messages to send to the console.</span></span><br><span class="line"><span class="comment"># One of 'garbage', 'trace', 'debug', info', 'warning', 'error', 'critical'.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The following log levels are considered INSECURE and may log sensitive data:</span></span><br><span class="line"><span class="comment"># ['garbage', 'trace', 'debug']</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">log_level: warning</span><br><span class="line"></span><br><span class="line"><span class="comment"># The level of messages to send to the log file.</span></span><br><span class="line"><span class="comment"># One of 'garbage', 'trace', 'debug', info', 'warning', 'error', 'critical'.</span></span><br><span class="line"><span class="comment"># If using 'log_granular_levels' this must be set to the highest desired level.</span></span><br><span class="line">log_level_logfile: warning</span><br><span class="line"></span><br><span class="line"><span class="comment"># The date and time format used in log messages. Allowed date/time formatting</span></span><br><span class="line"><span class="comment"># can be seen here: http://docs.python.org/library/time.html#time.strftime</span></span><br><span class="line">log_datefmt: <span class="string">'%H:%M:%S'</span></span><br><span class="line">log_datefmt_logfile: <span class="string">'%Y%m%d %H:%M:%S'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The format of the console logging messages. Allowed formatting options can</span></span><br><span class="line"><span class="comment"># be seen here: http://docs.python.org/library/logging.html#logrecord-attributes</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Console log colors are specified by these additional formatters:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># %(colorlevel)s</span></span><br><span class="line"><span class="comment"># %(colorname)s</span></span><br><span class="line"><span class="comment"># %(colorprocess)s</span></span><br><span class="line"><span class="comment"># %(colormsg)s</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Since it is desirable to include the surrounding brackets, '[' and ']', in</span></span><br><span class="line"><span class="comment"># the coloring of the messages, these color formatters also include padding as</span></span><br><span class="line"><span class="comment"># well.  Color LogRecord attributes are only available for console logging.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#log_fmt_console: '%(colorlevel)s %(colormsg)s'</span></span><br><span class="line">log_fmt_console: <span class="string">'[%(levelname)-8s] %(message)s'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">log_fmt_logfile: <span class="string">'%(asctime)s,%(msecs)03d [%(name)-17s][%(levelname)-8s] %(message)s'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This can be used to control logging levels more specificically.  This</span></span><br><span class="line"><span class="comment"># example sets the main salt library at the 'warning' level, but sets</span></span><br><span class="line"><span class="comment"># 'salt.modules' to log at the 'debug' level:</span></span><br><span class="line"><span class="comment">#   log_granular_levels:</span></span><br><span class="line"><span class="comment">#     'salt': 'warning'</span></span><br><span class="line"><span class="comment">#     'salt.modules': 'debug'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#log_granular_levels: &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####         Node Groups           ######</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># Node groups allow for logical groupings of minion nodes. A group consists of</span></span><br><span class="line"><span class="comment"># a group name and a compound target. Nodgroups can reference other nodegroups</span></span><br><span class="line"><span class="comment"># with 'N@' classifier. Ensure that you do not have circular references.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#nodegroups:</span></span><br><span class="line"><span class="comment">#  group1: 'L@foo.domain.com,bar.domain.com,baz.domain.com or bl*.domain.com'</span></span><br><span class="line"><span class="comment">#  group2: 'G@os:Debian and foo.domain.com'</span></span><br><span class="line"><span class="comment">#  group3: 'G@os:Debian and N@group1'</span></span><br><span class="line"><span class="comment">#  group4:</span></span><br><span class="line"><span class="comment">#    - 'G@foo:bar'</span></span><br><span class="line"><span class="comment">#    - 'or'</span></span><br><span class="line"><span class="comment">#    - 'G@foo:baz'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####     Range Cluster settings     #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># The range server (and optional port) that serves your cluster information</span></span><br><span class="line"><span class="comment"># https://github.com/ytoolshed/range/wiki/%22yamlfile%22-module-file-spec</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#range_server: range:80</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####  Windows Software Repo settings #####</span></span><br><span class="line"><span class="comment">###########################################</span></span><br><span class="line"><span class="comment"># Location of the repo on the master:</span></span><br><span class="line"><span class="comment">#winrepo_dir_ng: '/srv/salt/win/repo-ng'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># List of git repositories to include with the local repo:</span></span><br><span class="line"><span class="comment">#winrepo_remotes_ng:</span></span><br><span class="line"><span class="comment">#  - 'https://github.com/saltstack/salt-winrepo-ng.git'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####  Windows Software Repo settings - Pre 2015.8 #####</span></span><br><span class="line"><span class="comment">########################################################</span></span><br><span class="line"><span class="comment"># Legacy repo settings for pre-2015.8 Windows minions.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Location of the repo on the master:</span></span><br><span class="line"><span class="comment">#winrepo_dir: '/srv/salt/win/repo'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Location of the master's repo cache file:</span></span><br><span class="line"><span class="comment">#winrepo_mastercachefile: '/srv/salt/win/repo/winrepo.p'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># List of git repositories to include with the local repo:</span></span><br><span class="line"><span class="comment">#winrepo_remotes:</span></span><br><span class="line"><span class="comment">#  - 'https://github.com/saltstack/salt-winrepo.git'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The refspecs fetched by winrepo remotes</span></span><br><span class="line"><span class="comment">#winrepo_refspecs:</span></span><br><span class="line"><span class="comment">#  - '+refs/heads/*:refs/remotes/origin/*'</span></span><br><span class="line"><span class="comment">#  - '+refs/tags/*:refs/tags/*'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#####      Returner settings          ######</span></span><br><span class="line"><span class="comment">############################################</span></span><br><span class="line"><span class="comment"># Which returner(s) will be used for minion's result:</span></span><br><span class="line"><span class="comment">#return: mysql</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">######    Miscellaneous  settings     ######</span></span><br><span class="line"><span class="comment">############################################</span></span><br><span class="line"><span class="comment"># Default match type for filtering events tags: startswith, endswith, find, regex, fnmatch</span></span><br><span class="line">event_match_type: startswith</span><br><span class="line"></span><br><span class="line"><span class="comment"># Save runner returns to the job cache</span></span><br><span class="line">runner_returns: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># Permanently include any available Python 3rd party modules into thin and minimal Salt</span></span><br><span class="line"><span class="comment"># when they are generated for Salt-SSH or other purposes.</span></span><br><span class="line"><span class="comment"># The modules should be named by the names they are actually imported inside the Python.</span></span><br><span class="line"><span class="comment"># The value of the parameters can be either one module or a comma separated list of them.</span></span><br><span class="line"><span class="comment">#thin_extra_mods: foo,bar</span></span><br><span class="line"><span class="comment">#min_extra_mods: foo,bar,baz</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">######      Keepalive settings        ######</span></span><br><span class="line"><span class="comment">############################################</span></span><br><span class="line"><span class="comment"># Warning: Failure to set TCP keepalives on the salt-master can result in</span></span><br><span class="line"><span class="comment"># not detecting the loss of a minion when the connection is lost or when</span></span><br><span class="line"><span class="comment"># it's host has been terminated without first closing the socket.</span></span><br><span class="line"><span class="comment"># Salt's Presence System depends on this connection status to know if a minion</span></span><br><span class="line"><span class="comment"># is "present".</span></span><br><span class="line"><span class="comment"># ZeroMQ now includes support for configuring SO_KEEPALIVE if supported by</span></span><br><span class="line"><span class="comment"># the OS. If connections between the minion and the master pass through</span></span><br><span class="line"><span class="comment"># a state tracking device such as a firewall or VPN gateway, there is</span></span><br><span class="line"><span class="comment"># the risk that it could tear down the connection the master and minion</span></span><br><span class="line"><span class="comment"># without informing either party that their connection has been taken away.</span></span><br><span class="line"><span class="comment"># Enabling TCP Keepalives prevents this from happening.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Overall state of TCP Keepalives, enable (1 or True), disable (0 or False)</span></span><br><span class="line"><span class="comment"># or leave to the OS defaults (-1), on Linux, typically disabled. Default True, enabled.</span></span><br><span class="line">tcp_keepalive: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># How long before the first keepalive should be sent in seconds. Default 300</span></span><br><span class="line"><span class="comment"># to send the first keepalive after 5 minutes, OS default (-1) is typically 7200 seconds</span></span><br><span class="line"><span class="comment"># on Linux see /proc/sys/net/ipv4/tcp_keepalive_time.</span></span><br><span class="line">tcp_keepalive_idle: 300</span><br><span class="line"></span><br><span class="line"><span class="comment"># How many lost probes are needed to consider the connection lost. Default -1</span></span><br><span class="line"><span class="comment"># to use OS defaults, typically 9 on Linux, see /proc/sys/net/ipv4/tcp_keepalive_probes.</span></span><br><span class="line">tcp_keepalive_cnt: -1</span><br><span class="line"></span><br><span class="line"><span class="comment"># How often, in seconds, to send keepalives after the first one. Default -1 to</span></span><br><span class="line"><span class="comment"># use OS defaults, typically 75 seconds on Linux, see</span></span><br><span class="line"><span class="comment"># /proc/sys/net/ipv4/tcp_keepalive_intvl.</span></span><br><span class="line">tcp_keepalive_intvl: -1</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/08/16/salt-syndic-conf/" data-id="cjazexzme00apqcoqup6rpnl5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-salt-master-conf" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/16/salt-master-conf/" class="article-date">
  <time datetime="2017-08-16T01:30:15.000Z" itemprop="datePublished">2017-08-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/automation/">automation</a>►<a class="article-category-link" href="/categories/automation/salt/">salt</a>►<a class="article-category-link" href="/categories/automation/salt/salt-master-conf/">salt master.conf</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/16/salt-master-conf/">salt master.conf</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="salt-master-conf"><a href="#salt-master-conf" class="headerlink" title="salt master.conf"></a>salt master.conf</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br></pre></td><td class="code"><pre><span class="line">[root@saltmaster ~]<span class="comment"># cat /etc/salt/master.d/master.conf</span></span><br><span class="line"><span class="comment">##### Primary configuration settings #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># This configuration file is used to manage the behavior of the Salt Master.</span></span><br><span class="line"><span class="comment"># Values that are commented out but have an empty line after the comment are</span></span><br><span class="line"><span class="comment"># defaults that do not need to be set in the config. If there is no blank line</span></span><br><span class="line"><span class="comment"># after the comment then the value is presented as an example and is not the</span></span><br><span class="line"><span class="comment"># default.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Per default, the master will automatically include all config files</span></span><br><span class="line"><span class="comment"># from master.d/*.conf (master.d is a directory in the same directory</span></span><br><span class="line"><span class="comment"># as the main master config file).</span></span><br><span class="line"><span class="comment">#default_include: master.d/*.conf</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The address of the interface to bind to:</span></span><br><span class="line">interface: 0.0.0.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># Whether the master should listen for IPv6 connections. If this is set to True,</span></span><br><span class="line"><span class="comment"># the interface option must be adjusted, too. (For example: "interface: '::'")</span></span><br><span class="line">ipv6: False</span><br><span class="line"></span><br><span class="line"><span class="comment"># The tcp port used by the publisher:</span></span><br><span class="line">publish_port: 4505</span><br><span class="line"></span><br><span class="line"><span class="comment"># The user under which the salt master will run. Salt will update all</span></span><br><span class="line"><span class="comment"># permissions to allow the specified user to run the master. The exception is</span></span><br><span class="line"><span class="comment"># the job cache, which must be deleted if this user is changed. If the</span></span><br><span class="line"><span class="comment"># modified files cause conflicts, set verify_env to False.</span></span><br><span class="line">user: root</span><br><span class="line"></span><br><span class="line"><span class="comment"># The port used by the communication interface. The ret (return) port is the</span></span><br><span class="line"><span class="comment"># interface used for the file server, authentication, job returns, etc.</span></span><br><span class="line">ret_port: 4506</span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify the location of the daemon process ID file:</span></span><br><span class="line">pidfile: /var/run/salt/salt-master.pid</span><br><span class="line"></span><br><span class="line"><span class="comment"># The root directory prepended to these options: pki_dir, cachedir,</span></span><br><span class="line"><span class="comment"># sock_dir, log_file, autosign_file, autoreject_file, extension_modules,</span></span><br><span class="line"><span class="comment"># key_logfile, pidfile:</span></span><br><span class="line">root_dir: /</span><br><span class="line"></span><br><span class="line"><span class="comment"># The path to the master's configuration file.</span></span><br><span class="line">conf_file: /etc/salt/master</span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory used to store public key data:</span></span><br><span class="line">pki_dir: /salt/pki/master</span><br><span class="line"></span><br><span class="line"><span class="comment"># Key cache. Increases master speed for large numbers of accepted</span></span><br><span class="line"><span class="comment"># keys. Available options: 'sched'. (Updates on a fixed schedule.)</span></span><br><span class="line"><span class="comment"># Note that enabling this feature means that minions will not be</span></span><br><span class="line"><span class="comment"># available to target for up to the length of the maintanence loop</span></span><br><span class="line"><span class="comment"># which by default is 60s.</span></span><br><span class="line">key_cache: <span class="string">'sched'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory to store job and cache data:</span></span><br><span class="line"><span class="comment"># This directory may contain sensitive data and should be protected accordingly.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">cachedir: /var/cache/salt/master</span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory for custom modules. This directory can contain subdirectories for</span></span><br><span class="line"><span class="comment"># each of Salt's module types such as "runners", "output", "wheel", "modules",</span></span><br><span class="line"><span class="comment"># "states", "returners", etc.</span></span><br><span class="line"><span class="comment">#extension_modules: &lt;no default&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory for custom modules. This directory can contain subdirectories for</span></span><br><span class="line"><span class="comment"># each of Salt's module types such as "runners", "output", "wheel", "modules",</span></span><br><span class="line"><span class="comment"># "states", "returners", "engines", etc.</span></span><br><span class="line"><span class="comment"># Like 'extension_modules' but can take an array of paths</span></span><br><span class="line">module_dirs:</span><br><span class="line">   - /var/cache/salt/minion/extmods</span><br><span class="line"></span><br><span class="line"><span class="comment"># Verify and set permissions on configuration directories at startup:</span></span><br><span class="line">verify_env: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the number of hours to keep old job information in the job cache:</span></span><br><span class="line">keep_jobs: 24</span><br><span class="line"></span><br><span class="line"><span class="comment"># The number of seconds to wait when the client is requesting information</span></span><br><span class="line"><span class="comment"># about running jobs.</span></span><br><span class="line">gather_job_timeout: 10</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the default timeout for the salt command and api. The default is 5</span></span><br><span class="line"><span class="comment"># seconds.</span></span><br><span class="line">timeout: 10</span><br><span class="line"></span><br><span class="line"><span class="comment"># The loop_interval option controls the seconds for the master's maintenance</span></span><br><span class="line"><span class="comment"># process check cycle. This process updates file server backends, cleans the</span></span><br><span class="line"><span class="comment"># job cache and executes the scheduler.</span></span><br><span class="line">loop_interval: 60</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the default outputter used by the salt command. The default is "nested".</span></span><br><span class="line">output: nested</span><br><span class="line"></span><br><span class="line"><span class="comment"># To set a list of additional directories to search for salt outputters, set the</span></span><br><span class="line"><span class="comment"># outputter_dirs option.</span></span><br><span class="line"><span class="comment">#outputter_dirs: []</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the default output file used by the salt command. Default is to output</span></span><br><span class="line"><span class="comment"># to the CLI and not to a file. Functions the same way as the "--out-file"</span></span><br><span class="line"><span class="comment"># CLI option, only sets this to a single file for all salt commands.</span></span><br><span class="line"><span class="comment"># output_file: /mnt/log/salt/output_file</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Return minions that timeout when running commands like test.ping</span></span><br><span class="line">show_timeout: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># Tell the client to display the jid when a job is published.</span></span><br><span class="line">show_jid: False</span><br><span class="line"></span><br><span class="line"><span class="comment"># By default, output is colored. To disable colored output, set the color value</span></span><br><span class="line"><span class="comment"># to False.</span></span><br><span class="line">color: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># Do not strip off the colored output from nested results and state outputs</span></span><br><span class="line"><span class="comment"># (true by default).</span></span><br><span class="line">strip_colors: False</span><br><span class="line"></span><br><span class="line"><span class="comment"># To display a summary of the number of minions targeted, the number of</span></span><br><span class="line"><span class="comment"># minions returned, and the number of minions that did not return, set the</span></span><br><span class="line"><span class="comment"># cli_summary value to True. (False by default.)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">cli_summary: False</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the directory used to hold unix sockets:</span></span><br><span class="line">sock_dir: /var/run/salt/master</span><br><span class="line"></span><br><span class="line"><span class="comment"># The master can take a while to start up when lspci and/or dmidecode is used</span></span><br><span class="line"><span class="comment"># to populate the grains for the master. Enable if you want to see GPU hardware</span></span><br><span class="line"><span class="comment"># data for your master.</span></span><br><span class="line">enable_gpu_grains: False</span><br><span class="line"></span><br><span class="line"><span class="comment"># The master maintains a job cache. While this is a great addition, it can be</span></span><br><span class="line"><span class="comment"># a burden on the master for larger deployments (over 5000 minions).</span></span><br><span class="line"><span class="comment"># Disabling the job cache will make previously executed jobs unavailable to</span></span><br><span class="line"><span class="comment"># the jobs system and is not generally recommended.</span></span><br><span class="line">job_cache: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># Cache minion grains, pillar and mine data via the cache subsystem in the</span></span><br><span class="line"><span class="comment"># cachedir or a database.</span></span><br><span class="line">minion_data_cache: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># Cache subsystem module to use for minion data cache.</span></span><br><span class="line">cache: localfs</span><br><span class="line"><span class="comment"># Enables a fast in-memory cache booster and sets the expiration time.</span></span><br><span class="line">memcache_expire_seconds: 0</span><br><span class="line"><span class="comment"># Set a memcache limit in items (bank + key) per cache storage (driver + driver_opts).</span></span><br><span class="line">memcache_max_items: 102400</span><br><span class="line"><span class="comment"># Each time a cache storage got full cleanup all the expired items not just the oldest one.</span></span><br><span class="line">memcache_full_cleanup: False</span><br><span class="line"><span class="comment"># Enable collecting the memcache stats and log it on `debug` log level.</span></span><br><span class="line">memcache_debug: False</span><br><span class="line"></span><br><span class="line"><span class="comment"># Store all returns in the given returner.</span></span><br><span class="line"><span class="comment"># Setting this option requires that any returner-specific configuration also</span></span><br><span class="line"><span class="comment"># be set. See various returners in salt/returners for details on required</span></span><br><span class="line"><span class="comment"># configuration values. (See also, event_return_queue below.)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#event_return: mysql</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># On busy systems, enabling event_returns can cause a considerable load on</span></span><br><span class="line"><span class="comment"># the storage system for returners. Events can be queued on the master and</span></span><br><span class="line"><span class="comment"># stored in a batched fashion using a single transaction for multiple events.</span></span><br><span class="line"><span class="comment"># By default, events are not queued.</span></span><br><span class="line"><span class="comment">#event_return_queue: 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Only return events matching tags in a whitelist, supports glob matches.</span></span><br><span class="line"><span class="comment">#event_return_whitelist:</span></span><br><span class="line"><span class="comment">#  - salt/master/a_tag</span></span><br><span class="line"><span class="comment">#  - salt/run/*/ret</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Store all event returns **except** the tags in a blacklist, supports globs.</span></span><br><span class="line"><span class="comment">#event_return_blacklist:</span></span><br><span class="line"><span class="comment">#  - salt/master/not_this_tag</span></span><br><span class="line"><span class="comment">#  - salt/wheel/*/ret</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Passing very large events can cause the minion to consume large amounts of</span></span><br><span class="line"><span class="comment"># memory. This value tunes the maximum size of a message allowed onto the</span></span><br><span class="line"><span class="comment"># master event bus. The value is expressed in bytes.</span></span><br><span class="line"><span class="comment">#max_event_size: 1048576</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># By default, the master AES key rotates every 24 hours. The next command</span></span><br><span class="line"><span class="comment"># following a key rotation will trigger a key refresh from the minion which may</span></span><br><span class="line"><span class="comment"># result in minions which do not respond to the first command after a key refresh.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># To tell the master to ping all minions immediately after an AES key refresh, set</span></span><br><span class="line"><span class="comment"># ping_on_rotate to True. This should mitigate the issue where a minion does not</span></span><br><span class="line"><span class="comment"># appear to initially respond after a key is rotated.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Note that ping_on_rotate may cause high load on the master immediately after</span></span><br><span class="line"><span class="comment"># the key rotation event as minions reconnect. Consider this carefully if this</span></span><br><span class="line"><span class="comment"># salt master is managing a large number of minions.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If disabled, it is recommended to handle this event by listening for the</span></span><br><span class="line"><span class="comment"># 'aes_key_rotate' event with the 'key' tag and acting appropriately.</span></span><br><span class="line"><span class="comment"># ping_on_rotate: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># By default, the master deletes its cache of minion data when the key for that</span></span><br><span class="line"><span class="comment"># minion is removed. To preserve the cache after key deletion, set</span></span><br><span class="line"><span class="comment"># 'preserve_minion_cache' to True.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># WARNING: This may have security implications if compromised minions auth with</span></span><br><span class="line"><span class="comment"># a previous deleted minion ID.</span></span><br><span class="line"><span class="comment">#preserve_minion_cache: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Allow or deny minions from requesting their own key revocation</span></span><br><span class="line"><span class="comment">#allow_minion_key_revoke: True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If max_minions is used in large installations, the master might experience</span></span><br><span class="line"><span class="comment"># high-load situations because of having to check the number of connected</span></span><br><span class="line"><span class="comment"># minions for every authentication. This cache provides the minion-ids of</span></span><br><span class="line"><span class="comment"># all connected minions to all MWorker-processes and greatly improves the</span></span><br><span class="line"><span class="comment"># performance of max_minions.</span></span><br><span class="line"><span class="comment"># con_cache: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The master can include configuration from other files. To enable this,</span></span><br><span class="line"><span class="comment"># pass a list of paths to this option. The paths can be either relative or</span></span><br><span class="line"><span class="comment"># absolute; if relative, they are considered to be relative to the directory</span></span><br><span class="line"><span class="comment"># the main master configuration file lives in (this file). Paths can make use</span></span><br><span class="line"><span class="comment"># of shell-style globbing. If no files are matched by a path passed to this</span></span><br><span class="line"><span class="comment"># option, then the master will log a warning message.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Include a config file from some other path:</span></span><br><span class="line"><span class="comment"># include: /etc/salt/extra_config</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Include config from several files and directories:</span></span><br><span class="line"><span class="comment"># include:</span></span><br><span class="line"><span class="comment">#   - /etc/salt/extra_config</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####  Large-scale tuning settings   #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># Max open files</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Each minion connecting to the master uses AT LEAST one file descriptor, the</span></span><br><span class="line"><span class="comment"># master subscription connection. If enough minions connect you might start</span></span><br><span class="line"><span class="comment"># seeing on the console (and then salt-master crashes):</span></span><br><span class="line"><span class="comment">#   Too many open files (tcp_listener.cpp:335)</span></span><br><span class="line"><span class="comment">#   Aborted (core dumped)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># By default this value will be the one of `ulimit -Hn`, ie, the hard limit for</span></span><br><span class="line"><span class="comment"># max open files.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If you wish to set a different value than the default one, uncomment and</span></span><br><span class="line"><span class="comment"># configure this setting. Remember that this value CANNOT be higher than the</span></span><br><span class="line"><span class="comment"># hard limit. Raising the hard limit depends on your OS and/or distribution,</span></span><br><span class="line"><span class="comment"># a good way to find the limit is to search the internet. For example:</span></span><br><span class="line"><span class="comment">#   raise max open files hard limit debian</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">max_open_files: 65535</span><br><span class="line"></span><br><span class="line"><span class="comment"># The number of worker threads to start. These threads are used to manage</span></span><br><span class="line"><span class="comment"># return calls made from minions to the master. If the master seems to be</span></span><br><span class="line"><span class="comment"># running slowly, increase the number of threads. This setting can not be</span></span><br><span class="line"><span class="comment"># set lower than 3.</span></span><br><span class="line">worker_threads: 8</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the ZeroMQ high water marks</span></span><br><span class="line"><span class="comment"># http://api.zeromq.org/3-2:zmq-setsockopt</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The listen queue size / backlog</span></span><br><span class="line">zmq_backlog: 1000</span><br><span class="line"></span><br><span class="line"><span class="comment"># The publisher interface ZeroMQPubServerChannel</span></span><br><span class="line">pub_hwm: 1000</span><br><span class="line"></span><br><span class="line"><span class="comment"># These two ZMQ HWM settings, salt_event_pub_hwm and event_publisher_pub_hwm</span></span><br><span class="line"><span class="comment"># are significant for masters with thousands of minions.  When these are</span></span><br><span class="line"><span class="comment"># insufficiently high it will manifest in random responses missing in the CLI</span></span><br><span class="line"><span class="comment"># and even missing from the job cache.  Masters that have fast CPUs and many</span></span><br><span class="line"><span class="comment"># cores with appropriate worker_threads will not need these set as high.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># On deployment with 8,000 minions, 2.4GHz CPUs, 24 cores, 32GiB memory has</span></span><br><span class="line"><span class="comment"># these settings:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   salt_event_pub_hwm: 128000</span></span><br><span class="line"><span class="comment">#   event_publisher_pub_hwm: 64000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ZMQ high-water-mark for SaltEvent pub socket</span></span><br><span class="line">salt_event_pub_hwm: 20000</span><br><span class="line"></span><br><span class="line"><span class="comment"># ZMQ high-water-mark for EventPublisher pub socket</span></span><br><span class="line">event_publisher_pub_hwm: 10000</span><br><span class="line"></span><br><span class="line"><span class="comment"># The master may allocate memory per-event and not</span></span><br><span class="line"><span class="comment"># reclaim it.</span></span><br><span class="line"><span class="comment"># To set a high-water mark for memory allocation, use</span></span><br><span class="line"><span class="comment"># ipc_write_buffer to set a high-water mark for message</span></span><br><span class="line"><span class="comment"># buffering.</span></span><br><span class="line"><span class="comment"># Value: In bytes. Set to 'dynamic' to have Salt select</span></span><br><span class="line"><span class="comment"># a value for you. Default is disabled.</span></span><br><span class="line">ipc_write_buffer: <span class="string">'dynamic'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####        Security settings       #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># Enable "open mode", this mode still maintains encryption, but turns off</span></span><br><span class="line"><span class="comment"># authentication, this is only intended for highly secure environments or for</span></span><br><span class="line"><span class="comment"># the situation where your keys end up in a bad state. If you run in open mode</span></span><br><span class="line"><span class="comment"># you do so at your own risk!</span></span><br><span class="line">open_mode: False</span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable auto_accept, this setting will automatically accept all incoming</span></span><br><span class="line"><span class="comment"># public keys from the minions. Note that this is insecure.</span></span><br><span class="line">auto_accept: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># Time in minutes that an incoming public key with a matching name found in</span></span><br><span class="line"><span class="comment"># pki_dir/minion_autosign/keyid is automatically accepted. Expired autosign keys</span></span><br><span class="line"><span class="comment"># are removed when the master checks the minion_autosign directory.</span></span><br><span class="line"><span class="comment"># 0 equals no timeout</span></span><br><span class="line">autosign_timeout: 120</span><br><span class="line"></span><br><span class="line"><span class="comment"># If the autosign_file is specified, incoming keys specified in the</span></span><br><span class="line"><span class="comment"># autosign_file will be automatically accepted. This is insecure.  Regular</span></span><br><span class="line"><span class="comment"># expressions as well as globing lines are supported.</span></span><br><span class="line">autosign_file: /etc/salt/autosign.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># Works like autosign_file, but instead allows you to specify minion IDs for</span></span><br><span class="line"><span class="comment"># which keys will automatically be rejected. Will override both membership in</span></span><br><span class="line"><span class="comment"># the autosign_file and the auto_accept setting.</span></span><br><span class="line">autoreject_file: /etc/salt/autoreject.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable permissive access to the salt keys. This allows you to run the</span></span><br><span class="line"><span class="comment"># master or minion as root, but have a non-root group be given access to</span></span><br><span class="line"><span class="comment"># your pki_dir. To make the access explicit, root must belong to the group</span></span><br><span class="line"><span class="comment"># you've given access to. This is potentially quite insecure. If an autosign_file</span></span><br><span class="line"><span class="comment"># is specified, enabling permissive_pki_access will allow group access to that</span></span><br><span class="line"><span class="comment"># specific file.</span></span><br><span class="line">permissive_pki_access: False</span><br><span class="line"></span><br><span class="line"><span class="comment"># Allow users on the master access to execute specific commands on minions.</span></span><br><span class="line"><span class="comment"># This setting should be treated with care since it opens up execution</span></span><br><span class="line"><span class="comment"># capabilities to non root users. By default this capability is completely</span></span><br><span class="line"><span class="comment"># disabled.</span></span><br><span class="line"><span class="comment">#publisher_acl:</span></span><br><span class="line"><span class="comment">#  larry:</span></span><br><span class="line"><span class="comment">#    - test.ping</span></span><br><span class="line"><span class="comment">#    - network.*</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Blacklist any of the following users or modules</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This example would blacklist all non sudo users, including root from</span></span><br><span class="line"><span class="comment"># running any commands. It would also blacklist any use of the "cmd"</span></span><br><span class="line"><span class="comment"># module. This is completely disabled by default.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Check the list of configured users in client ACL against users on the</span></span><br><span class="line"><span class="comment"># system and throw errors if they do not exist.</span></span><br><span class="line"><span class="comment">#client_acl_verify: True</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#publisher_acl_blacklist:</span></span><br><span class="line"><span class="comment">#  users:</span></span><br><span class="line"><span class="comment">#    - root</span></span><br><span class="line"><span class="comment">#    - '^(?!sudo_).*$'   #  all non sudo users</span></span><br><span class="line"><span class="comment">#  modules:</span></span><br><span class="line"><span class="comment">#    - cmd</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enforce publisher_acl &amp; publisher_acl_blacklist when users have sudo</span></span><br><span class="line"><span class="comment"># access to the salt command.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#sudo_acl: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The external auth system uses the Salt auth modules to authenticate and</span></span><br><span class="line"><span class="comment"># validate users to access areas of the Salt system.</span></span><br><span class="line"><span class="comment">#external_auth:</span></span><br><span class="line"><span class="comment">#  pam:</span></span><br><span class="line"><span class="comment">#    fred:</span></span><br><span class="line"><span class="comment">#      - test.*</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Time (in seconds) for a newly generated token to live. Default: 12 hours</span></span><br><span class="line"><span class="comment">#token_expire: 43200</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Allow eauth users to specify the expiry time of the tokens they generate.</span></span><br><span class="line"><span class="comment"># A boolean applies to all users or a dictionary of whitelisted eauth backends</span></span><br><span class="line"><span class="comment"># and usernames may be given.</span></span><br><span class="line"><span class="comment"># token_expire_user_override:</span></span><br><span class="line"><span class="comment">#   pam:</span></span><br><span class="line"><span class="comment">#     - fred</span></span><br><span class="line"><span class="comment">#     - tom</span></span><br><span class="line"><span class="comment">#   ldap:</span></span><br><span class="line"><span class="comment">#     - gary</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#token_expire_user_override: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set to True to enable keeping the calculated user's auth list in the token</span></span><br><span class="line"><span class="comment"># file. This is disabled by default and the auth list is calculated or requested</span></span><br><span class="line"><span class="comment"># from the eauth driver each time.</span></span><br><span class="line"><span class="comment">#keep_acl_in_token: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Auth subsystem module to use to get authorized access list for a user. By default it's</span></span><br><span class="line"><span class="comment"># the same module used for external authentication.</span></span><br><span class="line"><span class="comment">#eauth_acl_module: django</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Allow minions to push files to the master. This is disabled by default, for</span></span><br><span class="line"><span class="comment"># security purposes.</span></span><br><span class="line"><span class="comment">#file_recv: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set a hard-limit on the size of the files that can be pushed to the master.</span></span><br><span class="line"><span class="comment"># It will be interpreted as megabytes. Default: 100</span></span><br><span class="line"><span class="comment">#file_recv_max_size: 100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Signature verification on messages published from the master.</span></span><br><span class="line"><span class="comment"># This causes the master to cryptographically sign all messages published to its event</span></span><br><span class="line"><span class="comment"># bus, and minions then verify that signature before acting on the message.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This is False by default.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Note that to facilitate interoperability with masters and minions that are different</span></span><br><span class="line"><span class="comment"># versions, if sign_pub_messages is True but a message is received by a minion with</span></span><br><span class="line"><span class="comment"># no signature, it will still be accepted, and a warning message will be logged.</span></span><br><span class="line"><span class="comment"># Conversely, if sign_pub_messages is False, but a minion receives a signed</span></span><br><span class="line"><span class="comment"># message it will be accepted, the signature will not be checked, and a warning message</span></span><br><span class="line"><span class="comment"># will be logged. This behavior went away in Salt 2014.1.0 and these two situations</span></span><br><span class="line"><span class="comment"># will cause minion to throw an exception and drop the message.</span></span><br><span class="line"><span class="comment"># sign_pub_messages: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Signature verification on messages published from minions</span></span><br><span class="line"><span class="comment"># This requires that minions cryptographically sign the messages they</span></span><br><span class="line"><span class="comment"># publish to the master.  If minions are not signing, then log this information</span></span><br><span class="line"><span class="comment"># at loglevel 'INFO' and drop the message without acting on it.</span></span><br><span class="line"><span class="comment"># require_minion_sign_messages: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The below will drop messages when their signatures do not validate.</span></span><br><span class="line"><span class="comment"># Note that when this option is False but `require_minion_sign_messages` is True</span></span><br><span class="line"><span class="comment"># minions MUST sign their messages but the validity of their signatures</span></span><br><span class="line"><span class="comment"># is ignored.</span></span><br><span class="line"><span class="comment"># These two config options exist so a Salt infrastructure can be moved</span></span><br><span class="line"><span class="comment"># to signing minion messages gradually.</span></span><br><span class="line"><span class="comment"># drop_messages_signature_fail: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Use TLS/SSL encrypted connection between master and minion.</span></span><br><span class="line"><span class="comment"># Can be set to a dictionary containing keyword arguments corresponding to Python's</span></span><br><span class="line"><span class="comment"># 'ssl.wrap_socket' method.</span></span><br><span class="line"><span class="comment"># Default is None.</span></span><br><span class="line"><span class="comment">#ssl:</span></span><br><span class="line"><span class="comment">#    keyfile: &lt;path_to_keyfile&gt;</span></span><br><span class="line"><span class="comment">#    certfile: &lt;path_to_certfile&gt;</span></span><br><span class="line"><span class="comment">#    ssl_version: PROTOCOL_TLSv1_2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#####     Salt-SSH Configuration     #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Pass in an alternative location for the salt-ssh roster file</span></span><br><span class="line"><span class="comment">#roster_file: /etc/salt/roster</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define locations for roster files so they can be chosen when using Salt API.</span></span><br><span class="line"><span class="comment"># An administrator can place roster files into these locations. Then when</span></span><br><span class="line"><span class="comment"># calling Salt API, parameter 'roster_file' should contain a relative path to</span></span><br><span class="line"><span class="comment"># these locations. That is, "roster_file=/foo/roster" will be resolved as</span></span><br><span class="line"><span class="comment"># "/etc/salt/roster.d/foo/roster" etc. This feature prevents passing insecure</span></span><br><span class="line"><span class="comment"># custom rosters through the Salt API.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#rosters:</span></span><br><span class="line"><span class="comment"># - /etc/salt/roster.d</span></span><br><span class="line"><span class="comment"># - /opt/salt/some/more/rosters</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The ssh password to log in with.</span></span><br><span class="line"><span class="comment">#ssh_passwd: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#The target system's ssh port number.</span></span><br><span class="line"><span class="comment">#ssh_port: 22</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Comma-separated list of ports to scan.</span></span><br><span class="line"><span class="comment">#ssh_scan_ports: 22</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Scanning socket timeout for salt-ssh.</span></span><br><span class="line"><span class="comment">#ssh_scan_timeout: 0.01</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Boolean to run command via sudo.</span></span><br><span class="line"><span class="comment">#ssh_sudo: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Number of seconds to wait for a response when establishing an SSH connection.</span></span><br><span class="line"><span class="comment">#ssh_timeout: 60</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The user to log in as.</span></span><br><span class="line"><span class="comment">#ssh_user: root</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The log file of the salt-ssh command:</span></span><br><span class="line"><span class="comment">#ssh_log_file: /var/log/salt/ssh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Pass in minion option overrides that will be inserted into the SHIM for</span></span><br><span class="line"><span class="comment"># salt-ssh calls. The local minion config is not used for salt-ssh. Can be</span></span><br><span class="line"><span class="comment"># overridden on a per-minion basis in the roster (`minion_opts`)</span></span><br><span class="line"><span class="comment">#ssh_minion_opts:</span></span><br><span class="line"><span class="comment">#  gpg_keydir: /root/gpg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set this to True to default to using ~/.ssh/id_rsa for salt-ssh</span></span><br><span class="line"><span class="comment"># authentication with minions</span></span><br><span class="line"><span class="comment">#ssh_use_home_key: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set this to True to default salt-ssh to run with ``-o IdentitiesOnly=yes``.</span></span><br><span class="line"><span class="comment"># This option is intended for situations where the ssh-agent offers many</span></span><br><span class="line"><span class="comment"># different identities and allows ssh to ignore those identities and use the</span></span><br><span class="line"><span class="comment"># only one specified in options.</span></span><br><span class="line"><span class="comment">#ssh_identities_only: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># List-only nodegroups for salt-ssh. Each group must be formed as either a</span></span><br><span class="line"><span class="comment"># comma-separated list, or a YAML list. This option is useful to group minions</span></span><br><span class="line"><span class="comment"># into easy-to-target groups when using salt-ssh. These groups can then be</span></span><br><span class="line"><span class="comment"># targeted with the normal -N argument to salt-ssh.</span></span><br><span class="line"><span class="comment">#ssh_list_nodegroups: &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#####    Master Module Management    #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># Manage how master side modules are loaded.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Add any additional locations to look for master runners:</span></span><br><span class="line"><span class="comment">#runner_dirs: []</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable Cython for master side modules:</span></span><br><span class="line"><span class="comment">#cython_enable: False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####      State System settings     #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># The state system uses a "top" file to tell the minions what environment to</span></span><br><span class="line"><span class="comment"># use and what modules to use. The state_top file is defined relative to the</span></span><br><span class="line"><span class="comment"># root of the base environment as defined in "File Server settings" below.</span></span><br><span class="line">state_top: top.sls</span><br><span class="line"></span><br><span class="line"><span class="comment"># The master_tops option replaces the external_nodes option by creating</span></span><br><span class="line"><span class="comment"># a plugable system for the generation of external top data. The external_nodes</span></span><br><span class="line"><span class="comment"># option is deprecated by the master_tops option.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># To gain the capabilities of the classic external_nodes system, use the</span></span><br><span class="line"><span class="comment"># following configuration:</span></span><br><span class="line"><span class="comment"># master_tops:</span></span><br><span class="line"><span class="comment">#   ext_nodes: &lt;Shell command which returns yaml&gt;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#master_tops: &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The external_nodes option allows Salt to gather data that would normally be</span></span><br><span class="line"><span class="comment"># placed in a top file. The external_nodes option is the executable that will</span></span><br><span class="line"><span class="comment"># return the ENC data. Remember that Salt will look for external nodes AND top</span></span><br><span class="line"><span class="comment"># files and combine the results if both are enabled!</span></span><br><span class="line"><span class="comment">#external_nodes: None</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The renderer to use on the minions to render the state data</span></span><br><span class="line">renderer: yaml_jinja</span><br><span class="line"></span><br><span class="line"><span class="comment"># The Jinja renderer can strip extra carriage returns and whitespace</span></span><br><span class="line"><span class="comment"># See http://jinja.pocoo.org/docs/api/#high-level-api</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If this is set to True the first newline after a Jinja block is removed</span></span><br><span class="line"><span class="comment"># (block, not variable tag!). Defaults to False, corresponds to the Jinja</span></span><br><span class="line"><span class="comment"># environment init variable "trim_blocks".</span></span><br><span class="line"><span class="comment">#jinja_trim_blocks: False</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If this is set to True leading spaces and tabs are stripped from the start</span></span><br><span class="line"><span class="comment"># of a line to a block. Defaults to False, corresponds to the Jinja</span></span><br><span class="line"><span class="comment"># environment init variable "lstrip_blocks".</span></span><br><span class="line"><span class="comment">#jinja_lstrip_blocks: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The failhard option tells the minions to stop immediately after the first</span></span><br><span class="line"><span class="comment"># failure detected in the state execution, defaults to False</span></span><br><span class="line"><span class="comment">#failhard: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The state_verbose and state_output settings can be used to change the way</span></span><br><span class="line"><span class="comment"># state system data is printed to the display. By default all data is printed.</span></span><br><span class="line"><span class="comment"># The state_verbose setting can be set to True or False, when set to False</span></span><br><span class="line"><span class="comment"># all data that has a result of True and no changes will be suppressed.</span></span><br><span class="line">state_verbose: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># The state_output setting changes if the output is the full multi line</span></span><br><span class="line"><span class="comment"># output for each changed state if set to 'full', but if set to 'terse'</span></span><br><span class="line"><span class="comment"># the output will be shortened to a single line.  If set to 'mixed', the output</span></span><br><span class="line"><span class="comment"># will be terse unless a state failed, in which case that output will be full.</span></span><br><span class="line"><span class="comment"># If set to 'changes', the output will be full unless the state didn't change.</span></span><br><span class="line">state_output: full</span><br><span class="line"></span><br><span class="line"><span class="comment"># The state_output_diff setting changes whether or not the output from</span></span><br><span class="line"><span class="comment"># successful states is returned. Useful when even the terse output of these</span></span><br><span class="line"><span class="comment"># states is cluttering the logs. Set it to True to ignore them.</span></span><br><span class="line"><span class="comment">#state_output_diff: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Automatically aggregate all states that have support for mod_aggregate by</span></span><br><span class="line"><span class="comment"># setting to 'True'. Or pass a list of state module names to automatically</span></span><br><span class="line"><span class="comment"># aggregate just those types.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># state_aggregate:</span></span><br><span class="line"><span class="comment">#   - pkg</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#state_aggregate: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Send progress events as each function in a state run completes execution</span></span><br><span class="line"><span class="comment"># by setting to 'True'. Progress events are in the format</span></span><br><span class="line"><span class="comment"># 'salt/job/&lt;JID&gt;/prog/&lt;MID&gt;/&lt;RUN NUM&gt;'.</span></span><br><span class="line"><span class="comment">#state_events: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#####      File Server settings      #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># Salt runs a lightweight file server written in zeromq to deliver files to</span></span><br><span class="line"><span class="comment"># minions. This file server is built into the master daemon and does not</span></span><br><span class="line"><span class="comment"># require a dedicated port.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The file server works on environments passed to the master, each environment</span></span><br><span class="line"><span class="comment"># can have multiple root directories, the subdirectories in the multiple file</span></span><br><span class="line"><span class="comment"># roots cannot match, otherwise the downloaded files will not be able to be</span></span><br><span class="line"><span class="comment"># reliably ensured. A base environment is required to house the top file.</span></span><br><span class="line"><span class="comment"># Example:</span></span><br><span class="line"><span class="comment"># file_roots:</span></span><br><span class="line"><span class="comment">#   base:</span></span><br><span class="line"><span class="comment">#     - /srv/salt/</span></span><br><span class="line"><span class="comment">#   dev:</span></span><br><span class="line"><span class="comment">#     - /srv/salt/dev/services</span></span><br><span class="line"><span class="comment">#     - /srv/salt/dev/states</span></span><br><span class="line"><span class="comment">#   prod:</span></span><br><span class="line"><span class="comment">#     - /srv/salt/prod/services</span></span><br><span class="line"><span class="comment">#     - /srv/salt/prod/states</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">file_roots:</span><br><span class="line">  base:</span><br><span class="line">    - /salt/file/base</span><br><span class="line">  dev:</span><br><span class="line">    - /salt/file/dev</span><br><span class="line">  prod:</span><br><span class="line">    - /salt/file/prod</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># The master_roots setting configures a master-only copy of the file_roots dictionary,</span></span><br><span class="line"><span class="comment"># used by the state compiler.</span></span><br><span class="line"><span class="comment">#master_roots: /srv/salt-master</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When using multiple environments, each with their own top file, the</span></span><br><span class="line"><span class="comment"># default behaviour is an unordered merge. To prevent top files from</span></span><br><span class="line"><span class="comment"># being merged together and instead to only use the top file from the</span></span><br><span class="line"><span class="comment"># requested environment, set this value to 'same'.</span></span><br><span class="line"><span class="comment">#top_file_merging_strategy: merge</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># To specify the order in which environments are merged, set the ordering</span></span><br><span class="line"><span class="comment"># in the env_order option. Given a conflict, the last matching value will</span></span><br><span class="line"><span class="comment"># win.</span></span><br><span class="line"><span class="comment">#env_order: ['base', 'dev', 'prod']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If top_file_merging_strategy is set to 'same' and an environment does not</span></span><br><span class="line"><span class="comment"># contain a top file, the top file in the environment specified by default_top</span></span><br><span class="line"><span class="comment"># will be used instead.</span></span><br><span class="line"><span class="comment">#default_top: base</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The hash_type is the hash to use when discovering the hash of a file on</span></span><br><span class="line"><span class="comment"># the master server. The default is sha256, but md5, sha1, sha224, sha384 and</span></span><br><span class="line"><span class="comment"># sha512 are also supported.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># WARNING: While md5 and sha1 are also supported, do not use them due to the</span></span><br><span class="line"><span class="comment"># high chance of possible collisions and thus security breach.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Prior to changing this value, the master should be stopped and all Salt</span></span><br><span class="line"><span class="comment"># caches should be cleared.</span></span><br><span class="line">hash_type: sha256</span><br><span class="line"></span><br><span class="line"><span class="comment"># The buffer size in the file server can be adjusted here:</span></span><br><span class="line"><span class="comment">#file_buffer_size: 1048576</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A regular expression (or a list of expressions) that will be matched</span></span><br><span class="line"><span class="comment"># against the file path before syncing the modules and states to the minions.</span></span><br><span class="line"><span class="comment"># This includes files affected by the file.recurse state.</span></span><br><span class="line"><span class="comment"># For example, if you manage your custom modules and states in subversion</span></span><br><span class="line"><span class="comment"># and don't want all the '.svn' folders and content synced to your minions,</span></span><br><span class="line"><span class="comment"># you could set this to '/\.svn($|/)'. By default nothing is ignored.</span></span><br><span class="line">file_ignore_regex:</span><br><span class="line">  - <span class="string">'/\.svn($|/)'</span></span><br><span class="line">  - <span class="string">'/\.git($|/)'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A file glob (or list of file globs) that will be matched against the file</span></span><br><span class="line"><span class="comment"># path before syncing the modules and states to the minions. This is similar</span></span><br><span class="line"><span class="comment"># to file_ignore_regex above, but works on globs instead of regex. By default</span></span><br><span class="line"><span class="comment"># nothing is ignored.</span></span><br><span class="line"><span class="comment"># file_ignore_glob:</span></span><br><span class="line"><span class="comment">#  - '*.pyc'</span></span><br><span class="line"><span class="comment">#  - '*/somefolder/*.bak'</span></span><br><span class="line"><span class="comment">#  - '*.swp'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># File Server Backend</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Salt supports a modular fileserver backend system, this system allows</span></span><br><span class="line"><span class="comment"># the salt master to link directly to third party systems to gather and</span></span><br><span class="line"><span class="comment"># manage the files available to minions. Multiple backends can be</span></span><br><span class="line"><span class="comment"># configured and will be searched for the requested file in the order in which</span></span><br><span class="line"><span class="comment"># they are defined here. The default setting only enables the standard backend</span></span><br><span class="line"><span class="comment"># "roots" which uses the "file_roots" option.</span></span><br><span class="line"><span class="comment">#fileserver_backend:</span></span><br><span class="line"><span class="comment">#  - roots</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># To use multiple backends list them in the order they are searched:</span></span><br><span class="line">fileserver_backend:</span><br><span class="line">  - git</span><br><span class="line"><span class="comment">#  - roots</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Uncomment the line below if you do not want the file_server to follow</span></span><br><span class="line"><span class="comment"># symlinks when walking the filesystem tree. This is set to True</span></span><br><span class="line"><span class="comment"># by default. Currently this only applies to the default roots</span></span><br><span class="line"><span class="comment"># fileserver_backend.</span></span><br><span class="line">fileserver_followsymlinks: True</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Uncomment the line below if you do not want symlinks to be</span></span><br><span class="line"><span class="comment"># treated as the files they are pointing to. By default this is set to</span></span><br><span class="line"><span class="comment"># False. By uncommenting the line below, any detected symlink while listing</span></span><br><span class="line"><span class="comment"># files on the Master will not be returned to the Minion.</span></span><br><span class="line"><span class="comment">#fileserver_ignoresymlinks: True</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># By default, the Salt fileserver recurses fully into all defined environments</span></span><br><span class="line"><span class="comment"># to attempt to find files. To limit this behavior so that the fileserver only</span></span><br><span class="line"><span class="comment"># traverses directories with SLS files and special Salt directories like _modules,</span></span><br><span class="line"><span class="comment"># enable the option below. This might be useful for installations where a file root</span></span><br><span class="line"><span class="comment"># has a very large number of files and performance is impacted. Default is False.</span></span><br><span class="line"><span class="comment"># fileserver_limit_traversal: False</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The fileserver can fire events off every time the fileserver is updated,</span></span><br><span class="line"><span class="comment"># these are disabled by default, but can be easily turned on by setting this</span></span><br><span class="line"><span class="comment"># flag to True</span></span><br><span class="line"><span class="comment">#fileserver_events: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Git File Server Backend Configuration</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Optional parameter used to specify the provider to be used for gitfs. Must be</span></span><br><span class="line"><span class="comment"># either pygit2 or gitpython. If unset, then both will be tried (in that</span></span><br><span class="line"><span class="comment"># order), and the first one with a compatible version installed will be the</span></span><br><span class="line"><span class="comment"># provider that is used.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">gitfs_provider: pygit2</span><br><span class="line"></span><br><span class="line"><span class="comment"># Along with gitfs_password, is used to authenticate to HTTPS remotes.</span></span><br><span class="line">gitfs_user: <span class="string">'liu_p'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Along with gitfs_user, is used to authenticate to HTTPS remotes.</span></span><br><span class="line"><span class="comment"># This parameter is not required if the repository does not use authentication.</span></span><br><span class="line">gitfs_password: <span class="string">'liu_p123'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># By default, Salt will not authenticate to an HTTP (non-HTTPS) remote.</span></span><br><span class="line"><span class="comment"># This parameter enables authentication over HTTP. Enable this at your own risk.</span></span><br><span class="line">gitfs_insecure_auth: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># Along with gitfs_privkey (and optionally gitfs_passphrase), is used to</span></span><br><span class="line"><span class="comment"># authenticate to SSH remotes. This parameter (or its per-remote counterpart)</span></span><br><span class="line"><span class="comment"># is required for SSH remotes.</span></span><br><span class="line"><span class="comment">#gitfs_pubkey: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Along with gitfs_pubkey (and optionally gitfs_passphrase), is used to</span></span><br><span class="line"><span class="comment"># authenticate to SSH remotes. This parameter (or its per-remote counterpart)</span></span><br><span class="line"><span class="comment"># is required for SSH remotes.</span></span><br><span class="line"><span class="comment">#gitfs_privkey: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This parameter is optional, required only when the SSH key being used to</span></span><br><span class="line"><span class="comment"># authenticate is protected by a passphrase.</span></span><br><span class="line"><span class="comment">#gitfs_passphrase: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When using the git fileserver backend at least one git remote needs to be</span></span><br><span class="line"><span class="comment"># defined. The user running the salt master will need read access to the repo.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The repos will be searched in order to find the file requested by a client</span></span><br><span class="line"><span class="comment"># and the first repo to have the file will return it.</span></span><br><span class="line"><span class="comment"># When using the git backend branches and tags are translated into salt</span></span><br><span class="line"><span class="comment"># environments.</span></span><br><span class="line"><span class="comment"># Note: file:// repos will be treated as a remote, so refs you want used must</span></span><br><span class="line"><span class="comment"># exist in that repo as *local* refs.</span></span><br><span class="line">gitfs_remotes:</span><br><span class="line">   - http://gogs.jwops.cn/TEC-Ops/salt.repo.git</span><br><span class="line"><span class="comment">#  - git://github.com/saltstack/salt-states.git</span></span><br><span class="line"><span class="comment">#  - file:///var/git/saltmaster</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The gitfs_ssl_verify option specifies whether to ignore ssl certificate</span></span><br><span class="line"><span class="comment"># errors when contacting the gitfs backend. You might want to set this to</span></span><br><span class="line"><span class="comment"># false if you're using a git backend that uses a self-signed certificate but</span></span><br><span class="line"><span class="comment"># keep in mind that setting this flag to anything other than the default of True</span></span><br><span class="line"><span class="comment"># is a security concern, you may want to try using the ssh transport.</span></span><br><span class="line">gitfs_ssl_verify: True</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The gitfs_root option gives the ability to serve files from a subdirectory</span></span><br><span class="line"><span class="comment"># within the repository. The path is defined relative to the root of the</span></span><br><span class="line"><span class="comment"># repository and defaults to the repository root.</span></span><br><span class="line">gitfs_root: saltmaster</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The refspecs fetched by gitfs remotes</span></span><br><span class="line">gitfs_refspecs:</span><br><span class="line">  - <span class="string">'+refs/heads/*:refs/remotes/origin/*'</span></span><br><span class="line">  - <span class="string">'+refs/tags/*:refs/tags/*'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#####         Pillar settings        #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># Salt Pillars allow for the building of global data that can be made selectively</span></span><br><span class="line"><span class="comment"># available to different minions based on minion grain filtering. The Salt</span></span><br><span class="line"><span class="comment"># Pillar is laid out in the same fashion as the file server, with environments,</span></span><br><span class="line"><span class="comment"># a top file and sls files. However, pillar data does not need to be in the</span></span><br><span class="line"><span class="comment"># highstate format, and is generally just key/value pairs.</span></span><br><span class="line"><span class="comment">#pillar_roots:</span></span><br><span class="line"><span class="comment">#  base:</span></span><br><span class="line"><span class="comment">#    - /srv/pillar</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">pillar_roots:</span><br><span class="line">  base:</span><br><span class="line">    - /salt/pillar/base</span><br><span class="line">  dev:</span><br><span class="line">    - /salt/pillar/dev</span><br><span class="line">  prod:</span><br><span class="line">    - /salt/pillar/prod</span><br><span class="line"></span><br><span class="line"><span class="comment">#ext_pillar:</span></span><br><span class="line"><span class="comment">#  - hiera: /etc/hiera.yaml</span></span><br><span class="line"><span class="comment">#  - cmd_yaml: cat /etc/salt/yaml</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># A list of paths to be recursively decrypted during pillar compilation.</span></span><br><span class="line"><span class="comment"># Entries in this list can be formatted either as a simple string, or as a</span></span><br><span class="line"><span class="comment"># key/value pair, with the key being the pillar location, and the value being</span></span><br><span class="line"><span class="comment"># the renderer to use for pillar decryption. If the former is used, the</span></span><br><span class="line"><span class="comment"># renderer specified by decrypt_pillar_default will be used.</span></span><br><span class="line"><span class="comment">#decrypt_pillar:</span></span><br><span class="line"><span class="comment">#  - 'foo:bar': gpg</span></span><br><span class="line"><span class="comment">#  - 'lorem:ipsum:dolor'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The delimiter used to distinguish nested data structures in the</span></span><br><span class="line"><span class="comment"># decrypt_pillar option.</span></span><br><span class="line"><span class="comment">#decrypt_pillar_delimiter: ':'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The default renderer used for decryption, if one is not specified for a given</span></span><br><span class="line"><span class="comment"># pillar key in decrypt_pillar.</span></span><br><span class="line"><span class="comment">#decrypt_pillar_default: gpg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># List of renderers which are permitted to be used for pillar decryption.</span></span><br><span class="line"><span class="comment">#decrypt_pillar_renderers:</span></span><br><span class="line"><span class="comment">#  - gpg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The ext_pillar_first option allows for external pillar sources to populate</span></span><br><span class="line"><span class="comment"># before file system pillar. This allows for targeting file system pillar from</span></span><br><span class="line"><span class="comment"># ext_pillar.</span></span><br><span class="line"><span class="comment">#ext_pillar_first: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The external pillars permitted to be used on-demand using pillar.ext</span></span><br><span class="line"><span class="comment">#on_demand_ext_pillar:</span></span><br><span class="line"><span class="comment">#  - libvirt</span></span><br><span class="line"><span class="comment">#  - virtkey</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The pillar_gitfs_ssl_verify option specifies whether to ignore ssl certificate</span></span><br><span class="line"><span class="comment"># errors when contacting the pillar gitfs backend. You might want to set this to</span></span><br><span class="line"><span class="comment"># false if you're using a git backend that uses a self-signed certificate but</span></span><br><span class="line"><span class="comment"># keep in mind that setting this flag to anything other than the default of True</span></span><br><span class="line"><span class="comment"># is a security concern, you may want to try using the ssh transport.</span></span><br><span class="line"><span class="comment">#pillar_gitfs_ssl_verify: True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The pillar_opts option adds the master configuration file data to a dict in</span></span><br><span class="line"><span class="comment"># the pillar called "master". This is used to set simple configurations in the</span></span><br><span class="line"><span class="comment"># master config file that can then be used on minions.</span></span><br><span class="line"><span class="comment">#pillar_opts: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The pillar_safe_render_error option prevents the master from passing pillar</span></span><br><span class="line"><span class="comment"># render errors to the minion. This is set on by default because the error could</span></span><br><span class="line"><span class="comment"># contain templating data which would give that minion information it shouldn't</span></span><br><span class="line"><span class="comment"># have, like a password! When set true the error message will only show:</span></span><br><span class="line"><span class="comment">#   Rendering SLS 'my.sls' failed. Please see master log for details.</span></span><br><span class="line"><span class="comment">#pillar_safe_render_error: True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The pillar_source_merging_strategy option allows you to configure merging strategy</span></span><br><span class="line"><span class="comment"># between different sources. It accepts five values: none, recurse, aggregate, overwrite,</span></span><br><span class="line"><span class="comment"># or smart. None will not do any merging at all. Recurse will merge recursively mapping of data.</span></span><br><span class="line"><span class="comment"># Aggregate instructs aggregation of elements between sources that use the #!yamlex renderer. Overwrite</span></span><br><span class="line"><span class="comment"># will overwrite elements according the order in which they are processed. This is</span></span><br><span class="line"><span class="comment"># behavior of the 2014.1 branch and earlier. Smart guesses the best strategy based</span></span><br><span class="line"><span class="comment"># on the "renderer" setting and is the default value.</span></span><br><span class="line"><span class="comment">#pillar_source_merging_strategy: smart</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Recursively merge lists by aggregating them instead of replacing them.</span></span><br><span class="line"><span class="comment">#pillar_merge_lists: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set this option to True to force the pillarenv to be the same as the effective</span></span><br><span class="line"><span class="comment"># saltenv when running states. If pillarenv is specified this option will be</span></span><br><span class="line"><span class="comment"># ignored.</span></span><br><span class="line"><span class="comment">#pillarenv_from_saltenv: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set this option to 'True' to force a 'KeyError' to be raised whenever an</span></span><br><span class="line"><span class="comment"># attempt to retrieve a named value from pillar fails. When this option is set</span></span><br><span class="line"><span class="comment"># to 'False', the failed attempt returns an empty string. Default is 'False'.</span></span><br><span class="line"><span class="comment">#pillar_raise_on_missing: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Git External Pillar (git_pillar) Configuration Options</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Specify the provider to be used for git_pillar. Must be either pygit2 or</span></span><br><span class="line"><span class="comment"># gitpython. If unset, then both will be tried in that same order, and the</span></span><br><span class="line"><span class="comment"># first one with a compatible version installed will be the provider that</span></span><br><span class="line"><span class="comment"># is used.</span></span><br><span class="line">git_pillar_provider: pygit2</span><br><span class="line"></span><br><span class="line"><span class="comment"># If the desired branch matches this value, and the environment is omitted</span></span><br><span class="line"><span class="comment"># from the git_pillar configuration, then the environment for that git_pillar</span></span><br><span class="line"><span class="comment"># remote will be base.</span></span><br><span class="line"><span class="comment">#git_pillar_base: master</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If the branch is omitted from a git_pillar remote, then this branch will</span></span><br><span class="line"><span class="comment"># be used instead</span></span><br><span class="line"><span class="comment">#git_pillar_branch: master</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Environment to use for git_pillar remotes. This is normally derived from</span></span><br><span class="line"><span class="comment"># the branch/tag (or from a per-remote env parameter), but if set this will</span></span><br><span class="line"><span class="comment"># override the process of deriving the env from the branch/tag name.</span></span><br><span class="line"><span class="comment">#git_pillar_env: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Path relative to the root of the repository where the git_pillar top file</span></span><br><span class="line"><span class="comment"># and SLS files are located.</span></span><br><span class="line"><span class="comment">#git_pillar_root: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Specifies whether or not to ignore SSL certificate errors when contacting</span></span><br><span class="line"><span class="comment"># the remote repository.</span></span><br><span class="line"><span class="comment">#git_pillar_ssl_verify: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When set to False, if there is an update/checkout lock for a git_pillar</span></span><br><span class="line"><span class="comment"># remote and the pid written to it is not running on the master, the lock</span></span><br><span class="line"><span class="comment"># file will be automatically cleared and a new lock will be obtained.</span></span><br><span class="line"><span class="comment">#git_pillar_global_lock: True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Git External Pillar Authentication Options</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Along with git_pillar_password, is used to authenticate to HTTPS remotes.</span></span><br><span class="line"><span class="comment">#git_pillar_user: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Along with git_pillar_user, is used to authenticate to HTTPS remotes.</span></span><br><span class="line"><span class="comment"># This parameter is not required if the repository does not use authentication.</span></span><br><span class="line"><span class="comment">#git_pillar_password: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># By default, Salt will not authenticate to an HTTP (non-HTTPS) remote.</span></span><br><span class="line"><span class="comment"># This parameter enables authentication over HTTP.</span></span><br><span class="line"><span class="comment">#git_pillar_insecure_auth: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Along with git_pillar_privkey (and optionally git_pillar_passphrase),</span></span><br><span class="line"><span class="comment"># is used to authenticate to SSH remotes.</span></span><br><span class="line"><span class="comment">#git_pillar_pubkey: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Along with git_pillar_pubkey (and optionally git_pillar_passphrase),</span></span><br><span class="line"><span class="comment"># is used to authenticate to SSH remotes.</span></span><br><span class="line"><span class="comment">#git_pillar_privkey: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This parameter is optional, required only when the SSH key being used</span></span><br><span class="line"><span class="comment"># to authenticate is protected by a passphrase.</span></span><br><span class="line"><span class="comment">#git_pillar_passphrase: ''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The refspecs fetched by git_pillar remotes</span></span><br><span class="line"><span class="comment">#git_pillar_refspecs:</span></span><br><span class="line"><span class="comment">#  - '+refs/heads/*:refs/remotes/origin/*'</span></span><br><span class="line"><span class="comment">#  - '+refs/tags/*:refs/tags/*'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A master can cache pillars locally to bypass the expense of having to render them</span></span><br><span class="line"><span class="comment"># for each minion on every request. This feature should only be enabled in cases</span></span><br><span class="line"><span class="comment"># where pillar rendering time is known to be unsatisfactory and any attendant security</span></span><br><span class="line"><span class="comment"># concerns about storing pillars in a master cache have been addressed.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># When enabling this feature, be certain to read through the additional ``pillar_cache_*``</span></span><br><span class="line"><span class="comment"># configuration options to fully understand the tunable parameters and their implications.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Note: setting ``pillar_cache: True`` has no effect on targeting Minions with Pillars.</span></span><br><span class="line"><span class="comment"># See https://docs.saltstack.com/en/latest/topics/targeting/pillar.html</span></span><br><span class="line"><span class="comment">#pillar_cache: False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If and only if a master has set ``pillar_cache: True``, the cache TTL controls the amount</span></span><br><span class="line"><span class="comment"># of time, in seconds, before the cache is considered invalid by a master and a fresh</span></span><br><span class="line"><span class="comment"># pillar is recompiled and stored.</span></span><br><span class="line"><span class="comment">#pillar_cache_ttl: 3600</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If and only if a master has set `pillar_cache: True`, one of several storage providers</span></span><br><span class="line"><span class="comment"># can be utililzed.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># `disk`: The default storage backend. This caches rendered pillars to the master cache.</span></span><br><span class="line"><span class="comment">#         Rendered pillars are serialized and deserialized as msgpack structures for speed.</span></span><br><span class="line"><span class="comment">#         Note that pillars are stored UNENCRYPTED. Ensure that the master cache</span></span><br><span class="line"><span class="comment">#         has permissions set appropriately. (Same defaults are provided.)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># memory: [EXPERIMENTAL] An optional backend for pillar caches which uses a pure-Python</span></span><br><span class="line"><span class="comment">#         in-memory data structure for maximal performance. There are several caveats,</span></span><br><span class="line"><span class="comment">#         however. First, because each master worker contains its own in-memory cache,</span></span><br><span class="line"><span class="comment">#         there is no guarantee of cache consistency between minion requests. This</span></span><br><span class="line"><span class="comment">#         works best in situations where the pillar rarely if ever changes. Secondly,</span></span><br><span class="line"><span class="comment">#         and perhaps more importantly, this means that unencrypted pillars will</span></span><br><span class="line"><span class="comment">#         be accessible to any process which can examine the memory of the ``salt-master``!</span></span><br><span class="line"><span class="comment">#         This may represent a substantial security risk.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#pillar_cache_backend: disk</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####          Syndic settings       #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># The Salt syndic is used to pass commands through a master from a higher</span></span><br><span class="line"><span class="comment"># master. Using the syndic is simple. If this is a master that will have</span></span><br><span class="line"><span class="comment"># syndic servers(s) below it, then set the "order_masters" setting to True.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># If this is a master that will be running a syndic daemon for passthrough, then</span></span><br><span class="line"><span class="comment"># the "syndic_master" setting needs to be set to the location of the master server</span></span><br><span class="line"><span class="comment"># to receive commands from.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the order_masters setting to True if this master will command lower</span></span><br><span class="line"><span class="comment"># masters' syndic interfaces.</span></span><br><span class="line">order_masters: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># If this master will be running a salt syndic daemon, syndic_master tells</span></span><br><span class="line"><span class="comment"># this master where to receive commands from.</span></span><br><span class="line"><span class="comment">#syndic_master: masterofmasters</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This is the 'ret_port' of the MasterOfMaster:</span></span><br><span class="line"><span class="comment">#syndic_master_port: 4506</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># PID file of the syndic daemon:</span></span><br><span class="line"><span class="comment">#syndic_pidfile: /var/log/salt/salt-syndic.pid</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The log file of the salt-syndic daemon:</span></span><br><span class="line"><span class="comment">#syndic_log_file: /var/log/salt/syndic</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The behaviour of the multi-syndic when connection to a master of masters failed.</span></span><br><span class="line"><span class="comment"># Can specify ``random`` (default) or ``ordered``. If set to ``random``, masters</span></span><br><span class="line"><span class="comment"># will be iterated in random order. If ``ordered`` is specified, the configured</span></span><br><span class="line"><span class="comment"># order will be used.</span></span><br><span class="line"><span class="comment">#syndic_failover: random</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The number of seconds for the salt client to wait for additional syndics to</span></span><br><span class="line"><span class="comment"># check in with their lists of expected minions before giving up.</span></span><br><span class="line"><span class="comment">#syndic_wait: 5</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####      Peer Publish settings     #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># Salt minions can send commands to other minions, but only if the minion is</span></span><br><span class="line"><span class="comment"># allowed to. By default "Peer Publication" is disabled, and when enabled it</span></span><br><span class="line"><span class="comment"># is enabled for specific minions and specific commands. This allows secure</span></span><br><span class="line"><span class="comment"># compartmentalization of commands based on individual minions.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The configuration uses regular expressions to match minions and then a list</span></span><br><span class="line"><span class="comment"># of regular expressions to match functions. The following will allow the</span></span><br><span class="line"><span class="comment"># minion authenticated as foo.example.com to execute functions from the test</span></span><br><span class="line"><span class="comment"># and pkg modules.</span></span><br><span class="line"><span class="comment">#peer:</span></span><br><span class="line"><span class="comment">#  foo.example.com:</span></span><br><span class="line"><span class="comment">#    - test.*</span></span><br><span class="line"><span class="comment">#    - pkg.*</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This will allow all minions to execute all commands:</span></span><br><span class="line"><span class="comment">#peer:</span></span><br><span class="line"><span class="comment">#  .*:</span></span><br><span class="line"><span class="comment">#    - .*</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This is not recommended, since it would allow anyone who gets root on any</span></span><br><span class="line"><span class="comment"># single minion to instantly have root on all of the minions!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Minions can also be allowed to execute runners from the salt master.</span></span><br><span class="line"><span class="comment"># Since executing a runner from the minion could be considered a security risk,</span></span><br><span class="line"><span class="comment"># it needs to be enabled. This setting functions just like the peer setting</span></span><br><span class="line"><span class="comment"># except that it opens up runners instead of module functions.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># All peer runner support is turned off by default and must be enabled before</span></span><br><span class="line"><span class="comment"># using. This will enable all peer runners for all minions:</span></span><br><span class="line"><span class="comment">#peer_run:</span></span><br><span class="line"><span class="comment">#  .*:</span></span><br><span class="line"><span class="comment">#    - .*</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># To enable just the manage.up runner for the minion foo.example.com:</span></span><br><span class="line"><span class="comment">#peer_run:</span></span><br><span class="line"><span class="comment">#  foo.example.com:</span></span><br><span class="line"><span class="comment">#    - manage.up</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#####         Mine settings     #####</span></span><br><span class="line"><span class="comment">#####################################</span></span><br><span class="line"><span class="comment"># Restrict mine.get access from minions. By default any minion has a full access</span></span><br><span class="line"><span class="comment"># to get all mine data from master cache. In acl definion below, only pcre matches</span></span><br><span class="line"><span class="comment"># are allowed.</span></span><br><span class="line"><span class="comment"># mine_get:</span></span><br><span class="line"><span class="comment">#   .*:</span></span><br><span class="line"><span class="comment">#     - .*</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The example below enables minion foo.example.com to get 'network.interfaces' mine</span></span><br><span class="line"><span class="comment"># data only, minions web* to get all network.* and disk.* mine data and all other</span></span><br><span class="line"><span class="comment"># minions won't get any mine data.</span></span><br><span class="line"><span class="comment"># mine_get:</span></span><br><span class="line"><span class="comment">#   foo.example.com:</span></span><br><span class="line"><span class="comment">#     - network.interfaces</span></span><br><span class="line"><span class="comment">#   web.*:</span></span><br><span class="line"><span class="comment">#     - network.*</span></span><br><span class="line"><span class="comment">#     - disk.*</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####         Logging settings       #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># The location of the master log file</span></span><br><span class="line"><span class="comment"># The master log can be sent to a regular file, local path name, or network</span></span><br><span class="line"><span class="comment"># location. Remote logging works best when configured to use rsyslogd(8) (e.g.:</span></span><br><span class="line"><span class="comment"># ``file:///dev/log``), with rsyslogd(8) configured for network logging. The URI</span></span><br><span class="line"><span class="comment"># format is: &lt;file|udp|tcp&gt;://&lt;host|socketpath&gt;:&lt;port-if-required&gt;/&lt;log-facility&gt;</span></span><br><span class="line"><span class="comment">#log_file: /var/log/salt/master</span></span><br><span class="line"><span class="comment">#log_file: file:///dev/log</span></span><br><span class="line"><span class="comment">#log_file: udp://loghost:10514</span></span><br><span class="line"></span><br><span class="line">log_file: /var/<span class="built_in">log</span>/salt/master</span><br><span class="line">key_logfile: /var/<span class="built_in">log</span>/salt/key</span><br><span class="line"></span><br><span class="line"><span class="comment"># The level of messages to send to the console.</span></span><br><span class="line"><span class="comment"># One of 'garbage', 'trace', 'debug', info', 'warning', 'error', 'critical'.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The following log levels are considered INSECURE and may log sensitive data:</span></span><br><span class="line"><span class="comment"># ['garbage', 'trace', 'debug']</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">log_level: warning</span><br><span class="line"></span><br><span class="line"><span class="comment"># The level of messages to send to the log file.</span></span><br><span class="line"><span class="comment"># One of 'garbage', 'trace', 'debug', info', 'warning', 'error', 'critical'.</span></span><br><span class="line"><span class="comment"># If using 'log_granular_levels' this must be set to the highest desired level.</span></span><br><span class="line">log_level_logfile: warning</span><br><span class="line"></span><br><span class="line"><span class="comment"># The date and time format used in log messages. Allowed date/time formatting</span></span><br><span class="line"><span class="comment"># can be seen here: http://docs.python.org/library/time.html#time.strftime</span></span><br><span class="line">log_datefmt: <span class="string">'%H:%M:%S'</span></span><br><span class="line">log_datefmt_logfile: <span class="string">'%Y%m%d %H:%M:%S'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The format of the console logging messages. Allowed formatting options can</span></span><br><span class="line"><span class="comment"># be seen here: http://docs.python.org/library/logging.html#logrecord-attributes</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Console log colors are specified by these additional formatters:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># %(colorlevel)s</span></span><br><span class="line"><span class="comment"># %(colorname)s</span></span><br><span class="line"><span class="comment"># %(colorprocess)s</span></span><br><span class="line"><span class="comment"># %(colormsg)s</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Since it is desirable to include the surrounding brackets, '[' and ']', in</span></span><br><span class="line"><span class="comment"># the coloring of the messages, these color formatters also include padding as</span></span><br><span class="line"><span class="comment"># well.  Color LogRecord attributes are only available for console logging.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#log_fmt_console: '%(colorlevel)s %(colormsg)s'</span></span><br><span class="line">log_fmt_console: <span class="string">'[%(levelname)-8s] %(message)s'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">log_fmt_logfile: <span class="string">'%(asctime)s,%(msecs)03d [%(name)-17s][%(levelname)-8s] %(message)s'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This can be used to control logging levels more specificically.  This</span></span><br><span class="line"><span class="comment"># example sets the main salt library at the 'warning' level, but sets</span></span><br><span class="line"><span class="comment"># 'salt.modules' to log at the 'debug' level:</span></span><br><span class="line"><span class="comment">#   log_granular_levels:</span></span><br><span class="line"><span class="comment">#     'salt': 'warning'</span></span><br><span class="line"><span class="comment">#     'salt.modules': 'debug'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#log_granular_levels: &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####         Node Groups           ######</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># Node groups allow for logical groupings of minion nodes. A group consists of</span></span><br><span class="line"><span class="comment"># a group name and a compound target. Nodgroups can reference other nodegroups</span></span><br><span class="line"><span class="comment"># with 'N@' classifier. Ensure that you do not have circular references.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#nodegroups:</span></span><br><span class="line"><span class="comment">#  group1: 'L@foo.domain.com,bar.domain.com,baz.domain.com or bl*.domain.com'</span></span><br><span class="line"><span class="comment">#  group2: 'G@os:Debian and foo.domain.com'</span></span><br><span class="line"><span class="comment">#  group3: 'G@os:Debian and N@group1'</span></span><br><span class="line"><span class="comment">#  group4:</span></span><br><span class="line"><span class="comment">#    - 'G@foo:bar'</span></span><br><span class="line"><span class="comment">#    - 'or'</span></span><br><span class="line"><span class="comment">#    - 'G@foo:baz'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####     Range Cluster settings     #####</span></span><br><span class="line"><span class="comment">##########################################</span></span><br><span class="line"><span class="comment"># The range server (and optional port) that serves your cluster information</span></span><br><span class="line"><span class="comment"># https://github.com/ytoolshed/range/wiki/%22yamlfile%22-module-file-spec</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#range_server: range:80</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####  Windows Software Repo settings #####</span></span><br><span class="line"><span class="comment">###########################################</span></span><br><span class="line"><span class="comment"># Location of the repo on the master:</span></span><br><span class="line"><span class="comment">#winrepo_dir_ng: '/srv/salt/win/repo-ng'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># List of git repositories to include with the local repo:</span></span><br><span class="line"><span class="comment">#winrepo_remotes_ng:</span></span><br><span class="line"><span class="comment">#  - 'https://github.com/saltstack/salt-winrepo-ng.git'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#####  Windows Software Repo settings - Pre 2015.8 #####</span></span><br><span class="line"><span class="comment">########################################################</span></span><br><span class="line"><span class="comment"># Legacy repo settings for pre-2015.8 Windows minions.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Location of the repo on the master:</span></span><br><span class="line"><span class="comment">#winrepo_dir: '/srv/salt/win/repo'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Location of the master's repo cache file:</span></span><br><span class="line"><span class="comment">#winrepo_mastercachefile: '/srv/salt/win/repo/winrepo.p'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># List of git repositories to include with the local repo:</span></span><br><span class="line"><span class="comment">#winrepo_remotes:</span></span><br><span class="line"><span class="comment">#  - 'https://github.com/saltstack/salt-winrepo.git'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The refspecs fetched by winrepo remotes</span></span><br><span class="line"><span class="comment">#winrepo_refspecs:</span></span><br><span class="line"><span class="comment">#  - '+refs/heads/*:refs/remotes/origin/*'</span></span><br><span class="line"><span class="comment">#  - '+refs/tags/*:refs/tags/*'</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#####      Returner settings          ######</span></span><br><span class="line"><span class="comment">############################################</span></span><br><span class="line"><span class="comment"># Which returner(s) will be used for minion's result:</span></span><br><span class="line"><span class="comment">#return: mysql</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">######    Miscellaneous  settings     ######</span></span><br><span class="line"><span class="comment">############################################</span></span><br><span class="line"><span class="comment"># Default match type for filtering events tags: startswith, endswith, find, regex, fnmatch</span></span><br><span class="line">event_match_type: startswith</span><br><span class="line"></span><br><span class="line"><span class="comment"># Save runner returns to the job cache</span></span><br><span class="line">runner_returns: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># Permanently include any available Python 3rd party modules into thin and minimal Salt</span></span><br><span class="line"><span class="comment"># when they are generated for Salt-SSH or other purposes.</span></span><br><span class="line"><span class="comment"># The modules should be named by the names they are actually imported inside the Python.</span></span><br><span class="line"><span class="comment"># The value of the parameters can be either one module or a comma separated list of them.</span></span><br><span class="line"><span class="comment">#thin_extra_mods: foo,bar</span></span><br><span class="line"><span class="comment">#min_extra_mods: foo,bar,baz</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">######      Keepalive settings        ######</span></span><br><span class="line"><span class="comment">############################################</span></span><br><span class="line"><span class="comment"># Warning: Failure to set TCP keepalives on the salt-master can result in</span></span><br><span class="line"><span class="comment"># not detecting the loss of a minion when the connection is lost or when</span></span><br><span class="line"><span class="comment"># it's host has been terminated without first closing the socket.</span></span><br><span class="line"><span class="comment"># Salt's Presence System depends on this connection status to know if a minion</span></span><br><span class="line"><span class="comment"># is "present".</span></span><br><span class="line"><span class="comment"># ZeroMQ now includes support for configuring SO_KEEPALIVE if supported by</span></span><br><span class="line"><span class="comment"># the OS. If connections between the minion and the master pass through</span></span><br><span class="line"><span class="comment"># a state tracking device such as a firewall or VPN gateway, there is</span></span><br><span class="line"><span class="comment"># the risk that it could tear down the connection the master and minion</span></span><br><span class="line"><span class="comment"># without informing either party that their connection has been taken away.</span></span><br><span class="line"><span class="comment"># Enabling TCP Keepalives prevents this from happening.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Overall state of TCP Keepalives, enable (1 or True), disable (0 or False)</span></span><br><span class="line"><span class="comment"># or leave to the OS defaults (-1), on Linux, typically disabled. Default True, enabled.</span></span><br><span class="line">tcp_keepalive: True</span><br><span class="line"></span><br><span class="line"><span class="comment"># How long before the first keepalive should be sent in seconds. Default 300</span></span><br><span class="line"><span class="comment"># to send the first keepalive after 5 minutes, OS default (-1) is typically 7200 seconds</span></span><br><span class="line"><span class="comment"># on Linux see /proc/sys/net/ipv4/tcp_keepalive_time.</span></span><br><span class="line">tcp_keepalive_idle: 300</span><br><span class="line"></span><br><span class="line"><span class="comment"># How many lost probes are needed to consider the connection lost. Default -1</span></span><br><span class="line"><span class="comment"># to use OS defaults, typically 9 on Linux, see /proc/sys/net/ipv4/tcp_keepalive_probes.</span></span><br><span class="line">tcp_keepalive_cnt: -1</span><br><span class="line"></span><br><span class="line"><span class="comment"># How often, in seconds, to send keepalives after the first one. Default -1 to</span></span><br><span class="line"><span class="comment"># use OS defaults, typically 75 seconds on Linux, see</span></span><br><span class="line"><span class="comment"># /proc/sys/net/ipv4/tcp_keepalive_intvl.</span></span><br><span class="line">tcp_keepalive_intvl: -1</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/08/16/salt-master-conf/" data-id="cjazexzlz00agqcoqcbalqg3e" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-python-对象的属性" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/15/python-对象的属性/" class="article-date">
  <time datetime="2017-08-15T02:46:51.000Z" itemprop="datePublished">2017-08-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Python/">Python</a>►<a class="article-category-link" href="/categories/Python/Python-Learn/">Python Learn</a>►<a class="article-category-link" href="/categories/Python/Python-Learn/python-对象的属性/">python 对象的属性</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/15/python-对象的属性/">python 对象的属性</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="python-对象的属性"><a href="#python-对象的属性" class="headerlink" title="python 对象的属性"></a>python 对象的属性</h3><p>1<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">[root@dev <span class="built_in">test</span>]<span class="comment"># cat a.py       </span></span><br><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"></span><br><span class="line">class Bird(object):</span><br><span class="line">    feather = True</span><br><span class="line"></span><br><span class="line">class Chicken(Bird):</span><br><span class="line">    fly = False</span><br><span class="line">    def __init__(self,age):</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">chick = Chicken(2)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(Bird.__dict__)      <span class="comment">#查看类属性</span></span><br><span class="line"><span class="built_in">print</span>(Chicken.__dict__)   <span class="comment">#查看子类属性</span></span><br><span class="line"><span class="built_in">print</span>(chick.__dict__)     <span class="comment">#查看对象属性</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">'-------------------'</span>)</span><br><span class="line">chick.__dict__[<span class="string">'age'</span>] = 3</span><br><span class="line"><span class="built_in">print</span>(chick.__dict__[<span class="string">'age'</span>])</span><br><span class="line">chick.age = 10</span><br><span class="line"><span class="built_in">print</span>(chick.age)</span><br><span class="line"></span><br><span class="line">[root@dev <span class="built_in">test</span>]<span class="comment"># python a.py</span></span><br><span class="line">&#123;<span class="string">'__dict__'</span>: &lt;attribute <span class="string">'__dict__'</span> of <span class="string">'Bird'</span> objects&gt;, <span class="string">'__module__'</span>: <span class="string">'__main__'</span>, <span class="string">'__weakref__'</span>: &lt;attribute <span class="string">'__weakref__'</span> of <span class="string">'Bird'</span> objects&gt;, <span class="string">'feather'</span>: True, <span class="string">'__doc__'</span>: None&#125;</span><br><span class="line">&#123;<span class="string">'fly'</span>: False, <span class="string">'__module__'</span>: <span class="string">'__main__'</span>, <span class="string">'__doc__'</span>: None, <span class="string">'__init__'</span>: &lt;<span class="keyword">function</span> __init__ at 0x7f9bce427758&gt;&#125;</span><br><span class="line">&#123;<span class="string">'age'</span>: 2&#125;</span><br><span class="line">-------------------</span><br><span class="line">3</span><br><span class="line">10</span><br><span class="line"></span><br><span class="line"><span class="comment"># 特性,是特殊的属性,使用property声明,可以传入四个参数</span></span><br><span class="line">[root@dev <span class="built_in">test</span>]<span class="comment"># cat b.py</span></span><br><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line">class num(object):</span><br><span class="line">    def __init__(self,value):</span><br><span class="line">        self.value = value</span><br><span class="line">    def getNeg(self):</span><br><span class="line">        <span class="built_in">return</span> -self.value</span><br><span class="line">    def setNeg(self,value):</span><br><span class="line">        self.value = -value</span><br><span class="line">    def delNeg(self):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">'value also deleted'</span>)</span><br><span class="line">        del self.value</span><br><span class="line">    neg = property(getNeg,setNeg,delNeg,<span class="string">"I'm negative"</span>)</span><br><span class="line"></span><br><span class="line">x = num(1.1)</span><br><span class="line"><span class="built_in">print</span>(x.neg)</span><br><span class="line"></span><br><span class="line">x.neg = -22</span><br><span class="line"><span class="built_in">print</span>(x.value)</span><br><span class="line"><span class="built_in">print</span>(num.neg.__doc__)</span><br><span class="line">del x.neg</span><br><span class="line"></span><br><span class="line">[root@dev <span class="built_in">test</span>]<span class="comment"># python b.py</span></span><br><span class="line">-1.1</span><br><span class="line">22</span><br><span class="line">I<span class="string">'m negative</span></span><br><span class="line"><span class="string">value also deleted</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[root@dev test]# cat c.py</span></span><br><span class="line"><span class="string">#!/usr/bin/env python</span></span><br><span class="line"><span class="string">class bird(object):</span></span><br><span class="line"><span class="string">    feather = True</span></span><br><span class="line"><span class="string">class chicken(bird):</span></span><br><span class="line"><span class="string">    fly = False</span></span><br><span class="line"><span class="string">    def __init__(self,age):</span></span><br><span class="line"><span class="string">        self.age = age</span></span><br><span class="line"><span class="string">    def __getattr__(self,name):</span></span><br><span class="line"><span class="string">        if name == '</span>adult<span class="string">':</span></span><br><span class="line"><span class="string">            if self.age &gt; 1.0:</span></span><br><span class="line"><span class="string">                return True</span></span><br><span class="line"><span class="string">            else:</span></span><br><span class="line"><span class="string">                return False</span></span><br><span class="line"><span class="string">        else:</span></span><br><span class="line"><span class="string">            raise AttributeError(name)</span></span><br><span class="line"><span class="string">summer = chicken(2)</span></span><br><span class="line"><span class="string">print(summer.adult)</span></span><br><span class="line"><span class="string">summer.age = 0.5</span></span><br><span class="line"><span class="string">print(summer.adult)</span></span><br><span class="line"><span class="string">print(summer.male)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[root@dev test]# python c.py</span></span><br><span class="line"><span class="string">True</span></span><br><span class="line"><span class="string">False</span></span><br><span class="line"><span class="string">Traceback (most recent call last):</span></span><br><span class="line"><span class="string">  File "c.py", line 29, in &lt;module&gt;</span></span><br><span class="line"><span class="string">    print(summer.male)</span></span><br><span class="line"><span class="string">  File "c.py", line 19, in __getattr__</span></span><br><span class="line"><span class="string">    raise AttributeError(name)</span></span><br><span class="line"><span class="string">AttributeError: male</span></span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/08/15/python-对象的属性/" data-id="cjazexzk8008vqcoqgdtzzt96" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-python-特殊方法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/15/python-特殊方法/" class="article-date">
  <time datetime="2017-08-15T02:00:22.000Z" itemprop="datePublished">2017-08-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Python/">Python</a>►<a class="article-category-link" href="/categories/Python/Python-Learn/">Python Learn</a>►<a class="article-category-link" href="/categories/Python/Python-Learn/python-特殊方法/">python 特殊方法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/15/python-特殊方法/">python 特殊方法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="python-特殊方法"><a href="#python-特殊方法" class="headerlink" title="python 特殊方法"></a>python 特殊方法</h3><ol>
<li><p>简介</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* python 中一切皆对象</span><br><span class="line">* 特殊方法:</span><br><span class="line">  1.以双下划线开头,并以双下划线结尾</span><br><span class="line">  2.__方法名__,例如: __init__</span><br><span class="line">  3.可以通过dir()查看</span><br></pre></td></tr></table></figure>
</li>
<li><p>实例操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">//查看特殊方法</span><br><span class="line">&gt;&gt;&gt; dir(list)</span><br><span class="line">[&apos;__add__&apos;, &apos;__class__&apos;, &apos;__contains__&apos;, &apos;__delattr__&apos;, &apos;__delitem__&apos;, &apos;__delslice__&apos;, &apos;__doc__&apos;, &apos;__eq__&apos;, &apos;__format__&apos;, &apos;__ge__&apos;, &apos;__getattribute__&apos;, &apos;__getitem__&apos;, &apos;__getslice__&apos;, &apos;__gt__&apos;, &apos;__hash__&apos;, &apos;__iadd__&apos;, &apos;__imul__&apos;, &apos;__init__&apos;, &apos;__iter__&apos;, &apos;__le__&apos;, &apos;__len__&apos;, &apos;__lt__&apos;, &apos;__mul__&apos;, &apos;__ne__&apos;, &apos;__new__&apos;, &apos;__reduce__&apos;, &apos;__reduce_ex__&apos;, &apos;__repr__&apos;, &apos;__reversed__&apos;, &apos;__rmul__&apos;, &apos;__setattr__&apos;, &apos;__setitem__&apos;, &apos;__setslice__&apos;, &apos;__sizeof__&apos;, &apos;__str__&apos;, &apos;__subclasshook__&apos;, &apos;append&apos;, &apos;count&apos;, &apos;extend&apos;, &apos;index&apos;, &apos;insert&apos;, &apos;pop&apos;, &apos;remove&apos;, &apos;reverse&apos;, &apos;sort&apos;]</span><br><span class="line"></span><br><span class="line">//运算符(对象.特殊方法)</span><br><span class="line">&gt;&gt;&gt; &apos;nihao&apos; + &apos;beijing&apos;</span><br><span class="line">&apos;nihaobeijing&apos;</span><br><span class="line">&gt;&gt;&gt; &apos;nihao&apos;.__add__(&apos;beijing&apos;)</span><br><span class="line">&apos;nihaobeijing&apos;</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; 1.1 * 8</span><br><span class="line">8.8</span><br><span class="line">&gt;&gt;&gt; 1.1.__mul__(8)</span><br><span class="line">8.8</span><br><span class="line"></span><br><span class="line">//列表(对象.特殊方法)</span><br><span class="line">&gt;&gt;&gt; a = [1,2,3,4]</span><br><span class="line">&gt;&gt;&gt; len(a)</span><br><span class="line">4</span><br><span class="line">&gt;&gt;&gt; a.__len__()</span><br><span class="line">4</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; a[3]</span><br><span class="line">4</span><br><span class="line">&gt;&gt;&gt; a.__getitem__(3)</span><br><span class="line">4</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; a[0] = 9</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">[9, 2, 3, 4]</span><br><span class="line">&gt;&gt;&gt; a.__setitem__(0,10)</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">[10, 2, 3, 4]</span><br><span class="line"></span><br><span class="line">//函数</span><br><span class="line">&gt;&gt;&gt; class A(object):         </span><br><span class="line">...     def __call__(self,a):</span><br><span class="line">...         return a + 10</span><br><span class="line">...</span><br><span class="line">&gt;&gt;&gt; b = A()</span><br><span class="line">&gt;&gt;&gt; print(b(1))</span><br><span class="line">11</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; map(b,[1,2,3,4,5])</span><br><span class="line">[11, 12, 13, 14, 15]</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/08/15/python-特殊方法/" data-id="cjazexzk80093qcoq1x5m7y0g" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/5/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/29/">29</a><a class="extend next" rel="next" href="/page/7/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AliCloud/">AliCloud</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/AliCloud/SDK/">SDK</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/AliCloud/SDK/Python-SDK/">Python SDK</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Android-install/">Android install</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Android-install/Android-studio-install/">Android studio install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/">Development</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/">Doc</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/HTTP-严格传输安全HSTS/">HTTP 严格传输安全HSTS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/HTTP协议/">HTTP协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/TCP-协议详解/">TCP 协议详解</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/TCP与socket区别/">TCP与socket区别</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/linux-文件描述符与打开文件之间的关系/">linux 文件描述符与打开文件之间的关系</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/linux-文件系统inode/">linux 文件系统inode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/一次完整的HTTP请求/">一次完整的HTTP请求</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Disk/">Disk</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Disk/disk-io-performance/">disk io performance</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Disk/disk-iostat/">disk iostat</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/">Distributed storage</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/">GlusterFS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-architecture/">GlusterFS architecture</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-info/">GlusterFS info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-install/">GlusterFS install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-workflow/">GlusterFS workflow</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Domain/">Domain</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Domain/nslookup-dns-search/">nslookup dns search</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HA/">HA</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HA/DRBD/">DRBD</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HA/DRBD/DRBD-install/">DRBD install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HA/keepalived/">keepalived</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HA/keepalived/keepalived-install/">keepalived install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/">IDE</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/Intellij/">Intellij</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/Intellij/Intellij-setting/">Intellij setting</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/vim/">vim</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/vim/vim-shortcut-key/">vim shortcut key</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/vim/vim-vimrc/">vim vimrc</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel/">Kernel</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel/kernel-memory/">kernel memory</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel/kernel-memory/kernel-共享内存/">kernel 共享内存</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/">Monitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/ganglia/">ganglia</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/ganglia/ganglia-install/">ganglia install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/hmonitor/">hmonitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/hmonitor/hmonitor-install/">hmonitor install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/htmonitor/">htmonitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/htmonitor/htmonitor-install/">htmonitor install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/smokeping/">smokeping</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/smokeping/smokeping-install/">smokeping install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/">zabbix</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/monitor/">monitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/monitor/zabbix-monitor-cpu/">zabbix monitor cpu</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/monitor/zabbix-monitor-mem/">zabbix monitor mem</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-auto-discover/">zabbix auto discover</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-grafana-install/">zabbix grafana install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-install/">zabbix install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-install-distributed/">zabbix install distributed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-item-and-tigger/">zabbix item and tigger</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-java-gateway/">zabbix java gateway</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-modify-login-user-passwd/">zabbix modify login user passwd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-optimization/">zabbix optimization</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-proxy-install/">zabbix proxy install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-server-support-chinese/">zabbix server support chinese</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-windows-agent/">zabbix windows agent</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/树莓派/">树莓派</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/树莓派/树莓派-GSM-语音短信报警/">树莓派 GSM 语音短信报警</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/监控/">监控</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/监控/监控知识体系/">监控知识体系</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/">Python Framework</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/Python-Django/">Python Django</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/Python-Django-setting/">Python Django setting</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/Python-tornado-install/">Python tornado install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/">Python Learn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-上下文管理器/">python 上下文管理器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-内存管理/">python 内存管理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-函数编程/">python 函数编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-变量/">python 变量</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-对象使用/">python 对象使用</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-对象的属性/">python 对象的属性</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-对象编程/">python 对象编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-数据类型/">python 数据类型</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-流程控制/">python 流程控制</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-爬虫/">python 爬虫</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-特殊方法/">python 特殊方法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-特殊说明/">python 特殊说明</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-装饰器/">python 装饰器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-过程编程/">python 过程编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-进阶/">python 进阶</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-闭包/">python 闭包</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/">Python install</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-error-info/">python error info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-pip-source-image/">python pip source image</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-pip-use/">python pip use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-pyenv-install/">python pyenv install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-setup-py/">python setup.py</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-source-install/">python source install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-virtualenv/">python virtualenv</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/">Python library</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/MySQLdb/">MySQLdb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/memory-profiler/">memory_profiler</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/time-datetime-calendar/">time datetime calendar</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-modules/">Python modules</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-modules/python-modules-path/">python modules path</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-modules/python-modules-pylint-and-ipython/">python modules pylint and ipython</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-other/">Python other</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-other/python-import-and-reload/">python import and reload</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/">Ruby</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/Ruby-install/">Ruby install</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/Ruby-install/Ruby-install/">Ruby install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/">TCP.IP</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/TCP-状态/">TCP 状态</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/TCP-IP模型/">TCP/IP模型</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/Wireshark-use/">Wireshark use</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/WeChat/">WeChat</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/WeChat/WeChat-enterprise/">WeChat enterprise</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/WeChat/WeChat-enterprise/WeChat-enterprise-API/">WeChat enterprise API</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/">automation</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/">git</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-command/">git command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-error/">git error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gitlab/">git gitlab</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gitolite/">git gitolite</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gogs/">git gogs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gogs-source-install/">git gogs source install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-init/">git init</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-workflow/">git workflow</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/jenkins/">jenkins</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/jenkins/jenkins-info/">jenkins info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/jenkins/jenkins-install/">jenkins install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/kvm/">kvm</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/kvm/kvm-install/">kvm install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/maven/">maven</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/maven/maven-install/">maven install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/nexus/">nexus</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/nexus/nexus-install/">nexus install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/nexus/nexus-proxy-maven/">nexus proxy maven</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/rpm/">rpm</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/rpm/rpm-package-build/">rpm package build</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/rpm/rpmbuild-spec/">rpmbuild spec</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/">salt</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-advanced-topic/">salt advanced topic</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-highstate/">salt highstate</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-info/">salt info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install/">salt install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install-HA/">salt install HA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install-distributed/">salt install distributed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install-standard/">salt install standard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-jinja2-grain-pillar-module/">salt jinja2 grain pillar module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-event-reactor/">salt manage event reactor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-grains/">salt manage grains</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-job/">salt manage job</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-module/">salt manage module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-pillar/">salt manage pillar</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-return/">salt manage return</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-states/">salt manage states</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-target/">salt manage target</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-master-syndic-install/">salt master syndic install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-master-conf/">salt master.conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-minion-conf/">salt minion.conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-raet/">salt raet</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-state-module/">salt state module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-syndic-conf/">salt syndic.conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-write-module-code/">salt write module code</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/svn/">svn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/svn/svn-auto-update/">svn auto update</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/svn/svn-checkout-bat/">svn checkout bat</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/svn/svn-server-for-windows/">svn server for windows</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/yum/">yum</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/yum/yum-server-install/">yum server install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/">database</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/">Mongo</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-auth/">mongo auth</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-error/">mongo error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-replication-auth-install/">mongo replication auth install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-replication-standard-install/">mongo replication standard install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-standard-install/">mongo standard install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/">Mysql</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-command/">mysql command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-error-info/">mysql error info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-explain/">mysql explain</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-grant/">mysql grant</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-index-options/">mysql index options</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-innodb-buffer-pool-flush/">mysql innodb buffer pool flush</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-master-slave/">mysql master slave</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-master-slave-switch/">mysql master slave switch</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-partition/">mysql partition</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-select-join/">mysql select join</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-slow-log/">mysql slow log</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-standard/">mysql standard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-table-size/">mysql table size</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-use-memory-as-disk/">mysql use memory as disk</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/">Postgresql</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-book-use/">postgresql book use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-master-slave-info/">postgresql master slave info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-master-slave/">postgresql master/slave</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-plugin-install/">postgresql plugin install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-standard/">postgresql standard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-tablespace-database-schema-table-user-role-relation/">postgresql tablespace database schema table user role relation</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-yum-install/">postgresql yum install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-常用命令/">postgresql 常用命令</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-数据库对象/">postgresql 数据库对象</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-数据库管理/">postgresql 数据库管理</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/">Redis</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-error/">redis error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-install/">redis install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-redis-trib-rb/">redis redis-trib.rb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-status/">redis status</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-use/">redis use</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/influxDB/">influxDB</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/influxDB/influxDB-install/">influxDB install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/golang/">golang</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/golang/go-env/">go env</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/">hadoop</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/">RabbitMQ</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-cluster/">RabbitMQ cluster</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-high-availability/">RabbitMQ high availability</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-info/">RabbitMQ info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-install/">RabbitMQ install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-python-pika/">RabbitMQ python pika</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-user-and-grant/">RabbitMQ user and grant</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-working-principle/">RabbitMQ working principle</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/beats/">beats</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/beats/beats-install/">beats install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/">datax</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/datax-info/">datax info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/datax-install/">datax install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/datax-job/">datax job</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/">elasticsearch</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-backup-and-restore/">elasticsearch backup and restore</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-command/">elasticsearch command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-core-component/">elasticsearch core component</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-exploring-your-cluster/">elasticsearch exploring your cluster</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-exploring-your-data/">elasticsearch exploring your data</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-four-search-type/">elasticsearch four search type</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-full-cluster-restart-upgrade/">elasticsearch full cluster restart upgrade</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-install/">elasticsearch install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-modifying-your-data/">elasticsearch modifying your data</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-rolling-upgrades/">elasticsearch rolling upgrades</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-safe-restart/">elasticsearch safe restart</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-shard/">elasticsearch shard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/how-to-tune-for-indexing-speed/">how to tune for indexing speed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/how-to-tune-for-search-speed/">how to tune for search speed</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/flume/">flume</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/flume/flume-info/">flume info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/flume/flume-install/">flume install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/grafana/">grafana</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/grafana/grafana-install/">grafana install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/hadoop/">hadoop</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/hadoop/hadoop-简介/">hadoop 简介</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/">kafka</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-add-topic-partition/">kafka add topic partition</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-add-topic-replicats/">kafka add topic replicats</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-broker-config/">kafka broker config</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-high-throughput/">kafka high throughput</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-info/">kafka info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-install/">kafka install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-manage-web/">kafka manage web</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-migrate-and-scale/">kafka migrate and scale</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-offset-monitor/">kafka offset monitor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-optimize/">kafka optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-use/">kafka use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-web-console/">kafka web console</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-with-zookeeper/">kafka with zookeeper</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kibana/">kibana</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kibana/kibana-install/">kibana install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/">logstash</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-config-file/">logstash config file</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-filter-grok/">logstash filter grok</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-info/">logstash info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-install/">logstash install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mycat/">mycat</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mycat/mycat-jvm-optimize/">mycat jvm optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mycat/mycat-web-install/">mycat web install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/">nsq</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/nsq-command/">nsq command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/nsq-info/">nsq info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/nsq-install/">nsq install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/">zookeeper</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-install/">zookeeper install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-monitor/">zookeeper monitor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-optimize/">zookeeper optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-use/">zookeeper use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-zab-protocol/">zookeeper zab protocol</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-env/">java env</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-jvm-optimize/">java jvm optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-jvm-opts/">java jvm opts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-jvm-原理/">java jvm 原理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-learn/">java learn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-learn/java-学习笔记/">java 学习笔记</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-log4j/">java log4j</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-performance-analysis/">java performance analysis</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-performance-analysis/jps/">jps</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/">k8s</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/k8s-dashboard-install/">k8s dashboard install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/k8s-install/">k8s install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/k8s-registry-install/">k8s registry install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/node/">node</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/node/node-install/">node install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/other/ACID/">ACID</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/分布式二阶段和三阶段提交协议/">分布式二阶段和三阶段提交协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/开源许可协议/">开源许可协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/网络带宽/">网络带宽</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/">system service</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/">Atlassian</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-https/">confluence https</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-install/">confluence install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-reset-passwd/">confluence reset passwd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-update/">confluence update</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/jira-https/">jira https</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/jira-install/">jira install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/jira-update/">jira update</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/mariadb-install/">mariadb install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/">CentOS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/Base-env/">Base env</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-common-use-scripts/">linux common use scripts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-history-info-setting/">linux history info setting</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-login-info/">linux login info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-nginx-install/">linux nginx install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-skill/">linux skill</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-system-init/">linux system init</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-内存插槽-内存信息/">linux 内存插槽 内存信息</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-扩容swap分区/">linux 扩容swap分区</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-物理CPU-CPU核数-逻辑CPU/">linux 物理CPU CPU核数 逻辑CPU</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-磁盘系统block区别/">linux 磁盘系统block区别</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-设置-包含头文件路径-和-动态库链接路径/">linux 设置 包含头文件路径 和 动态库链接路径</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/make提高源码编译速度/">make提高源码编译速度</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/NFS/">NFS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/NFS/nfs-exports-command/">nfs exports command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/NFS/nfs-install/">nfs install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Samba/">Samba</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Samba/samba-conf/">samba conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Samba/samba-install/">samba install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/">command</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/grep/">grep</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/pigz/">pigz</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/sed/">sed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/split/">split</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/tr/">tr</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/haproxy/">haproxy</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/haproxy/haproxy-install/">haproxy install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/">nginx</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-install/">nginx install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-location/">nginx location</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-rewrite/">nginx rewrite</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-status/">nginx status</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/ntpd/">ntpd</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/ntpd/ntpd-install/">ntpd install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openssl/">openssl</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openssl/openssl-certificate/">openssl certificate</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openvpn/">openvpn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openvpn/openvpn-install/">openvpn install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/rsync/">rsync</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/rsync/rsync-install/">rsync install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/supersord/">supersord</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/supersord/supersord-install/">supersord install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/">vsftpd</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/ftp-proxy/">ftp proxy</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/vsftpd-error/">vsftpd error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/vsftpd-info/">vsftpd info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/vsftpd-install/">vsftpd install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/">windows</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/cygwin-install/">cygwin install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/ipsec-set/">ipsec set</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/windows-modify-hosts/">windows modify hosts</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/SSL/">SSL</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/SSL/SSL-certificate/">SSL certificate</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/angular/">angular</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/angular/angular-install/">angular install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/hexo/">hexo</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/hexo/hexo-install/">hexo install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/sass/">sass</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/sass/sass-install/">sass install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/xml/">xml</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/xml/xml-format/">xml format</a></li></ul></li></ul></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/01/01/hello-everyone/">Hello Everyone</a>
          </li>
        
          <li>
            <a href="/2017/12/08/svn-checkout-bat/">svn checkout bat</a>
          </li>
        
          <li>
            <a href="/2017/12/08/svn-server-for-windows/">svn server for windows</a>
          </li>
        
          <li>
            <a href="/2017/12/08/nslookup-dns-search/">nslookup dns search</a>
          </li>
        
          <li>
            <a href="/2017/11/28/kafka-web-console/">kafka web console</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 penn<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>