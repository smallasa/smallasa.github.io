<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>smallasa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="smallasa">
<meta property="og:url" content="http://www.smallasa.com/page/20/index.html">
<meta property="og:site_name" content="smallasa">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="smallasa">
  
    <link rel="alternate" href="/atom.xml" title="smallasa" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">smallasa</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">I known what i do !</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.smallasa.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-ganglia-install" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/20/ganglia-install/" class="article-date">
  <time datetime="2017-03-20T03:25:49.000Z" itemprop="datePublished">2017-03-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Monitor/">Monitor</a>►<a class="article-category-link" href="/categories/Monitor/ganglia/">ganglia</a>►<a class="article-category-link" href="/categories/Monitor/ganglia/ganglia-install/">ganglia install</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/20/ganglia-install/">ganglia install</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="ganglia-master-install"><a href="#ganglia-master-install" class="headerlink" title="ganglia master install"></a>ganglia master install</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install ganglia ganglia-web ganglia-gmond ganglia-gmetad ganglia-devel ganglia-gmond-python pcp-import-ganglia2pcp nordugrid-arc-gangliarc libnodeupdown-backend-ganglia</span><br></pre></td></tr></table></figure>
<h3 id="ganglia-node-install"><a href="#ganglia-node-install" class="headerlink" title="ganglia node install"></a>ganglia node install</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install ganglia-gmond</span><br></pre></td></tr></table></figure>
<h3 id="ganglia-简介"><a href="#ganglia-简介" class="headerlink" title="ganglia 简介"></a>ganglia 简介</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">与Cacti、Nagios、Zabbix等工具相比，Ganglia更关注整个集群的性能和可用性。可以用于集群的性能监控、分析和优化。</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">1.Gmetad程序:</span><br><span class="line">Gmetad程序可以部署在集群内的任一个节点或者通过网络连接到集群的独立主机,它通过单播路由的方式与gmond通信负责周期性的到各个集群的数据源(datasource)节点去pool各个集群的数据,并更新到rrd数据库中.</span><br><span class="line">一个数据源节点就是是一个gmond节点;一个gmetad节点可以设置多个数据源节点,每个数据源节点可以有多个备份,一个数据源节点失败了还可以从其他节点取数据.可以把Gmetad理解为服务器.</span><br><span class="line">Gmetad只有TCP通道,一方面它向datasource发送请求,获取数据源节点的XML文件,另一方面会使用一个8651的默认TCP端口发布自身收集的XML文件,因此,Gmetad即可以从Gmond也可以从其他Gmetad节点获取XML数据</span><br><span class="line"></span><br><span class="line">2.Gmond程序:</span><br><span class="line">Gmond收集本机的监控数据,然后发送到集群内的其他机器上,并获取其他机器上的监控数据,Gmond之间通过udp通信,传递文件格式为XDL</span><br><span class="line">Gmond收集到的数据供Gmetad读取,Gmond通过默认端口8649监听到Gmetad请求后将XML格式数据发送给Gmetad.可以将Gmond理解为客户端.</span><br><span class="line">Gmond收集数据有muticast和unicast两种.Gmond本身具有UDP的发送(send)和接受(recv)通道以及TCP的接收(recv)通道.</span><br><span class="line">其中UDP通道用于向其他Gmond节点发送或接收数据,TCP通道主要接受来自Gmetad的请求,向Gmetad发送XML文件.</span><br><span class="line">在muticast模式下,Gmond节点之间通过UDP向多播目标相互传递数据.</span><br><span class="line"></span><br><span class="line">Gmond节点模块结构主要有三个模块组成：</span><br><span class="line">1.collect and publish模块</span><br><span class="line">  该模块周期性的调用一些内部命令获得metric data,然后将这些数据通过UDP通道发布给其他Gmond节点</span><br><span class="line">2.Listen Threads模块</span><br><span class="line">  监听其他Gmond节点发送的UDP数据,并将这些数据存放在内存中</span><br><span class="line">3.XML Export Threads模块</span><br><span class="line">  负责将数据以XML格式发布出去,比如交给Gmetad</span><br><span class="line"></span><br><span class="line">在unicast模式下,多个Gmond节点通过UDP向单播的目标主机host的Gmond发送数据,Gmetad然后向目标主机的Gmond请求XML文件</span><br><span class="line">在Unicast模式下,Gmond、Gmetad、rrd数据库以及web前端通常位于集群内的同一个节点上,该节点负责收集、存储、显示被监控的各节点的状态信息.</span><br><span class="line">Web前端通常和Gmetad安装在同一个节点上,它从Gmetad中取数据,并且读取rrd数据库,生成图片显示出来.</span><br></pre></td></tr></table></figure>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">在动手部署Ganglia之前,首先要对监控体系进行初步的规划.主要考虑两方面的问题:</span><br><span class="line">1.单集群 or 多集群</span><br><span class="line">  如果节点较少,使用单集群配置起来更容易;如果节点很多,使用多集群可以避免广播风暴</span><br><span class="line">  但是需要为每个集群配置不同的组播通道(通过端口区分),同时要配置gmetad同时监听这多个通道</span><br><span class="line"></span><br><span class="line">2.组播模式 or 单播模式</span><br><span class="line">  组播模式是ganglia的默认模式,同一集群的多个gmond之间互相交换数据,gmetad中可以指定集群中的任意一个或多个节点作为&quot;data_source&quot;；</span><br><span class="line">  组播模式可能会带来网络的&quot;抖动(Jitter)&quot;据说设置节点的时钟同步可以避免抖动的问题;但如果网络环境不支持组播()比如Amazon’s AWS EC2)就需要使用单播模式</span><br><span class="line">  单播模式时,将大部分节点的gmond.conf中,global的deaf设置改为&quot;yes&quot;，则这些节点只发生数据,不接收其他节点的数据,同样也不能作为gmetad中的&quot;data_source&quot;。</span><br><span class="line">  单播模式中还需要设置&quot;send_metadata_interval&quot;,比如30秒,以强制发送元数据.</span><br><span class="line">ganglia将一个gmetad覆盖的所有集群/节点称为一个grid.可以在/etc/ganglia/gmetad.conf中通过gridname指定其名称.多个grid的数据也可以聚合到一个上级gmetad中.</span><br></pre></td></tr></table></figure>
<hr>
<ol>
<li><p>ganglia 安装前选择</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">选择多集群,单播模式:</span><br><span class="line">server端: ganglia-web gmetad gmond</span><br><span class="line">client端: gmond</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装基础软件包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@10 ~]<span class="comment"># yum makecache</span></span><br><span class="line">[root@10 ~]<span class="comment"># yum -y install curl wget vim lrzsz net-tools dstat</span></span><br><span class="line">[root@10 ~]<span class="comment"># yum -y install libart_lgpl-devel gcc gcc-c++ python-devel libconfuse-devel expat-devel apr-devel pcre-devel rpm-build libconfuse libconfuse-devel rrdtool-perl rrdtool-devel</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ganglia master install</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@10 srv]<span class="comment"># yum -y install ganglia ganglia-web ganglia-gmond-python ganglia-gmond ganglia-gmetad ganglia-devel</span></span><br><span class="line"></span><br><span class="line">[root@10 ~]<span class="comment"># mkdir -p /mnt/data</span></span><br><span class="line">[root@10 ~]<span class="comment"># cp -r /var/lib/ganglia /mnt/data/ganglia</span></span><br><span class="line">[root@10 ~]<span class="comment"># chown -R apache.apache /mnt/data/ganglia/conf</span></span><br><span class="line">[root@10 ~]<span class="comment"># chown -R apache.apache /mnt/data/ganglia/dwoo</span></span><br><span class="line">[root@10 ~]<span class="comment"># chown -R ganglia.ganglia /mnt/data/ganglia/rrds</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>修改配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@10 ~]<span class="comment"># vim /etc/ganglia/gmetad.conf</span></span><br><span class="line">data_source <span class="string">"ssp"</span> 10.0.2.15</span><br><span class="line">gridname <span class="string">"ssp"</span></span><br><span class="line">setuid_username ganglia</span><br><span class="line">xml_port 8651</span><br><span class="line">interactive_port 8652</span><br><span class="line">rrd_rootdir <span class="string">"/mnt/data/ganglia/rrds"</span></span><br><span class="line">case_sensitive_hostnames 0</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">[root@10 ~]# vim /etc/ganglia/gmond.conf</span><br><span class="line">globals &#123;</span><br><span class="line">  daemonize = yes</span><br><span class="line">  setuid = yes</span><br><span class="line">  user = ganglia</span><br><span class="line">  debug_level = 0</span><br><span class="line">  max_udp_msg_len = 1472</span><br><span class="line">  mute = no</span><br><span class="line">  deaf = yes</span><br><span class="line">  allow_extra_data = yes</span><br><span class="line">  host_dmax = 86400 /*secs. Expires (removes from web interface) hosts in 1 day */</span><br><span class="line">  host_tmax = 20 /*secs */</span><br><span class="line">  cleanup_threshold = 300 /*secs */</span><br><span class="line">  gexec = no</span><br><span class="line">  # By default gmond will use reverse DNS resolution when displaying your hostname</span><br><span class="line">  # Uncommeting following value will override that value.</span><br><span class="line">  # override_hostname = &quot;mywebserver.domain.com&quot;</span><br><span class="line">  # If you are not using multicast this value should be set to something other than 0.</span><br><span class="line">  # Otherwise if you restart aggregator gmond you will get empty graphs. 60 seconds is reasonable</span><br><span class="line">  send_metadata_interval = 30 /*secs */</span><br><span class="line">&#125;</span><br><span class="line">cluster &#123;</span><br><span class="line">  name = &quot;ssp&quot;</span><br><span class="line">  owner = &quot;ssp&quot;</span><br><span class="line">  latlong = &quot;unspecified&quot;</span><br><span class="line">  url = &quot;unspecified&quot;</span><br><span class="line">&#125;</span><br><span class="line">host &#123;</span><br><span class="line">  location = &quot;unspecified&quot;</span><br><span class="line">&#125;</span><br><span class="line">udp_send_channel &#123;</span><br><span class="line">  #bind_hostname = yes # Highly recommended, soon to be default.</span><br><span class="line">                       # This option tells gmond to use a source address</span><br><span class="line">                       # that resolves to the machine&apos;s hostname.  Without</span><br><span class="line">                       # this, the metrics may appear to come from any</span><br><span class="line">                       # interface and the DNS names associated with</span><br><span class="line">                       # those IPs will be used to create the RRDs.</span><br><span class="line">  #mcast_join = 239.2.11.71</span><br><span class="line">  port = 8649</span><br><span class="line">  ttl = 1</span><br><span class="line">  host = 10.0.2.15</span><br><span class="line">&#125;</span><br><span class="line">udp_recv_channel &#123;</span><br><span class="line">  mcast_join = 239.2.11.71</span><br><span class="line">  port = 8649</span><br><span class="line">  bind = 239.2.11.71</span><br><span class="line">  retry_bind = true</span><br><span class="line">  # Size of the UDP buffer. If you are handling lots of metrics you really</span><br><span class="line">  # should bump it up to e.g. 10MB or even higher.</span><br><span class="line">  # buffer = 10485760</span><br><span class="line">&#125;</span><br><span class="line">tcp_accept_channel &#123;</span><br><span class="line">  port = 8649</span><br><span class="line">  # If you want to gzip XML output</span><br><span class="line">  gzip_output = yes</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@10 ~]<span class="comment"># vim /etc/ganglia/conf.php</span></span><br><span class="line">&lt;?php</span><br><span class="line"><span class="variable">$conf</span>[<span class="string">'gweb_confdir'</span>] = <span class="string">"/mnt/data/ganglia"</span>;</span><br><span class="line"><span class="variable">$conf</span>[<span class="string">'gmetad_root'</span>] = <span class="string">"/mnt/data/ganglia"</span>;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>启动服务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@10 ~]<span class="comment"># systemctl start gmetad</span></span><br><span class="line">[root@10 ~]<span class="comment"># systemctl start gmond</span></span><br><span class="line">[root@10 ~]<span class="comment"># systemctl start httpd</span></span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/20/ganglia-install/" data-id="cjazexzdb002uqcoq5jp5w7b9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-jenkins-install" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/20/jenkins-install/" class="article-date">
  <time datetime="2017-03-20T03:17:04.000Z" itemprop="datePublished">2017-03-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/automation/">automation</a>►<a class="article-category-link" href="/categories/automation/jenkins/">jenkins</a>►<a class="article-category-link" href="/categories/automation/jenkins/jenkins-install/">jenkins install</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/20/jenkins-install/">jenkins install</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="jenkins-安装"><a href="#jenkins-安装" class="headerlink" title="jenkins 安装"></a><a href="https://jenkins.io/doc/" target="_blank" rel="noopener">jenkins 安装</a></h3><ol>
<li><p>基础软件安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@jenkins ~]<span class="comment"># yum -y install epel-release</span></span><br><span class="line">[root@jenkins ~]<span class="comment"># yum -y install gcc gcc-c++ make cmake bison libtool autoconf automake zip unzip bzip2 zlib zlib-devel openssl openssl-devel pcre pcre-devel bison-devel ncurses-devel tcl tcl-devel perl-Digest-SHA1 GeoIP GeoIP-devel gperftools gperftools-devel libatomic_ops-devel gtest gtest-devel glibc-devel unixODBC-devel fop libperl libpython readline readline-devel python2-pip readline readline-devel readline-static openssl openssl-devel openssl-static sqlite-devel bzip2-devel bzip2-libs openldap-devel curl-devel expat-devel gettext-devel perl-ExtUtils-MakeMaker</span></span><br><span class="line">[root@jenkins ~]<span class="comment"># yum -y install git lftp ntpdate vim wget telnet dstat tree lrzsz net-tools nmap-ncat nmap sysstat</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>创建一个普通用户</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@jenkins ~]<span class="comment"># useradd -s /sbin/nologin jenkins</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">java 安装</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@jenkins app]<span class="comment"># tar xzf jdk-8u131-linux-x64.tar.gz</span></span><br><span class="line">[root@jenkins app]<span class="comment"># mv jdk1.8.0_131 /mnt/app/java</span></span><br><span class="line">[root@jenkins app]<span class="comment"># chown -R jenkins.jenkins /mnt/app/java</span></span><br><span class="line"></span><br><span class="line">[root@jenkins app]<span class="comment"># echo 'export JAVA_HOME=/mnt/app/java'|tee /etc/profile.d/java.sh</span></span><br><span class="line">[root@jenkins app]<span class="comment"># echo 'export JRE_HOME=$&#123;JAVA_HOME&#125;/jre'|tee -a /etc/profile.d/java.sh</span></span><br><span class="line">[root@jenkins app]<span class="comment"># echo 'export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib'|tee -a /etc/profile.d/java.sh</span></span><br><span class="line">[root@jenkins app]<span class="comment"># echo 'export PATH=$&#123;JAVA_HOME&#125;/bin:$&#123;PATH&#125;'|tee -a /etc/profile.d/java.sh</span></span><br><span class="line">[root@jenkins app]<span class="comment"># source /etc/profile</span></span><br><span class="line"></span><br><span class="line">[root@jenkins ~]<span class="comment"># java -version</span></span><br><span class="line">java version <span class="string">"1.8.0_131"</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_131-b11)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="http://maven.apache.org/download.cgi" target="_blank" rel="noopener">maven安装</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@jenkins app]<span class="comment"># tar xzf apache-maven-3.5.0-bin.tar.gz</span></span><br><span class="line">[root@jenkins app]<span class="comment"># mv apache-maven-3.5.0 /mnt/app/maven</span></span><br><span class="line">[root@jenkins app]<span class="comment"># chown -R jenkins.jenkins /mnt/app/maven</span></span><br><span class="line">[root@jenkins app]<span class="comment"># echo 'MAVEN_HOME=/mnt/app/maven' | tee -a /etc/profile.d/maven.sh</span></span><br><span class="line">[root@jenkins app]<span class="comment"># echo 'export PATH=$&#123;PATH&#125;:$&#123;MAVEN_HOME&#125;/bin' | tee -a /etc/profile.d/maven.sh</span></span><br><span class="line">[root@jenkins app]<span class="comment"># source /etc/profile</span></span><br><span class="line"></span><br><span class="line">[root@jenkins app]<span class="comment"># mvn --version</span></span><br><span class="line">Apache Maven 3.5.0 (ff8f5e7444045639af65f6095c62210b5713f426; 2017-04-04T03:39:06+08:00)</span><br><span class="line">Maven home: /mnt/app/maven</span><br><span class="line">Java version: 1.8.0_131, vendor: Oracle Corporation</span><br><span class="line">Java home: /mnt/app/java/jre</span><br><span class="line">Default locale: en_US, platform encoding: UTF-8</span><br><span class="line">OS name: <span class="string">"linux"</span>, version: <span class="string">"3.10.0-123.el7.x86_64"</span>, arch: <span class="string">"amd64"</span>, family: <span class="string">"unix"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="http://tomcat.apache.org/download-80.cgi" target="_blank" rel="noopener">Tomcat 安装</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[root@jenkins app]<span class="comment"># tar xzf apache-tomcat-8.5.16.tar.gz</span></span><br><span class="line">[root@jenkins app]<span class="comment"># mv apache-tomcat-8.5.16 /mnt/app/jenkins</span></span><br><span class="line">[root@jenkins app]<span class="comment"># chown -R jenkins.jenkins /mnt/app/jenkins</span></span><br><span class="line"></span><br><span class="line">[root@jenkins ~]<span class="comment"># mkdir /mnt/data/jenkins</span></span><br><span class="line">[root@jenkins ~]<span class="comment"># chown -R jenkins.jenkins /mnt/data/jenkins</span></span><br><span class="line">[root@jenkins ~]<span class="comment"># mkdir -p /mnt/log/jenkins</span></span><br><span class="line">[root@jenkins ~]<span class="comment"># chown -R jenkins.jenkins /mnt/log/jenkins</span></span><br><span class="line"></span><br><span class="line">[root@jenkins ~]<span class="comment"># vim /mnt/app/jenkins/conf/server.xml</span></span><br><span class="line">&lt;Connector port=<span class="string">"8080"</span> protocol=<span class="string">"HTTP/1.1"</span></span><br><span class="line">           connectionTimeout=<span class="string">"20000"</span></span><br><span class="line">           redirectPort=<span class="string">"8443"</span> /&gt;</span><br><span class="line"></span><br><span class="line">&lt;Host name=<span class="string">"localhost"</span>  appBase=<span class="string">"/mnt/data/jenkins"</span></span><br><span class="line">    unpackWARs=<span class="string">"true"</span> autoDeploy=<span class="string">"true"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;Valve className=<span class="string">"org.apache.catalina.valves.AccessLogValve"</span> directory=<span class="string">"/mnt/log/jenkins"</span></span><br><span class="line">    prefix=<span class="string">"jenkins_access_log"</span> suffix=<span class="string">".txt"</span></span><br><span class="line">    pattern=<span class="string">"%h %l %u %t &amp;quot;%r&amp;quot; %s %b"</span> /&gt;</span><br><span class="line">&lt;/Host&gt;</span><br><span class="line"></span><br><span class="line">[root@jenkins ~]<span class="comment"># vim /mnt/app/jenkins/conf/logging.properties</span></span><br><span class="line">1catalina.org.apache.juli.AsyncFileHandler.directory = /mnt/<span class="built_in">log</span>/jenkins</span><br><span class="line">2localhost.org.apache.juli.AsyncFileHandler.directory = /mnt/<span class="built_in">log</span>/jenkins</span><br><span class="line">3manager.org.apache.juli.AsyncFileHandler.directory = /mnt/<span class="built_in">log</span>/jenkins</span><br><span class="line">4host-manager.org.apache.juli.AsyncFileHandler.directory = /mnt/<span class="built_in">log</span>/jenkins</span><br><span class="line"></span><br><span class="line">[root@jenkins ~]<span class="comment"># vim /mnt/app/jenkins/bin/catalina.sh</span></span><br><span class="line">JAVA_OPTS=<span class="string">"-server -Xmx14g -Xms8g -Xmn1024m -Xss512k -XX:SurvivorRatio=6 -XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:+UseParNewGC"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://jenkins.io/doc/" target="_blank" rel="noopener">jenkins 安装</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@jenkins app]<span class="comment"># cp jenkins.war /mnt/data/jenkins/</span></span><br><span class="line">[root@jenkins app]<span class="comment"># chown -R jenkins.jenkins /mnt/data/jenkins</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>jenkins启动脚本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">[root@jenkins ~]<span class="comment"># cat &gt; /etc/init.d/jenkins &lt;&lt;EOF</span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$#</span> != 1 ];<span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"Please input:</span></span><br><span class="line"><span class="string">/etc/init.d/<span class="variable">$0</span> start</span></span><br><span class="line"><span class="string">/etc/init.d/<span class="variable">$0</span> stop</span></span><br><span class="line"><span class="string">/etc/init.d/<span class="variable">$0</span> status</span></span><br><span class="line"><span class="string">"</span></span><br><span class="line">  <span class="built_in">exit</span> 0</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">STATUS=<span class="variable">$1</span></span><br><span class="line">CATALINA=<span class="string">"/mnt/app/jenkins/bin/catalina.sh "</span></span><br><span class="line">ROLE=<span class="string">"jenkins"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$STATUS</span> == <span class="string">"start"</span> ];<span class="keyword">then</span></span><br><span class="line">  <span class="variable">$CATALINA</span> start</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$STATUS</span> == <span class="string">"stop"</span> ];<span class="keyword">then</span></span><br><span class="line">  NUM=$(ps -ef|grep -w <span class="variable">$&#123;ROLE&#125;</span>|grep -w <span class="string">'/mnt/app/jenkins'</span>|grep -v grep|awk <span class="string">'&#123;print $2&#125;'</span>|wc -l)</span><br><span class="line">  <span class="keyword">if</span> [ <span class="variable">$NUM</span> != 1 ];<span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"Please check <span class="variable">$ROLE</span>, There are <span class="variable">$NUM</span> processes."</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">  PID=$(ps -ef|grep -w <span class="variable">$&#123;ROLE&#125;</span>|grep -w <span class="string">'/mnt/app/jenkins'</span>|grep -v grep|awk <span class="string">'&#123;print $2&#125;'</span>)</span><br><span class="line">  <span class="built_in">kill</span> -9 <span class="variable">$&#123;PID&#125;</span></span><br><span class="line">  <span class="keyword">if</span> [ $? == 0 ];<span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"<span class="variable">$ROLE</span> stoped success."</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"<span class="variable">$ROLE</span> stoped fail."</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$STATUS</span> == <span class="string">"status"</span> ];<span class="keyword">then</span></span><br><span class="line">  NUM=$(ps -ef|grep -w <span class="variable">$&#123;ROLE&#125;</span>|grep -w <span class="string">'/mnt/app/jenkins'</span>|grep -v grep|awk <span class="string">'&#123;print $2&#125;'</span>|wc -l)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> [ <span class="variable">$NUM</span> == 0 ];<span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"<span class="variable">$ROLE</span> is stopped."</span></span><br><span class="line">    <span class="built_in">exit</span> 0</span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> [ <span class="variable">$NUM</span> != 1 ];<span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"Please check <span class="variable">$ROLE</span>, There are <span class="variable">$NUM</span> processes."</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">  PID=$(ps -ef|grep -w <span class="variable">$&#123;ROLE&#125;</span>|grep -w <span class="string">'/mnt/app/jenkins'</span>|grep -v grep|awk <span class="string">'&#123;print $2&#125;'</span>)</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"<span class="variable">$ROLE</span> is running. PID: <span class="variable">$PID</span>"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">EOF</span><br><span class="line">[root@jenkins ~]<span class="comment"># chmod +x /etc/init.d/jenkins</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>jenkins systemd脚本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@jenkins ~]<span class="comment"># cat &gt; /usr/lib/systemd/system/jenkins.service &lt;&lt;EOF</span></span><br><span class="line">[Unit]</span><br><span class="line">Description=Apache Tomcat/8.5.16</span><br><span class="line">After=syslog.target network.target remote-fs.target nss-lookup.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">ExecStart=/mnt/app/jenkins/bin/catalina.sh start</span><br><span class="line">ExecReload=<span class="built_in">kill</span> -s HUP <span class="variable">$MAINPID</span></span><br><span class="line">ExecStop=<span class="built_in">kill</span> -s QUIT <span class="variable">$MAINPID</span></span><br><span class="line">PrivateTmp=<span class="literal">true</span></span><br><span class="line">User=jenkins</span><br><span class="line">Group=jenkins</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line">EOF</span><br><span class="line">[root@jenkins ~]<span class="comment"># systemctl daemon-reload</span></span><br><span class="line">[root@jenkins ~]<span class="comment"># systemctl start jenkins</span></span><br><span class="line">[root@jenkins ~]<span class="comment"># systemctl enable jenkins</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>jenkins 启动</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@jenkins ~]<span class="comment"># su - jenkins</span></span><br><span class="line">[jenkins@jenkins ~]$ /mnt/app/jenkins/bin/catalina.sh configtest</span><br><span class="line">[jenkins@jenkins ~]$ /mnt/app/jenkins/bin/catalina.sh start</span><br><span class="line">or:</span><br><span class="line">[jenkins@jenkins ~]$ /etc/init.d/jenkins start</span><br><span class="line">[jenkins@jenkins ~]$ /etc/init.d/jenkins stop</span><br><span class="line">[jenkins@jenkins ~]$ /etc/init.d/jenkins status</span><br></pre></td></tr></table></figure>
</li>
<li><p>jenkins nginx反向代理</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@192 vhost]<span class="comment"># cat jenkins.conf</span></span><br><span class="line"><span class="comment"># jenkins</span></span><br><span class="line">upstream switchjenkins&#123;</span><br><span class="line">  server 192.168.13.214:8080  max_fails=3 fail_timeout=30s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">  listen       80;</span><br><span class="line">  server_name  jenkins.domain.cn;</span><br><span class="line"></span><br><span class="line">  location / &#123;</span><br><span class="line">    rewrite ^/ http://jenkins.domain.cn/jenkins;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  location /jenkins &#123;</span><br><span class="line">    proxy_pass  http://switchjenkins;</span><br><span class="line">    proxy_set_header Host <span class="variable">$host</span>;</span><br><span class="line">    proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  access_log  /mnt/<span class="built_in">log</span>/nginx/jenkins.domain.cn.log  main;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>访问jenkins,并初始化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//1.访问web界面</span><br><span class="line">http://jenkins.domain.cn</span><br><span class="line">//2.输入密码:</span><br><span class="line">[jenkins@jenkins ~]$ cat ~/.jenkins/secrets/initialAdminPassword           </span><br><span class="line">357b1ccc008d4406ba3eca72a741aa7e</span><br><span class="line">//3.安装插件(等待安装)</span><br><span class="line">我们先选择推荐插件进行安装&quot;Install suggested plugins&quot;</span><br><span class="line">//4.创建管理员账号</span><br><span class="line">admin/admin123</span><br><span class="line">//5.启动jenkins</span><br><span class="line"></span><br><span class="line">//日常操作</span><br><span class="line">http://jenkins.domain.cn/jenkins/stop    关闭jenkins</span><br><span class="line">http://jenkins.domain.cn/jenkins/start   开启jenkins</span><br><span class="line">http://jenkins.domain.cn/jenkins/restart 重启jenkins</span><br><span class="line">http://jenkins.domain.cn/jenkins/reload  重新加载jenkins</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装常用插件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* Deploy to Container Plugin   支持将代码部署到tomcat容器</span><br><span class="line">* GIT plugin</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/20/jenkins-install/" data-id="cjazexzel004cqcoqjli9q9e0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-supersord-install" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/20/supersord-install/" class="article-date">
  <time datetime="2017-03-20T02:53:23.000Z" itemprop="datePublished">2017-03-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/system-service/">system service</a>►<a class="article-category-link" href="/categories/system-service/supersord/">supersord</a>►<a class="article-category-link" href="/categories/system-service/supersord/supersord-install/">supersord install</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/20/supersord-install/">supersord install</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li><p>安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 srv]<span class="comment"># wget https://bootstrap.pypa.io/ez_setup.py -O - | python</span></span><br><span class="line">[root@plat1 srv]<span class="comment"># easy_install supervisor</span></span><br><span class="line"></span><br><span class="line">or:</span><br><span class="line">[root@plat1 srv]<span class="comment"># pip install supervisor</span></span><br><span class="line">[root@plat1 srv]<span class="comment"># echo_supervisord_conf |tee /etc/supervisord.conf</span></span><br><span class="line">[root@plat1 srv]<span class="comment"># cat &gt;&gt;  /etc/supervisord.conf &lt;&lt;EOF</span></span><br><span class="line">[program:hello]</span><br><span class="line"><span class="built_in">command</span>=python /mnt/web/tornado/hello.py --port=8888</span><br><span class="line">directory=/mnt/web/tornado/</span><br><span class="line">autorestart=<span class="literal">true</span></span><br><span class="line">redirect_stderr=<span class="literal">true</span></span><br><span class="line">EOF</span><br><span class="line">[root@dev tornado]<span class="comment"># supervisord</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>使用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 srv]<span class="comment"># cat /etc/supervisord.conf</span></span><br><span class="line">[program:openvpn]</span><br><span class="line">directory=/etc/openvpn</span><br><span class="line"><span class="built_in">command</span>=/usr/<span class="built_in">local</span>/openvpn/sbin/openvpn --config /etc/openvpn/server.conf</span><br><span class="line">process_name=%(program_name)s</span><br><span class="line">numprocs=1</span><br><span class="line">user=root</span><br><span class="line">autorstart=<span class="literal">true</span></span><br><span class="line">autorestart=<span class="literal">true</span></span><br><span class="line">stdout_logfile=/tmp/supervisor_openvpn.log</span><br></pre></td></tr></table></figure>
</li>
<li><p>supersord启动</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 srv]<span class="comment"># /usr/bin/supervisord -c /etc/supervisord.conf</span></span><br><span class="line">[root@plat1 openvpn]<span class="comment"># supervisorctl reload</span></span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/20/supersord-install/" data-id="cjazexzmu00b0qcoq29lzalb8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-openvpn-install" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/20/openvpn-install/" class="article-date">
  <time datetime="2017-03-20T02:25:58.000Z" itemprop="datePublished">2017-03-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/system-service/">system service</a>►<a class="article-category-link" href="/categories/system-service/openvpn/">openvpn</a>►<a class="article-category-link" href="/categories/system-service/openvpn/openvpn-install/">openvpn install</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/20/openvpn-install/">openvpn install</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li><p>基础服务安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 srv]<span class="comment"># yum -y install gcc gcc-c++</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>安装openssl</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 srv]<span class="comment"># ls -l openssl-1.0.1f.tar.gz</span></span><br><span class="line">-rw-r--r--. 1 root root 4509212 10月 13 17:48 openssl-1.0.1f.tar.gz</span><br><span class="line">[root@plat1 srv]<span class="comment"># tar xzf openssl-1.0.1f.tar.gz</span></span><br><span class="line">[root@plat1 srv]<span class="comment"># cd openssl-1.0.1f</span></span><br><span class="line">[root@plat1 openssl-1.0.1f]<span class="comment"># ./config --prefix=/usr/local --openssldir=/usr/local/ssl &amp;&amp; make &amp;&amp; make install</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>安装lzo</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 srv]<span class="comment"># wget http://www.oberhumer.com/opensource/lzo/download/lzo-2.03.tar.gz</span></span><br><span class="line">[root@plat1 srv]<span class="comment"># tar xzf lzo-2.03.tar.gz</span></span><br><span class="line">[root@plat1 srv]<span class="comment"># cd lzo-2.03</span></span><br><span class="line">[root@plat1 lzo-2.03]<span class="comment"># ./configure --prefix=/usr/local/lzo  &amp;&amp; make &amp;&amp; make install</span></span><br><span class="line"></span><br><span class="line">[root@plat1 ~]<span class="comment"># ln -s /usr/local/lzo/lib/liblzo2.a /usr/local/lzo/lib/liblzo.a</span></span><br><span class="line">[root@plat1 ~]<span class="comment"># ln -s /usr/local/lzo/lib/liblzo2.la /usr/local/lzo/lib/liblzo.la</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>安装openvpn</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 srv]<span class="comment"># ls -l openvpn-2.0.9.tar.gz</span></span><br><span class="line">-rw-r--r--. 1 root root 669076 10月 13 17:24 openvpn-2.0.9.tar.gz</span><br><span class="line">[root@plat1 srv]<span class="comment"># tar xzf openvpn-2.0.9.tar.gz</span></span><br><span class="line">[root@plat1 srv]<span class="comment"># cd openvpn-2.0.9</span></span><br><span class="line">[root@plat1 openvpn-2.0.9]<span class="comment"># ./configure --prefix=/usr/local/openvpn --with-ssl-headers=/usr/local/ssl/include/openssl --with-ssl-lib=/usr/local/ssl/lib --with-lzo-headers=/usr/local/lzo/include/lzo --with-lzo-lib=/usr/local/lzo/lib</span></span><br><span class="line">[root@plat1 openvpn-2.0.9]<span class="comment"># make &amp;&amp; make install</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>准备openvpn-server端认证环境</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 openvpn-2.0.9]<span class="comment"># mkdir /etc/openvpn</span></span><br><span class="line">[root@plat1 openvpn-2.0.9]<span class="comment"># cp -r easy-rsa  /etc/openvpn/</span></span><br><span class="line">[root@plat1 openvpn-2.0.9]<span class="comment"># cp sample-config-files/server.conf /etc/openvpn/</span></span><br><span class="line">[root@plat1 openvpn-2.0.9]<span class="comment"># cd /etc/openvpn/easy-rsa/2.0/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>修改 认证 环境变量</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 2.0]<span class="comment"># vim vars</span></span><br><span class="line"><span class="built_in">export</span> EASY_RSA=<span class="string">"`pwd`"</span></span><br><span class="line"><span class="built_in">export</span> OPENSSL=<span class="string">"openssl"</span></span><br><span class="line"><span class="built_in">export</span> PKCS11TOOL=<span class="string">"pkcs11-tool"</span></span><br><span class="line"><span class="built_in">export</span> GREP=<span class="string">"grep"</span></span><br><span class="line"><span class="built_in">export</span> KEY_CONFIG=`<span class="variable">$EASY_RSA</span>/whichopensslcnf <span class="variable">$EASY_RSA</span>`</span><br><span class="line"><span class="built_in">export</span> KEY_DIR=<span class="string">"<span class="variable">$EASY_RSA</span>/keys"</span></span><br><span class="line"><span class="built_in">echo</span> NOTE: If you run ./clean-all, I will be doing a rm -rf on <span class="variable">$KEY_DIR</span></span><br><span class="line"><span class="built_in">export</span> KEY_SIZE=1024</span><br><span class="line"><span class="built_in">export</span> CA_EXPIRE=3650</span><br><span class="line"><span class="built_in">export</span> KEY_EXPIRE=3650</span><br><span class="line"><span class="built_in">export</span> KEY_COUNTRY=<span class="string">"CN"</span></span><br><span class="line"><span class="built_in">export</span> KEY_PROVINCE=<span class="string">"BJ"</span></span><br><span class="line"><span class="built_in">export</span> KEY_CITY=<span class="string">"BeiJing"</span></span><br><span class="line"><span class="built_in">export</span> KEY_ORG=<span class="string">"OpenVPN ORG"</span></span><br><span class="line"><span class="built_in">export</span> KEY_EMAIL=<span class="string">"smallasa@sina.com"</span></span><br><span class="line">[root@plat1 2.0]<span class="comment"># . ./vars</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>清理key目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 2.0]<span class="comment"># ./clean-all</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>生成CA证书</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 2.0]<span class="comment"># ./build-ca</span></span><br><span class="line">Generating a 1024 bit RSA private key</span><br><span class="line">............................++++++</span><br><span class="line">......................................++++++</span><br><span class="line">writing new private key to <span class="string">'ca.key'</span></span><br><span class="line">-----</span><br><span class="line">You are about to be asked to enter information that will be incorporated</span><br><span class="line">into your certificate request.</span><br><span class="line">What you are about to enter is what is called a Distinguished Name or a DN.</span><br><span class="line">There are quite a few fields but you can leave some blank</span><br><span class="line">For some fields there will be a default value,</span><br><span class="line">If you enter <span class="string">'.'</span>, the field will be left blank.</span><br><span class="line">-----</span><br><span class="line">Country Name (2 letter code) [CN]:</span><br><span class="line">State or Province Name (full name) [BJ]:</span><br><span class="line">Locality Name (eg, city) [BeiJing]:</span><br><span class="line">Organization Name (eg, company) [OpenVPN ORG]:</span><br><span class="line">Organizational Unit Name (eg, section) []:</span><br><span class="line">Common Name (eg, your name or your server<span class="string">'s hostname) [OpenVPN ORG CA]:</span></span><br><span class="line"><span class="string">Email Address [smallasa@sina.com]:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[root@plat1 2.0]# ls keys/</span></span><br><span class="line"><span class="string">ca.crt  ca.key  index.txt  serial</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[root@plat1 2.0]# ./build-dh</span></span><br><span class="line"><span class="string">Generating DH parameters, 1024 bit long safe prime, generator 2</span></span><br><span class="line"><span class="string">This is going to take a long time</span></span><br><span class="line"><span class="string">....+.......+..........+.................................................+...+..................................................................................................................+..................................................................................................................................+........................................+......................................................................................................................+..................................+..............+.................................+..............................................................................................+..................................+.......................+............................++*++*++*</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[root@plat1 2.0]# ls keys/</span></span><br><span class="line"><span class="string">ca.crt  ca.key  dh1024.pem  index.txt  serial</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>生成openvpn server端key</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 2.0]<span class="comment"># ./build-key-server test</span></span><br><span class="line">Generating a 1024 bit RSA private key</span><br><span class="line">.....++++++</span><br><span class="line">....................................++++++</span><br><span class="line">writing new private key to <span class="string">'test.key'</span></span><br><span class="line">-----</span><br><span class="line">You are about to be asked to enter information that will be incorporated</span><br><span class="line">into your certificate request.</span><br><span class="line">What you are about to enter is what is called a Distinguished Name or a DN.</span><br><span class="line">There are quite a few fields but you can leave some blank</span><br><span class="line">For some fields there will be a default value,</span><br><span class="line">If you enter <span class="string">'.'</span>, the field will be left blank.</span><br><span class="line">-----</span><br><span class="line">Country Name (2 letter code) [CN]:</span><br><span class="line">State or Province Name (full name) [BJ]:</span><br><span class="line">Locality Name (eg, city) [BeiJing]:</span><br><span class="line">Organization Name (eg, company) [OpenVPN ORG]:</span><br><span class="line">Organizational Unit Name (eg, section) []:</span><br><span class="line">Common Name (eg, your name or your server<span class="string">'s hostname) [test]:</span></span><br><span class="line"><span class="string">Email Address [smallasa@sina.com]:</span></span><br><span class="line"><span class="string">Please enter the following '</span>extra<span class="string">' attributes</span></span><br><span class="line"><span class="string">to be sent with your certificate request</span></span><br><span class="line"><span class="string">A challenge password []:</span></span><br><span class="line"><span class="string">An optional company name []:</span></span><br><span class="line"><span class="string">Using configuration from /etc/openvpn/easy-rsa/2.0/openssl.cnf</span></span><br><span class="line"><span class="string">Check that the request matches the signature</span></span><br><span class="line"><span class="string">Signature ok</span></span><br><span class="line"><span class="string">The Subject'</span>s Distinguished Name is as follows</span><br><span class="line">countryName           :PRINTABLE:<span class="string">'CN'</span></span><br><span class="line">stateOrProvinceName   :PRINTABLE:<span class="string">'BJ'</span></span><br><span class="line">localityName          :PRINTABLE:<span class="string">'BeiJing'</span></span><br><span class="line">organizationName      :PRINTABLE:<span class="string">'OpenVPN ORG'</span></span><br><span class="line">commonName            :PRINTABLE:<span class="string">'test'</span></span><br><span class="line">emailAddress          :IA5STRING:<span class="string">'smallasa@sina.com'</span></span><br><span class="line">Certificate is to be certified until Oct 11 10:30:42 2026 GMT (3650 days)</span><br><span class="line">Sign the certificate? [y/n]:y</span><br><span class="line">1 out of 1 certificate requests certified, commit? [y/n]y</span><br><span class="line">Write out database with 1 new entries</span><br><span class="line">Data Base Updated</span><br></pre></td></tr></table></figure>
</li>
<li><p>将 openvpn server端生成的key拷贝到/etc/openvpn/目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 2.0]<span class="comment"># cd keys/</span></span><br><span class="line">[root@plat1 keys]<span class="comment"># cp ca.crt ca.key test.crt test.key dh1024.pem /etc/openvpn/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>生成 openvpn client key(根据用户不同可以按此方法生成相应的用户key)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 2.0]<span class="comment"># . ./vars</span></span><br><span class="line">[root@plat1 2.0]<span class="comment"># ./build-key client</span></span><br><span class="line">Generating a 1024 bit RSA private key</span><br><span class="line">......................++++++</span><br><span class="line">...........................................................................++++++</span><br><span class="line">writing new private key to <span class="string">'client.key'</span></span><br><span class="line">-----</span><br><span class="line">You are about to be asked to enter information that will be incorporated</span><br><span class="line">into your certificate request.</span><br><span class="line">What you are about to enter is what is called a Distinguished Name or a DN.</span><br><span class="line">There are quite a few fields but you can leave some blank</span><br><span class="line">For some fields there will be a default value,</span><br><span class="line">If you enter <span class="string">'.'</span>, the field will be left blank.</span><br><span class="line">-----</span><br><span class="line">Country Name (2 letter code) [CN]:</span><br><span class="line">State or Province Name (full name) [BJ]:</span><br><span class="line">Locality Name (eg, city) [BeiJing]:</span><br><span class="line">Organization Name (eg, company) [OpenVPN ORG]:</span><br><span class="line">Organizational Unit Name (eg, section) []:<span class="built_in">test</span></span><br><span class="line">Common Name (eg, your name or your server<span class="string">'s hostname) [client]:client</span></span><br><span class="line"><span class="string">Email Address [smallasa@sina.com]:</span></span><br><span class="line"><span class="string">Please enter the following '</span>extra<span class="string">' attributes</span></span><br><span class="line"><span class="string">to be sent with your certificate request</span></span><br><span class="line"><span class="string">A challenge password []:</span></span><br><span class="line"><span class="string">An optional company name []:smallasa</span></span><br><span class="line"><span class="string">Using configuration from /etc/openvpn/easy-rsa/2.0/openssl.cnf</span></span><br><span class="line"><span class="string">Check that the request matches the signature</span></span><br><span class="line"><span class="string">Signature ok</span></span><br><span class="line"><span class="string">The Subject'</span>s Distinguished Name is as follows</span><br><span class="line">countryName           :PRINTABLE:<span class="string">'CN'</span></span><br><span class="line">stateOrProvinceName   :PRINTABLE:<span class="string">'BJ'</span></span><br><span class="line">localityName          :PRINTABLE:<span class="string">'BeiJing'</span></span><br><span class="line">organizationName      :PRINTABLE:<span class="string">'OpenVPN ORG'</span></span><br><span class="line">organizationalUnitName:PRINTABLE:<span class="string">'test'</span></span><br><span class="line">commonName            :PRINTABLE:<span class="string">'client'</span></span><br><span class="line">emailAddress          :IA5STRING:<span class="string">'smallasa@sina.com'</span></span><br><span class="line">Certificate is to be certified until Oct 12 06:10:37 2026 GMT (3650 days)</span><br><span class="line">Sign the certificate? [y/n]:y</span><br><span class="line">1 out of 1 certificate requests certified, commit? [y/n]y</span><br><span class="line">Write out database with 1 new entries</span><br><span class="line">Data Base Updated</span><br></pre></td></tr></table></figure>
</li>
<li><p>将用户key 和 ca证书打包,拷贝给用户</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 2.0]<span class="comment"># cd keys</span></span><br><span class="line">[root@plat1 keys]<span class="comment"># tar czf test.tar.gz test.* ca.*</span></span><br><span class="line">[root@plat1 keys]<span class="comment"># sz test.tar.gz</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>配置openvpn server端服务配置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 keys]<span class="comment"># cd /etc/openvpn/</span></span><br><span class="line">[root@plat1 openvpn]<span class="comment"># mkdir /var/log/openvpn</span></span><br><span class="line">[root@plat1 openvpn]<span class="comment"># vim server.conf</span></span><br><span class="line"><span class="built_in">local</span> 10.10.16.3</span><br><span class="line">port 1194</span><br><span class="line">proto tcp</span><br><span class="line">dev tun</span><br><span class="line">ca ca.crt</span><br><span class="line">cert test.crt</span><br><span class="line">key test.key</span><br><span class="line">dh dh1024.pem</span><br><span class="line">server 10.8.0.0 255.255.255.0</span><br><span class="line">ifconfig-pool-persist ipp.txt</span><br><span class="line">push <span class="string">"route 10.10.16.0   255.255.255.0"</span></span><br><span class="line">push <span class="string">"route 192.168.14.0 255.255.255.0"</span></span><br><span class="line">client-to-client</span><br><span class="line">keepalive 10 120</span><br><span class="line">comp-lzo</span><br><span class="line">max-clients 30</span><br><span class="line">user nobody</span><br><span class="line">group nobody</span><br><span class="line">persist-key</span><br><span class="line">persist-tun</span><br><span class="line">status /var/<span class="built_in">log</span>/openvpn/openvpn-status.log</span><br><span class="line"><span class="built_in">log</span>         /var/<span class="built_in">log</span>/openvpn/openvpn.log</span><br><span class="line">verb 3</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置 openvpn server端防火墙和访问策略</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 openvpn]<span class="comment"># sed -i '/net.ipv4.ip_forward/s/0/1/g' /etc/sysctl.conf</span></span><br><span class="line">[root@plat1 openvpn]<span class="comment"># sysctl -w net.ipv4.ip_forward=1</span></span><br><span class="line">[root@plat1 openvpn]<span class="comment"># iptables -t nat -I POSTROUTING -o eth0 -s 10.8.0.0/24 -j MASQUERADE</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>启动openvpn server服务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 openvpn]<span class="comment"># /usr/local/openvpn/sbin/openvpn --config /etc/openvpn/server.conf &amp;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>linux系统下openvpn客户端安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[ec2-user@ip-192-168-110-244 ~]$ sudo su -</span><br><span class="line">[root@ip-192-168-110-244 ~]<span class="comment"># yum -y install openvpn</span></span><br><span class="line">[root@ip-192-168-110-244 ~]<span class="comment"># cd /etc/openvpn/</span></span><br><span class="line">[root@ip-192-168-110-244 openvpn]<span class="comment"># tar xzf test.tar.gz</span></span><br><span class="line">[root@ip-192-168-110-244 openvpn]<span class="comment"># ls -l</span></span><br><span class="line">total 20</span><br><span class="line">-rw-r--r-- 1 root     root     1245 Oct 13 18:27 ca.crt</span><br><span class="line">-rw------- 1 root     root      916 Oct 13 18:27 ca.key</span><br><span class="line">-rw-r--r-- 1 root     root     3815 Oct 14 14:10 client.crt</span><br><span class="line">-rw-r--r-- 1 root     root      733 Oct 14 14:10 client.csr</span><br><span class="line">-rw------- 1 root     root      916 Oct 14 14:10 client.key</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改openvpn client 配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@ip-192-168-110-244 openvpn]<span class="comment"># cat client.conf</span></span><br><span class="line">client</span><br><span class="line">dev tun</span><br><span class="line">proto tcp</span><br><span class="line">remote 124.127.242.73 1194</span><br><span class="line">resolv-retry infinite</span><br><span class="line">nobind</span><br><span class="line">persist-key</span><br><span class="line">persist-tun</span><br><span class="line">ca ca.crt</span><br><span class="line">cert client.crt</span><br><span class="line">key client.key</span><br><span class="line">comp-lzo</span><br><span class="line">verb 3</span><br></pre></td></tr></table></figure>
</li>
<li><p>启动openvpn Client服务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@ip-192-168-110-244 ~]<span class="comment"># cd /etc/openvpn/</span></span><br><span class="line">[root@ip-192-168-110-244 openvpn]<span class="comment"># /usr/sbin/openvpn --config /etc/openvpn/client.conf</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>进行测试</p>
</li>
<li><p>supervisor安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 srv]<span class="comment"># wget https://bootstrap.pypa.io/ez_setup.py -O - | python</span></span><br><span class="line">[root@plat1 srv]<span class="comment"># easy_install supervisor</span></span><br><span class="line">[root@plat1 srv]<span class="comment"># echo_supervisord_conf &gt; /etc/supervisord.conf</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>使用supervisord支持openvpn</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 srv]<span class="comment"># cat /etc/supervisord.conf</span></span><br><span class="line">[program:openvpn]</span><br><span class="line">directory=/etc/openvpn</span><br><span class="line"><span class="built_in">command</span>=/usr/<span class="built_in">local</span>/openvpn/sbin/openvpn --config /etc/openvpn/server.conf</span><br><span class="line">process_name=%(program_name)s</span><br><span class="line">numprocs=1</span><br><span class="line">user=root</span><br><span class="line">autorstart=<span class="literal">true</span></span><br><span class="line">autorestart=<span class="literal">true</span></span><br><span class="line">stdout_logfile=/tmp/supervisor_openvpn.log</span><br></pre></td></tr></table></figure>
</li>
<li><p>supersord启动</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@plat1 srv]<span class="comment"># /usr/bin/supervisord -c /etc/supervisord.conf</span></span><br><span class="line">[root@plat1 openvpn]<span class="comment"># supervisorctl reload</span></span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/20/openvpn-install/" data-id="cjazexzii007kqcoq5uh35g98" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-git-gogs-source-install" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/17/git-gogs-source-install/" class="article-date">
  <time datetime="2017-03-17T09:30:59.000Z" itemprop="datePublished">2017-03-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/automation/">automation</a>►<a class="article-category-link" href="/categories/automation/git/">git</a>►<a class="article-category-link" href="/categories/automation/git/git-gogs-source-install/">git gogs source install</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/17/git-gogs-source-install/">git gogs source install</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-go-env"><a href="#1-go-env" class="headerlink" title="1.go env"></a>1.go env</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@gitserver ~]<span class="comment"># mkdir -p /mnt/app</span></span><br><span class="line">[root@gitserver ~]<span class="comment"># tar xzf go1.7.4.linux-amd64.tar.gz -C /mnt/app/</span></span><br><span class="line">[root@gitserver ~]<span class="comment"># echo 'export GOROOT=/mnt/app/go' |tee /etc/profile.d/go.sh</span></span><br><span class="line">[root@gitserver ~]<span class="comment"># echo 'export GOPATH=$HOME/work'  |tee -a /etc/profile.d/go.sh</span></span><br><span class="line">[root@gitserver ~]<span class="comment"># echo 'export PATH=$GOROOT/bin:$PATH' |tee -a /etc/profile.d/go.sh</span></span><br><span class="line">[root@gitserver ~]<span class="comment"># source /etc/profile</span></span><br></pre></td></tr></table></figure>
<h3 id="2-gogs-download"><a href="#2-gogs-download" class="headerlink" title="2.gogs download"></a>2.gogs download</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># echo $GOPATH</span></span><br><span class="line">/root/work</span><br><span class="line"></span><br><span class="line">[root@gitserver ~]<span class="comment"># go get -v -u github.com/gogits/gogs</span></span><br><span class="line">[root@localhost ~]<span class="comment"># ls ~/work/src/github.com/gogits/gogs/</span></span><br><span class="line">appveyor.yml  conf    Dockerfile          Dockerfile.rpi  LICENSE   models   packager  README.md     routers  templates</span><br><span class="line">cmd           docker  Dockerfile.aarch64  gogs.go         Makefile  modules  public    README_ZH.md  scripts  vendor</span><br></pre></td></tr></table></figure>
<h3 id="3-gogs-编译安装"><a href="#3-gogs-编译安装" class="headerlink" title="3.gogs 编译安装"></a>3.gogs 编译安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># cd $GOPATH/src/github.com/gogits/gogs</span></span><br><span class="line">[root@localhost gogs]<span class="comment"># go build</span></span><br></pre></td></tr></table></figure>
<h3 id="4-gogs-启动"><a href="#4-gogs-启动" class="headerlink" title="4.gogs 启动"></a>4.gogs 启动</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost gogs]<span class="comment"># ./gogs web</span></span><br><span class="line">2017/03/17 17:49:39 [ WARN] Custom config <span class="string">'/root/work/src/github.com/gogits/gogs/custom/conf/app.ini'</span> not found, ignore this <span class="keyword">if</span> you<span class="string">'re running first time</span></span><br><span class="line"><span class="string">2017/03/17 17:49:39 [TRACE] Custom path: /root/work/src/github.com/gogits/gogs/custom</span></span><br><span class="line"><span class="string">2017/03/17 17:49:39 [TRACE] Log path: /root/work/src/github.com/gogits/gogs/log</span></span><br><span class="line"><span class="string">2017/03/17 17:49:39 [TRACE] Log Mode: Console (Trace)</span></span><br><span class="line"><span class="string">2017/03/17 17:49:39 [ INFO] Gogs 0.10.18.0313</span></span><br><span class="line"><span class="string">2017/03/17 17:49:39 [ INFO] Cache Service Enabled</span></span><br><span class="line"><span class="string">2017/03/17 17:49:39 [ INFO] Session Service Enabled</span></span><br><span class="line"><span class="string">2017/03/17 17:49:39 [ INFO] Run Mode: Development</span></span><br><span class="line"><span class="string">2017/03/17 17:49:40 [ INFO] Listen: http://0.0.0.0:3000</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Go默认不支持一些功能-如果需要支持-需要使用build-tag来支持"><a href="#Go默认不支持一些功能-如果需要支持-需要使用build-tag来支持" class="headerlink" title="Go默认不支持一些功能,如果需要支持,需要使用build tag来支持"></a>Go默认不支持一些功能,如果需要支持,需要使用build tag来支持</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@gitserver ~]<span class="comment"># go get -u -tags "sqlite pam cert" github.com/gogits/gogs</span></span><br><span class="line">[root@gitserver ~]<span class="comment"># cd $GOPATH/src/github.com/gogits/gogs</span></span><br><span class="line">[root@localhost gogs]<span class="comment"># go build</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/17/git-gogs-source-install/" data-id="cjazexzdb0032qcoq3zs8e6vo" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-kafka-offset-monitor" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/17/kafka-offset-monitor/" class="article-date">
  <time datetime="2017-03-17T07:02:19.000Z" itemprop="datePublished">2017-03-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/hadoop/">hadoop</a>►<a class="article-category-link" href="/categories/hadoop/kafka/">kafka</a>►<a class="article-category-link" href="/categories/hadoop/kafka/kafka-offset-monitor/">kafka offset monitor</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/17/kafka-offset-monitor/">kafka offset monitor</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="kafka-offset-monitor"><a href="#kafka-offset-monitor" class="headerlink" title="kafka offset monitor"></a><a href="https://github.com/quantifind/KafkaOffsetMonitor" target="_blank" rel="noopener">kafka offset monitor</a></h3><ol>
<li><p>下载</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Download: https://github.com/quantifind/KafkaOffsetMonitor</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@10 ~]<span class="comment"># mkdir /mnt/app/kafkaoffsetmonitor</span></span><br><span class="line">[root@10 ~]<span class="comment"># ls -l /mnt/app/kafkaoffsetmonitor/</span></span><br><span class="line">total 51700</span><br><span class="line">-rw-r--r-- 1 root root 52937155 Mar 17 17:09 KafkaOffsetMonitor-assembly-0.2.1.jar</span><br><span class="line">[root@10 ~]<span class="comment"># chown -R wisdom.wisdom /mnt/app/kafkaoffsetmonitor</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>启动</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@10 ~]<span class="comment"># su - wisdom</span></span><br><span class="line">[wisdom@10 ~]$ vim /mnt/app/kafkaoffsetmonitor/kafkaoffsetmonitor.sh</span><br><span class="line">java -Xms512M -Xmx512M -Xss1024K -XX:PermSize=256m -XX:MaxPermSize=512m \</span><br><span class="line">     -cp KafkaOffsetMonitor-assembly-0.2.1.jar \</span><br><span class="line">     com.quantifind.kafka.offsetapp.OffsetGetterWeb \</span><br><span class="line">     --zk 10.0.3.65:2181 \</span><br><span class="line">     --port 8888 \</span><br><span class="line">     --refresh 10.seconds \</span><br><span class="line">     --retain 2.days &amp;</span><br><span class="line">[wisdom@10 ~]$ chmod +x /mnt/app/kafkaoffsetmonitor/kafkaoffsetmonitor.sh</span><br><span class="line"></span><br><span class="line">[wisdom@10 ~]$ <span class="built_in">cd</span> /mnt/app/kafkaoffsetmonitor/</span><br><span class="line">[wisdom@10 kafkaoffsetmonitor]$ ./kafkaoffsetmonitor.sh</span><br></pre></td></tr></table></figure>
</li>
<li><p>访问</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://&#123;IP&#125;:8888</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/17/kafka-offset-monitor/" data-id="cjazexzfh004uqcoqzb0pa1ck" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-kafka-manage-web" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/17/kafka-manage-web/" class="article-date">
  <time datetime="2017-03-17T05:55:35.000Z" itemprop="datePublished">2017-03-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/hadoop/">hadoop</a>►<a class="article-category-link" href="/categories/hadoop/kafka/">kafka</a>►<a class="article-category-link" href="/categories/hadoop/kafka/kafka-manage-web/">kafka manage web</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/17/kafka-manage-web/">kafka manage web</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="kafka-manage-web"><a href="#kafka-manage-web" class="headerlink" title="kafka manage web"></a><a href="https://github.com/yahoo/kafka-manager" target="_blank" rel="noopener">kafka manage web</a></h3><ol>
<li><p>kafka manage install</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@10 app]<span class="comment"># git clone https://github.com/yahoo/kafka-manager.git</span></span><br><span class="line">[root@10 app]<span class="comment"># cd kafka-manager/</span></span><br><span class="line">[root@10 kafka-manager]<span class="comment"># ./sbt /mnt/app/java clean dist</span></span><br><span class="line">or:</span><br><span class="line">[root@10 kafka-manager]<span class="comment"># JAVA_HOME=/mnt/app/java PATH=$&#123;JAVA_HOME&#125;/bin:$PATH ./sbt -java-home /mnt/app/java clean dist</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>解压安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@10 kafka-manager]<span class="comment"># cp target/universal/kafka-manager-1.3.3.4.zip .</span></span><br><span class="line">[root@10 kafka-manager]<span class="comment"># unzip kafka-manager-1.3.3.4.zip</span></span><br><span class="line">[root@10 kafka-manager]<span class="comment"># mv kafka-manager-1.3.3.4 /mnt/app/kafka-manager</span></span><br><span class="line">[root@10 kafka-manager]<span class="comment"># chown -R wisdom.wisdom /mnt/app/kafka-manager</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>配置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@10 app]<span class="comment"># su - wisdom</span></span><br><span class="line">[wisdom@10 ~]$ vim /mnt/app/kafka-manager/conf/application.conf</span><br><span class="line">kafka-manager.zkhosts=<span class="string">"10.0.3.65:2181"</span></span><br><span class="line">... ...</span><br><span class="line">basicAuthentication.enabled=<span class="literal">true</span></span><br><span class="line">basicAuthentication.username=<span class="string">"admin"</span></span><br><span class="line">basicAuthentication.password=<span class="string">"admin"</span></span><br><span class="line">basicAuthentication.realm=<span class="string">"Kafka-Manager"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>启动</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[wisdom@10 ~]$ /mnt/app/kafka-manager/bin/kafka-manager &amp;</span><br></pre></td></tr></table></figure>
</li>
<li><p>访问</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://&#123;IP&#125;:9000</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/17/kafka-manage-web/" data-id="cjazexzf1004rqcoqa6g5vbi9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-zabbix-windows-agent" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/15/zabbix-windows-agent/" class="article-date">
  <time datetime="2017-03-15T04:12:15.000Z" itemprop="datePublished">2017-03-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Monitor/">Monitor</a>►<a class="article-category-link" href="/categories/Monitor/zabbix/">zabbix</a>►<a class="article-category-link" href="/categories/Monitor/zabbix/zabbix-windows-agent/">zabbix windows agent</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/15/zabbix-windows-agent/">zabbix windows agent</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="zabbix-windows-agent-安装和配置"><a href="#zabbix-windows-agent-安装和配置" class="headerlink" title="zabbix windows agent 安装和配置"></a>zabbix windows agent 安装和配置</h3><ol>
<li><p>安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在官网下载windows zabbix agent客户端,解压到C盘(C:\zabbix),并在此目录下创建两个目录log(C:\zabbix\log)和conf.d(C:\zabbix\conf.d)</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">C:\zabbix\conf\zabbix_agentd.win.conf</span><br><span class="line"></span><br><span class="line">LogFile=C:\zabbix\<span class="built_in">log</span>\zabbix_agentd.log</span><br><span class="line">LogFileSize=20</span><br><span class="line">DebugLevel=3</span><br><span class="line">SourceIP=&#123;server_agent_ip&#125;</span><br><span class="line">EnableRemoteCommands=1</span><br><span class="line">LogRemoteCommands=1</span><br><span class="line">Server=&#123;server_ip&#125;</span><br><span class="line">ListenPort=10050</span><br><span class="line">StartAgents=3</span><br><span class="line">ServerActive=&#123;server_ip&#125;:10051</span><br><span class="line">Hostname=&#123;server_agent_ip&#125;</span><br><span class="line">HostMetadata=windows IIS SQLServer</span><br><span class="line">HostMetadataItem=system.uname</span><br><span class="line">RefreshActiveChecks=120</span><br><span class="line">BufferSend=5</span><br><span class="line">BufferSize=200</span><br><span class="line">MaxLinesPerSecond=100</span><br><span class="line">Timeout=10</span><br><span class="line">Include=C:\zabbix\conf.d/*.conf</span><br><span class="line">UnsafeUserParameters=1</span><br></pre></td></tr></table></figure>
</li>
<li><p>启动agent</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Ctrl+C 输入 cmd，进入dos终端:</span><br><span class="line"></span><br><span class="line">//进入zabbix 执行目录</span><br><span class="line"><span class="built_in">cd</span> C:\zabbix\bin\win64\</span><br><span class="line"></span><br><span class="line">//将服务安装到windows服务里面</span><br><span class="line">zabbix_agentd.exe -c C:\zabbix\conf\zabbix_agentd.win.conf -i</span><br><span class="line">通过services.msc命令,找到zabbix,进行启动</span><br><span class="line"></span><br><span class="line">//启动服务</span><br><span class="line">zabbix_agentd.exe -c C:\zabbix\conf\zabbix_agentd.win.conf -s</span><br><span class="line"></span><br><span class="line">//停止服务</span><br><span class="line">zabbix_agentd.exe -c C:\zabbix\conf\zabbix_agentd.win.conf -x</span><br><span class="line"></span><br><span class="line">//卸载客户端</span><br><span class="line">zabbix_agentd.exe -c C:\zabbix\conf\zabbix_agentd.win.conf -d</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/15/zabbix-windows-agent/" data-id="cjazey09t018rqcoqx30456e7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-nginx-location" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/14/nginx-location/" class="article-date">
  <time datetime="2017-03-13T23:37:02.000Z" itemprop="datePublished">2017-03-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/system-service/">system service</a>►<a class="article-category-link" href="/categories/system-service/nginx/">nginx</a>►<a class="article-category-link" href="/categories/system-service/nginx/nginx-location/">nginx location</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/14/nginx-location/">nginx location</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>user  nginx;<br>worker_processes auto;<br>worker_rlimit_nofile 65535;</p>
<p>events {<br>    use epoll;<br>    worker_connections 10240;<br>}</p>
<h2 id="virtual-host"><a href="#virtual-host" class="headerlink" title="virtual host"></a>virtual host</h2><p>http {<br>  log_format main ‘$remote_addr $remote_user [$time_local] “$request” $http_host ‘<br>                  ‘[$status] [$upstream_status] [$body_bytes_sent] “$http_referer” ‘<br>                  ‘“$http_user_agent” $ssl_protocol $ssl_cipher $upstream_addr ‘<br>                  ‘[$request_time] [$upstream_response_time]’;<br>  access_log /dev/stdout main;</p>
<p>  upstream haha{<br>    server 192.168.99.225:80 max_fails=2 fail_timeout=30s;<br>  }</p>
<p>  upstream hehe{<br>    server 192.168.99.232:80 max_fails=2 fail_timeout=30s;<br>  }</p>
<p>  server {<br>    listen       80;<br>    server_name  a.com;</p>
<pre><code>location / {
  root   html;
        index  index.html index.htm;
}

location /nginx_status {
  stub_status on;
  access_log off;
}

location  ^/(haha) {
  proxy_pass http://haha/haha.html;
  proxy_set_header   Host    $host;  
  proxy_set_header   X-Real-IP   $remote_addr;   
  proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;  
}

location ^~ /hehe {
  proxy_pass http://hehe/hehe.html;
  proxy_set_header   Host    $host;
  proxy_set_header   X-Real-IP   $remote_addr;
  proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;
}


access_log  /mnt/log/nginx/main_access.log  main;
</code></pre><p>  }<br>}</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/14/nginx-location/" data-id="cjazexzi20075qcoqobl8539x" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-mysql-command" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/13/mysql-command/" class="article-date">
  <time datetime="2017-03-13T06:44:28.000Z" itemprop="datePublished">2017-03-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/database/">database</a>►<a class="article-category-link" href="/categories/database/Mysql/">Mysql</a>►<a class="article-category-link" href="/categories/database/Mysql/mysql-command/">mysql command</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/13/mysql-command/">mysql command</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li><p>mysql创建数据库(utf8)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create database &#123;dbname&#125; default character <span class="built_in">set</span> utf8 collate utf8_general_ci;</span><br></pre></td></tr></table></figure>
</li>
<li><p>数据库授权</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; grant all privileges on *.* to <span class="string">'&#123;user&#125;@'</span>%<span class="string">' identified by '</span>&#123;password&#125;<span class="string">' with grant option;</span></span><br><span class="line"><span class="string">mysql&gt; flush privileges;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>实时查看参数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@10 ~]<span class="comment"># mysqladmin -uroot -S /mnt/data/mysql/3306/mysql.sock extended-status -r -i 1 |egrep 'Com_(select|insert|update|delete)'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>数据库查看超时时间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show global variables like &quot;%timeout%&quot;;</span><br><span class="line">+-----------------------------+----------+</span><br><span class="line">| Variable_name               | Value    |</span><br><span class="line">+-----------------------------+----------+</span><br><span class="line">| connect_timeout             | 10       |</span><br><span class="line">| delayed_insert_timeout      | 300      |</span><br><span class="line">| innodb_flush_log_at_timeout | 1        |</span><br><span class="line">| innodb_lock_wait_timeout    | 50       |</span><br><span class="line">| innodb_rollback_on_timeout  | OFF      |</span><br><span class="line">| interactive_timeout         | 300      |</span><br><span class="line">| lock_wait_timeout           | 31536000 |</span><br><span class="line">| net_read_timeout            | 30       |</span><br><span class="line">| net_write_timeout           | 60       |</span><br><span class="line">| rpl_stop_slave_timeout      | 31536000 |</span><br><span class="line">| slave_net_timeout           | 3600     |</span><br><span class="line">| wait_timeout                | 120      |</span><br><span class="line">+-----------------------------+----------+</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/03/13/mysql-command/" data-id="cjazexzh7006cqcoqc05e5q9p" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/19/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="page-number" href="/page/19/">19</a><span class="page-number current">20</span><a class="page-number" href="/page/21/">21</a><a class="page-number" href="/page/22/">22</a><span class="space">&hellip;</span><a class="page-number" href="/page/29/">29</a><a class="extend next" rel="next" href="/page/21/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AliCloud/">AliCloud</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/AliCloud/SDK/">SDK</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/AliCloud/SDK/Python-SDK/">Python SDK</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Android-install/">Android install</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Android-install/Android-studio-install/">Android studio install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/">Development</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/">Doc</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/HTTP-严格传输安全HSTS/">HTTP 严格传输安全HSTS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/HTTP协议/">HTTP协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/TCP-协议详解/">TCP 协议详解</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/TCP与socket区别/">TCP与socket区别</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/linux-文件描述符与打开文件之间的关系/">linux 文件描述符与打开文件之间的关系</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/linux-文件系统inode/">linux 文件系统inode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/一次完整的HTTP请求/">一次完整的HTTP请求</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Disk/">Disk</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Disk/disk-io-performance/">disk io performance</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Disk/disk-iostat/">disk iostat</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/">Distributed storage</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/">GlusterFS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-architecture/">GlusterFS architecture</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-info/">GlusterFS info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-install/">GlusterFS install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-workflow/">GlusterFS workflow</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Domain/">Domain</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Domain/nslookup-dns-search/">nslookup dns search</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HA/">HA</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HA/DRBD/">DRBD</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HA/DRBD/DRBD-install/">DRBD install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HA/keepalived/">keepalived</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HA/keepalived/keepalived-install/">keepalived install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/">IDE</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/Intellij/">Intellij</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/Intellij/Intellij-setting/">Intellij setting</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/vim/">vim</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/vim/vim-shortcut-key/">vim shortcut key</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/vim/vim-vimrc/">vim vimrc</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel/">Kernel</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel/kernel-memory/">kernel memory</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel/kernel-memory/kernel-共享内存/">kernel 共享内存</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/">Monitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/ganglia/">ganglia</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/ganglia/ganglia-install/">ganglia install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/hmonitor/">hmonitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/hmonitor/hmonitor-install/">hmonitor install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/htmonitor/">htmonitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/htmonitor/htmonitor-install/">htmonitor install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/smokeping/">smokeping</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/smokeping/smokeping-install/">smokeping install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/">zabbix</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/monitor/">monitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/monitor/zabbix-monitor-cpu/">zabbix monitor cpu</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/monitor/zabbix-monitor-mem/">zabbix monitor mem</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-auto-discover/">zabbix auto discover</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-grafana-install/">zabbix grafana install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-install/">zabbix install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-install-distributed/">zabbix install distributed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-item-and-tigger/">zabbix item and tigger</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-java-gateway/">zabbix java gateway</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-modify-login-user-passwd/">zabbix modify login user passwd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-optimization/">zabbix optimization</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-proxy-install/">zabbix proxy install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-server-support-chinese/">zabbix server support chinese</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-windows-agent/">zabbix windows agent</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/树莓派/">树莓派</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/树莓派/树莓派-GSM-语音短信报警/">树莓派 GSM 语音短信报警</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/监控/">监控</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/监控/监控知识体系/">监控知识体系</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/">Python Framework</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/Python-Django/">Python Django</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/Python-Django-setting/">Python Django setting</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/Python-tornado-install/">Python tornado install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/">Python Learn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-上下文管理器/">python 上下文管理器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-内存管理/">python 内存管理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-函数编程/">python 函数编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-变量/">python 变量</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-对象使用/">python 对象使用</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-对象的属性/">python 对象的属性</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-对象编程/">python 对象编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-数据类型/">python 数据类型</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-流程控制/">python 流程控制</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-爬虫/">python 爬虫</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-特殊方法/">python 特殊方法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-特殊说明/">python 特殊说明</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-装饰器/">python 装饰器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-过程编程/">python 过程编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-进阶/">python 进阶</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-闭包/">python 闭包</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/">Python install</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-error-info/">python error info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-pip-source-image/">python pip source image</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-pip-use/">python pip use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-pyenv-install/">python pyenv install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-setup-py/">python setup.py</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-source-install/">python source install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-virtualenv/">python virtualenv</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/">Python library</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/MySQLdb/">MySQLdb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/memory-profiler/">memory_profiler</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/time-datetime-calendar/">time datetime calendar</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-modules/">Python modules</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-modules/python-modules-path/">python modules path</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-modules/python-modules-pylint-and-ipython/">python modules pylint and ipython</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-other/">Python other</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-other/python-import-and-reload/">python import and reload</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/">Ruby</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/Ruby-install/">Ruby install</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/Ruby-install/Ruby-install/">Ruby install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/">TCP.IP</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/TCP-状态/">TCP 状态</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/TCP-IP模型/">TCP/IP模型</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/Wireshark-use/">Wireshark use</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/WeChat/">WeChat</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/WeChat/WeChat-enterprise/">WeChat enterprise</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/WeChat/WeChat-enterprise/WeChat-enterprise-API/">WeChat enterprise API</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/">automation</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/">git</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-command/">git command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-error/">git error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gitlab/">git gitlab</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gitolite/">git gitolite</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gogs/">git gogs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gogs-source-install/">git gogs source install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-init/">git init</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-workflow/">git workflow</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/jenkins/">jenkins</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/jenkins/jenkins-info/">jenkins info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/jenkins/jenkins-install/">jenkins install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/kvm/">kvm</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/kvm/kvm-install/">kvm install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/maven/">maven</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/maven/maven-install/">maven install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/nexus/">nexus</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/nexus/nexus-install/">nexus install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/nexus/nexus-proxy-maven/">nexus proxy maven</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/rpm/">rpm</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/rpm/rpm-package-build/">rpm package build</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/rpm/rpmbuild-spec/">rpmbuild spec</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/">salt</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-advanced-topic/">salt advanced topic</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-highstate/">salt highstate</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-info/">salt info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install/">salt install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install-HA/">salt install HA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install-distributed/">salt install distributed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install-standard/">salt install standard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-jinja2-grain-pillar-module/">salt jinja2 grain pillar module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-event-reactor/">salt manage event reactor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-grains/">salt manage grains</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-job/">salt manage job</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-module/">salt manage module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-pillar/">salt manage pillar</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-return/">salt manage return</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-states/">salt manage states</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-target/">salt manage target</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-master-syndic-install/">salt master syndic install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-master-conf/">salt master.conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-minion-conf/">salt minion.conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-raet/">salt raet</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-state-module/">salt state module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-syndic-conf/">salt syndic.conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-write-module-code/">salt write module code</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/svn/">svn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/svn/svn-auto-update/">svn auto update</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/svn/svn-checkout-bat/">svn checkout bat</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/svn/svn-server-for-windows/">svn server for windows</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/yum/">yum</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/yum/yum-server-install/">yum server install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/">database</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/">Mongo</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-auth/">mongo auth</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-error/">mongo error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-replication-auth-install/">mongo replication auth install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-replication-standard-install/">mongo replication standard install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-standard-install/">mongo standard install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/">Mysql</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-command/">mysql command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-error-info/">mysql error info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-explain/">mysql explain</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-grant/">mysql grant</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-index-options/">mysql index options</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-innodb-buffer-pool-flush/">mysql innodb buffer pool flush</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-master-slave/">mysql master slave</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-master-slave-switch/">mysql master slave switch</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-partition/">mysql partition</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-select-join/">mysql select join</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-slow-log/">mysql slow log</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-standard/">mysql standard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-table-size/">mysql table size</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-use-memory-as-disk/">mysql use memory as disk</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/">Postgresql</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-book-use/">postgresql book use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-master-slave-info/">postgresql master slave info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-master-slave/">postgresql master/slave</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-plugin-install/">postgresql plugin install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-standard/">postgresql standard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-tablespace-database-schema-table-user-role-relation/">postgresql tablespace database schema table user role relation</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-yum-install/">postgresql yum install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-常用命令/">postgresql 常用命令</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-数据库对象/">postgresql 数据库对象</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-数据库管理/">postgresql 数据库管理</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/">Redis</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-error/">redis error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-install/">redis install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-redis-trib-rb/">redis redis-trib.rb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-status/">redis status</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-use/">redis use</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/influxDB/">influxDB</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/influxDB/influxDB-install/">influxDB install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/golang/">golang</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/golang/go-env/">go env</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/">hadoop</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/">RabbitMQ</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-cluster/">RabbitMQ cluster</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-high-availability/">RabbitMQ high availability</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-info/">RabbitMQ info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-install/">RabbitMQ install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-python-pika/">RabbitMQ python pika</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-user-and-grant/">RabbitMQ user and grant</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-working-principle/">RabbitMQ working principle</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/beats/">beats</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/beats/beats-install/">beats install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/">datax</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/datax-info/">datax info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/datax-install/">datax install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/datax-job/">datax job</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/">elasticsearch</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-backup-and-restore/">elasticsearch backup and restore</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-command/">elasticsearch command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-core-component/">elasticsearch core component</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-exploring-your-cluster/">elasticsearch exploring your cluster</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-exploring-your-data/">elasticsearch exploring your data</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-four-search-type/">elasticsearch four search type</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-full-cluster-restart-upgrade/">elasticsearch full cluster restart upgrade</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-install/">elasticsearch install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-modifying-your-data/">elasticsearch modifying your data</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-rolling-upgrades/">elasticsearch rolling upgrades</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-safe-restart/">elasticsearch safe restart</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-shard/">elasticsearch shard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/how-to-tune-for-indexing-speed/">how to tune for indexing speed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/how-to-tune-for-search-speed/">how to tune for search speed</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/flume/">flume</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/flume/flume-info/">flume info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/flume/flume-install/">flume install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/grafana/">grafana</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/grafana/grafana-install/">grafana install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/hadoop/">hadoop</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/hadoop/hadoop-简介/">hadoop 简介</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/">kafka</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-add-topic-partition/">kafka add topic partition</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-add-topic-replicats/">kafka add topic replicats</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-broker-config/">kafka broker config</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-high-throughput/">kafka high throughput</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-info/">kafka info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-install/">kafka install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-manage-web/">kafka manage web</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-migrate-and-scale/">kafka migrate and scale</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-offset-monitor/">kafka offset monitor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-optimize/">kafka optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-use/">kafka use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-web-console/">kafka web console</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-with-zookeeper/">kafka with zookeeper</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kibana/">kibana</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kibana/kibana-install/">kibana install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/">logstash</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-config-file/">logstash config file</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-filter-grok/">logstash filter grok</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-info/">logstash info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-install/">logstash install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mycat/">mycat</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mycat/mycat-jvm-optimize/">mycat jvm optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mycat/mycat-web-install/">mycat web install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/">nsq</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/nsq-command/">nsq command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/nsq-info/">nsq info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/nsq-install/">nsq install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/">zookeeper</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-install/">zookeeper install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-monitor/">zookeeper monitor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-optimize/">zookeeper optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-use/">zookeeper use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-zab-protocol/">zookeeper zab protocol</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-env/">java env</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-jvm-optimize/">java jvm optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-jvm-opts/">java jvm opts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-jvm-原理/">java jvm 原理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-learn/">java learn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-learn/java-学习笔记/">java 学习笔记</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-log4j/">java log4j</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-performance-analysis/">java performance analysis</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-performance-analysis/jps/">jps</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/">k8s</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/k8s-dashboard-install/">k8s dashboard install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/k8s-install/">k8s install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/k8s-registry-install/">k8s registry install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/node/">node</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/node/node-install/">node install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/other/ACID/">ACID</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/分布式二阶段和三阶段提交协议/">分布式二阶段和三阶段提交协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/开源许可协议/">开源许可协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/网络带宽/">网络带宽</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/">system service</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/">Atlassian</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-https/">confluence https</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-install/">confluence install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-reset-passwd/">confluence reset passwd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-update/">confluence update</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/jira-https/">jira https</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/jira-install/">jira install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/jira-update/">jira update</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/mariadb-install/">mariadb install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/">CentOS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/Base-env/">Base env</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-common-use-scripts/">linux common use scripts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-history-info-setting/">linux history info setting</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-login-info/">linux login info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-nginx-install/">linux nginx install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-skill/">linux skill</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-system-init/">linux system init</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-内存插槽-内存信息/">linux 内存插槽 内存信息</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-扩容swap分区/">linux 扩容swap分区</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-物理CPU-CPU核数-逻辑CPU/">linux 物理CPU CPU核数 逻辑CPU</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-磁盘系统block区别/">linux 磁盘系统block区别</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-设置-包含头文件路径-和-动态库链接路径/">linux 设置 包含头文件路径 和 动态库链接路径</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/make提高源码编译速度/">make提高源码编译速度</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/NFS/">NFS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/NFS/nfs-exports-command/">nfs exports command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/NFS/nfs-install/">nfs install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Samba/">Samba</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Samba/samba-conf/">samba conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Samba/samba-install/">samba install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/">command</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/grep/">grep</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/pigz/">pigz</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/sed/">sed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/split/">split</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/tr/">tr</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/haproxy/">haproxy</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/haproxy/haproxy-install/">haproxy install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/">nginx</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-install/">nginx install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-location/">nginx location</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-rewrite/">nginx rewrite</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-status/">nginx status</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/ntpd/">ntpd</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/ntpd/ntpd-install/">ntpd install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openssl/">openssl</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openssl/openssl-certificate/">openssl certificate</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openvpn/">openvpn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openvpn/openvpn-install/">openvpn install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/rsync/">rsync</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/rsync/rsync-install/">rsync install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/supersord/">supersord</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/supersord/supersord-install/">supersord install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/">vsftpd</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/ftp-proxy/">ftp proxy</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/vsftpd-error/">vsftpd error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/vsftpd-info/">vsftpd info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/vsftpd-install/">vsftpd install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/">windows</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/cygwin-install/">cygwin install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/ipsec-set/">ipsec set</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/windows-modify-hosts/">windows modify hosts</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/SSL/">SSL</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/SSL/SSL-certificate/">SSL certificate</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/angular/">angular</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/angular/angular-install/">angular install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/hexo/">hexo</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/hexo/hexo-install/">hexo install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/sass/">sass</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/sass/sass-install/">sass install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/xml/">xml</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/xml/xml-format/">xml format</a></li></ul></li></ul></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/01/01/hello-everyone/">Hello Everyone</a>
          </li>
        
          <li>
            <a href="/2017/12/08/svn-checkout-bat/">svn checkout bat</a>
          </li>
        
          <li>
            <a href="/2017/12/08/svn-server-for-windows/">svn server for windows</a>
          </li>
        
          <li>
            <a href="/2017/12/08/nslookup-dns-search/">nslookup dns search</a>
          </li>
        
          <li>
            <a href="/2017/11/28/kafka-web-console/">kafka web console</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 penn<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>