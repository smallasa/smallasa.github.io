<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>smallasa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="smallasa">
<meta property="og:url" content="http://www.smallasa.com/page/4/index.html">
<meta property="og:site_name" content="smallasa">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="smallasa">
  
    <link rel="alternate" href="/atom.xml" title="smallasa" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">smallasa</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">I known what i do !</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.smallasa.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-linux-文件系统inode" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/15/linux-文件系统inode/" class="article-date">
  <time datetime="2017-09-15T02:15:24.000Z" itemprop="datePublished">2017-09-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Development/">Development</a>►<a class="article-category-link" href="/categories/Development/Doc/">Doc</a>►<a class="article-category-link" href="/categories/Development/Doc/linux-文件系统inode/">linux 文件系统inode</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/15/linux-文件系统inode/">linux 文件系统inode</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="linux-文件系统inode"><a href="#linux-文件系统inode" class="headerlink" title="linux 文件系统inode"></a>linux 文件系统inode</h3><ol>
<li><p>简介</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">inode是一个重要概念,是理解Unix/Linux文件系统和硬盘储存的基础</span><br><span class="line"></span><br><span class="line">理解inode,不仅有助于提高系统操作水平,还有助于体会Unix设计哲学,即:</span><br><span class="line">如何把底层的复杂性抽象成一个简单概念,从而大大简化用户接口</span><br></pre></td></tr></table></figure>
</li>
<li><p>inode是什么?</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">理解inode,</span><br><span class="line">首先,需要从文件存储说起,文件存储在硬盘上</span><br><span class="line">其次,硬盘的最小存储单位叫做&quot;扇区&quot;(Sector),每个扇区存储512字节(相当于0.5KB).</span><br><span class="line">然后,操作系统读取硬盘的时候,不会一个个扇区地读取,这样效率太低,而是一次性连续读取多个扇区,即一次性读取一个&quot;块&quot;(block).这种由多个扇区组成的&quot;块&quot;,是文件存取的最小单位.&quot;块&quot;的大小,最常见的是4KB,即连续八个&quot;扇区&quot;组成一个&quot;块&quot;.</span><br><span class="line">最后,文件的数据都储存在&quot;块&quot;中,我们还必须找到一个地方储存文件的元信息(比如,文件的创建者,文件的创建日期,文件的大小等等).这种储存文件元信息的区域就叫做inode,中文译名为&quot;索引节点&quot;.每一个文件都有对应的inode,里面包含了与该文件有关的一些信息</span><br></pre></td></tr></table></figure>
</li>
<li><p>inode的内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">inode包含的元信息:</span><br><span class="line">* 文件的字节数</span><br><span class="line">* 文件属主</span><br><span class="line">* 文件数组</span><br><span class="line">* 文件的读,写,执行权限</span><br><span class="line">* 文件数据块的位置</span><br><span class="line">* 链接数,即有多少文件名指向这个inode</span><br><span class="line">* 文件的时间戳:</span><br><span class="line">  ctime指inode上一次变动的时间</span><br><span class="line">  mtime指文件内容上一次变动的时间</span><br><span class="line">  atime指文件上一次打开的时间</span><br><span class="line"></span><br><span class="line">[root@dev ~]# touch smallasa.txt</span><br><span class="line">[root@dev ~]# stat smallasa.txt</span><br><span class="line">  File: ‘smallasa.txt’</span><br><span class="line">  Size: 0               Blocks: 0          IO Block: 4096   regular empty file</span><br><span class="line">Device: fd01h/64769d    Inode: 67237570    Links: 1</span><br><span class="line">Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)</span><br><span class="line">Access: 2017-09-15 10:28:57.304438000 +0800</span><br><span class="line">Modify: 2017-09-15 10:28:57.304438000 +0800</span><br><span class="line">Change: 2017-09-15 10:28:57.304438000 +0800</span><br><span class="line"> Birth: -</span><br></pre></td></tr></table></figure>
</li>
<li><p>inode的大小</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">inode也会消耗硬盘空间,所以硬盘格式化的时候,操作系统自动将硬盘分成两个区域:</span><br><span class="line">一个是数据区,用于存放文件数据</span><br><span class="line">一个是inode区(inode table),用于存放inode所包含的信息</span><br><span class="line"></span><br><span class="line">每个inode节点的大小，一般是128字节或256字节。inode节点的总数，在格式化时就给定，一般是每1KB或每2KB就设置一个inode。假定在一块1GB的硬盘中，每个inode节点的大小为128字节，每1KB就设置一个inode，那么inode table的大小就会达到128MB，占整块硬盘的12.8%。</span><br><span class="line"></span><br><span class="line">//查看磁盘inode总数,使用量</span><br><span class="line">[root@dev ~]# df -i</span><br><span class="line">Filesystem                 Inodes  IUsed     IFree IUse% Mounted on</span><br><span class="line">/dev/mapper/centos-root  18358272 113044  18245228    1% /</span><br><span class="line">devtmpfs                   483828    358    483470    1% /dev</span><br><span class="line">tmpfs                      485436      1    485435    1% /dev/shm</span><br><span class="line">tmpfs                      485436    424    485012    1% /run</span><br><span class="line">tmpfs                      485436     13    485423    1% /sys/fs/cgroup</span><br><span class="line">/dev/vdb                104857600  55773 104801827    1% /mnt</span><br><span class="line">/dev/vda1                  512000    330    511670    1% /boot</span><br><span class="line">tmpfs                      485436      1    485435    1% /run/user/0</span><br></pre></td></tr></table></figure>
</li>
<li><p>inode号码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">每个inode都有一个号码,操作系统用inode号码来识别不同的文件</span><br><span class="line"></span><br><span class="line">注意: Unix/Linux系统内部不使用文件名,而使用inode号码来识别文件.对于系统来说,文件名只是inode号码便于识别的别称或者绰号</span><br><span class="line"></span><br><span class="line">用户打开文件,实际上系统内部经过了三个步骤:</span><br><span class="line">首先,系统找到这个文件名对应的inode号码</span><br><span class="line">其次,通过inode号码,获取inode信息</span><br><span class="line">最后,根据inode信息,找到文件数据所在的block,读出数据</span><br><span class="line"></span><br><span class="line">//查看文件inode号</span><br><span class="line">[root@dev ~]# ls -i smallasa.txt</span><br><span class="line">67237570 smallasa.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>目录文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Unix/Linux系统中,目录(directory)也是一种文件.打开目录,实际上就是打开目录文件</span><br><span class="line">目录文件的结构非常简单,就是一系列目录项(dirent)的列表.每个目录项,由两部分组成:所包含文件的文件名,以及该文件名对应的inode号码</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@dev ~]# mkdir test</span><br><span class="line">[root@dev ~]# touch test/&#123;a,b,c&#125;</span><br><span class="line">[root@dev ~]# ls -i test/</span><br><span class="line">154095 a  154103 b  154104 c</span><br><span class="line">[root@dev ~]# ls -l test/</span><br><span class="line">total 0</span><br><span class="line">-rw-r--r-- 1 root root 0 Sep 15 10:55 a</span><br><span class="line">-rw-r--r-- 1 root root 0 Sep 15 10:55 b</span><br><span class="line">-rw-r--r-- 1 root root 0 Sep 15 10:55 c</span><br></pre></td></tr></table></figure>
</li>
<li><p>硬链接</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">一般情况下,文件名和inode号码是&quot;一一对应&quot;关系,每个inode号码对应一个文件名</span><br><span class="line">但是,Unix/Linux系统允许多个文件名指向同一个inode号码,这意味着可以用不同的文件名访问同样的内容,对文件内容进行修改,会影响到所有文件名,但是,删除一个文件名,不影响另一个文件名的访问.这种情况就被称为&quot;硬链接&quot;(hard link)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@dev ~]# ls -li smallasa.txt</span><br><span class="line">67237570 -rw-r--r-- 1 root root 0 Sep 15 10:59 smallasa.txt</span><br><span class="line">[root@dev ~]# ln smallasa.txt smallasa.A</span><br><span class="line">[root@dev ~]# ls -li smallasa.txt smallasa.A</span><br><span class="line">67237570 -rw-r--r-- 2 root root 0 Sep 15 10:59 smallasa.A</span><br><span class="line">67237570 -rw-r--r-- 2 root root 0 Sep 15 10:59 smallasa.txt</span><br><span class="line"></span><br><span class="line">如上:</span><br><span class="line">inode信息中有一项叫做&quot;链接数&quot;,记录指向该inode的文件名总数.</span><br><span class="line">每创建一个硬链接,会使得inode节点中的&quot;链接数&quot;加1</span><br><span class="line">每删除一个硬链接,会使得inode节点中的&quot;链接数&quot;减1</span><br><span class="line">inode节点中的&quot;链接数&quot;减到0,表明没有文件名指向这个inode,系统就会回收这个inode号码,以及其所对应block区域</span><br><span class="line"></span><br><span class="line">[root@dev ~]# mkdir test</span><br><span class="line">[root@dev ~]# ls -lia test/</span><br><span class="line">total 4</span><br><span class="line">68058947 drwxr-xr-x   2 root root    6 Sep 15 11:08 .</span><br><span class="line">67149953 dr-xr-x---. 17 root root 4096 Sep 15 11:08 ..</span><br><span class="line">[root@dev ~]# ls -liad test/</span><br><span class="line">68058947 drwxr-xr-x 2 root root 6 Sep 15 11:08 test/</span><br><span class="line"></span><br><span class="line">如上,</span><br><span class="line">创建目录时,默认会生成两个目录项: &quot;.&quot; 和 &quot;..&quot;</span><br><span class="line">前者的inode号码就是当前目录的inode号码,等同于当前目录的&quot;硬链接&quot;</span><br><span class="line">后者的inode号码就是当前目录的父目录的inode号码,等同于父目录的&quot;硬链接&quot;</span><br><span class="line">所以,任何一个目录的&quot;硬链接&quot;总数,总是等于2</span><br></pre></td></tr></table></figure>
</li>
<li><p>软连接</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">文件A和文件B的inode号码虽然不一样,但是文件A的内容是文件B的路径.当读取文件A时,系统会自动将访问者导向文件B.因此,无论打开哪一个文件,最终读取的都是文件B.这时,文件A就称为文件B的&quot;软链接&quot;(soft link)或者&quot;符号链接&quot;(symbolic link)</span><br><span class="line"></span><br><span class="line">这意味着,文件A依赖于文件B而存在,如果删除了文件B,打开文件A就会报错: &quot;No such file or directory&quot;.这是软链接与硬链接最大的不同: 文件A指向文件B的文件名,而不是文件B的inode号码,文件B的inode&quot;链接数&quot;不会因此发生变化</span><br><span class="line"></span><br><span class="line">[root@dev ~]# ls -li smallasa.txt</span><br><span class="line">67237570 -rw-r--r-- 1 root root 0 Sep 15 10:59 smallasa.txt</span><br><span class="line">[root@dev ~]# ln -s smallasa.txt smallasa.A</span><br><span class="line">[root@dev ~]# ls -li smallasa.txt smallasa.A</span><br><span class="line">68058948 lrwxrwxrwx 1 root root 12 Sep 15 11:14 smallasa.A -&gt; smallasa.txt</span><br><span class="line">67237570 -rw-r--r-- 1 root root  0 Sep 15 10:59 smallasa.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>inode的特殊作用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">由于inode号码与文件名分离,这种机制导致了一些Unix/Linux系统特有的现象:</span><br><span class="line">1.有时文件名包含特殊字符,无法正常删除.这时,直接删除inode节点,就能起到删除文件的作用</span><br><span class="line">2.移动文件或重命名文件时,只是改变文件名,不影响inode号码</span><br><span class="line">3.打开一个文件以后,系统就以inode号码来识别这个文件,不再考虑文件名.因此,系统无法从inode号码得知文件名</span><br><span class="line"></span><br><span class="line">第3点使得软件更新变得简单,可以在不关闭软件的情况下进行更新,不需要重启.因为系统通过inode号码,识别运行中的文件,不通过文件名.更新的时候,新版文件以同样的文件名,生成一个新的inode,不会影响到运行中的文件.等到下一次运行这个软件的时候,文件名就自动指向新版文件,旧版文件的inode则被回收.</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/09/15/linux-文件系统inode/" data-id="cjavy9jzm005p0coq3y9h0lfu" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linux-文件描述符与打开文件之间的关系" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/13/linux-文件描述符与打开文件之间的关系/" class="article-date">
  <time datetime="2017-09-13T11:01:48.000Z" itemprop="datePublished">2017-09-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Development/">Development</a>►<a class="article-category-link" href="/categories/Development/Doc/">Doc</a>►<a class="article-category-link" href="/categories/Development/Doc/linux-文件描述符与打开文件之间的关系/">linux 文件描述符与打开文件之间的关系</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/13/linux-文件描述符与打开文件之间的关系/">linux 文件描述符与打开文件之间的关系</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="linux-文件描述符与打开文件之间的关系"><a href="#linux-文件描述符与打开文件之间的关系" class="headerlink" title="linux 文件描述符与打开文件之间的关系"></a>linux 文件描述符与打开文件之间的关系</h3><ol>
<li><p>简述</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">在Linux系统中一切皆可以看成是文件.文件又可分为:普通文件,目录文件,链接文件和设备文件</span><br><span class="line"></span><br><span class="line">文件描述符(file descriptor)是内核为了高效管理已被打开的文件所创建的索引,其是一个非负整数(通常是小整数),用于指代被打开的文件,所有执行I/O操作的系统调用都通过文件描述符.</span><br><span class="line">例如: 程序刚刚启动的时候,0是标准输入,1是标准输出,2是标准错误.如果此时去打开一个新的文件,它的文件描述符会是3.</span><br><span class="line"></span><br><span class="line">POSIX标准要求每次打开文件时(含socket)必须使用当前进程中最小可用的文件描述符号码,因此,在网络通信过程中稍不注意就有可能造成串话.</span><br><span class="line"></span><br><span class="line">标准文件描述符图如下:</span><br><span class="line">文件描述符:  0             1               2</span><br><span class="line">用途:       标准输入       标准输出         标准错误</span><br><span class="line">POSIX标准:  STDIN_FILENO  STDOUT_FILENO   STDERR_FILENO  </span><br><span class="line">stdio流:    stdin         stdout          stderr</span><br></pre></td></tr></table></figure>
</li>
<li><p>文件描述限制</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">在编写文件操作的或者网络通信的软件时,初学者一般可能会遇到&quot;Too many open files&quot;的问题.这主要是因为文件描述符是系统的一个重要资源.</span><br><span class="line"></span><br><span class="line">虽然说系统内存有多少就可以打开多少的文件描述符,但是在实际实现过程中内核是会做相应的处理的,一般最大打开文件数会是系统内存的10%(以KB来计算,称之为系统级限制)</span><br><span class="line">与此同时,内核为了不让某一个进程消耗掉所有的文件资源,其也会对单个进程最大打开文件数做默认值处理(称之为用户级限制),默认值一般是1024</span><br><span class="line"></span><br><span class="line">查看系统级别的最大打开文件数: sysctl -a|grep fs.file-max</span><br><span class="line">查看用户级别的最大打开文件数: ulimit -n</span><br></pre></td></tr></table></figure>
</li>
<li><p>文件描述符和打开文件之间的关系</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">每一个文件描述符会与一个打开文件相对应,不同的文件描述符也会指向同一个文件.</span><br><span class="line">相同的文件可以被不同的进程打开也可以在同一个进程中被多次打开.</span><br><span class="line"></span><br><span class="line">系统为每一个进程维护了一个文件描述符表,该表的值都是从0开始的,所以在不同的进程中你会看到相同的文件描述符,这种情况下相同文件描述符有可能指向同一个文件,也有可能指向不同的文件.</span><br><span class="line"></span><br><span class="line">具体情况要具体分析,要理解具体其概况如何,需要查看由内核维护的3个数据结构:</span><br><span class="line">1.进程级的打开文件描述符表</span><br><span class="line">2.系统级的打开文件描述符表</span><br><span class="line">3.文件系统的i-node表</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">进程级的打开描述符表中的每一条信息都记录了单个文件描述符的相关信息:</span><br><span class="line">1.控制文件描述符操作的一组标志</span><br><span class="line">2.对打开文件句柄的引用</span><br><span class="line"></span><br><span class="line">内核对所有打开的文件维护有一个系统级的描述符表格(open file description table),也称之为打开文件表(open file table),并将表格中每条信息称为打开文件句柄(open file handle)</span><br><span class="line"></span><br><span class="line">一个打开文件句柄存储了一个与打开文件相关的全部信息,如下:</span><br><span class="line">1.当前文件偏移量(调用read()和write()时更新,或使用lseek()直接修改)</span><br><span class="line">2.打开文件时所使用的状态标识(即,open()的flags参数)</span><br><span class="line">3.文件访问模式(如调用open()时所设置的只读模式,只写模式或读写模式)</span><br><span class="line">4.与信号驱动相关的设置</span><br><span class="line">5.对该文件i-node对象的引用</span><br><span class="line">6.文件类型(如,常规文件,套接字或FIFO)和访问权限</span><br><span class="line">7.一个指针,指向该文件所持有的锁列表</span><br><span class="line">8.文件的各种属性,包括文件大小以及与不同类型操作相关的时间戳</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><img src="linux-文件描述符与打开文件之间的关系/文件描述符和打开文件之间的关系.jpg" alt="文件描述符与打开文件之间的关系"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">如上,文件描述符,打开的文件句柄以及i-node之间的关系</span><br><span class="line">图中,两个进程拥有诸多打开的文件描述符</span><br><span class="line">在进程A中,文件描述符1和30都指向了同一个打开的文件句柄(标号23).这可能是通过调用dup(),dup2(),fcntl()或者对同一个文件多次调用了open()函数而形成的</span><br><span class="line"></span><br><span class="line">进程A的文件描述符2和进程B的文件描述符2都指向了同一个打开的文件句柄(标号73).这种情形可能是在调用fork()后出现的(即,进程A,B是父子进程关系),或者当某进程通过UNIX域套接字将一个打开的文件描述符传递给另一个进程时,也会发生.再者是不同的进程独自去调用open函数打开了同一个文件,此时进程内部的描述符正好分配到与其他进程打开该文件的描述符一样</span><br><span class="line"></span><br><span class="line">此外,进程A的描述符0和进程B的描述符3分别指向不同的打开文件句柄,但这些句柄均指向i-node表的相同条目(1976).换言之,指向同一个文件.发生这种情况是因为每个进程各自对同一个文件发起了open()调用.同一个进程两次打开同一个文件,也会发生类似情况.</span><br></pre></td></tr></table></figure></p>
<ol>
<li>综上总结<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.由于进程级文件描述符表的存在,不同的进程中会出现相同的文件描述符,它们可能指向同一个文件,也可能指向不同的文件</span><br><span class="line">2.两个不同的文件描述符,若指向同一个打开文件句柄,将共享同一文件偏移量.因此,如果通过其中一个文件描述符来修改文件偏移量(调用read(),write()或lseek()),那么从另一个描述符中也会观察到变化,无论这两个文件描述符是否属于不同进程,还是同一个进程,情况都是如此</span><br><span class="line">3.要获取和修改打开的文件标志(如:O_APPEND,O_NONBLOCK和O_ASYNC),可执行fcntl()的F_GETFL和F_SETFL操作,其对作用域的约束与上一条颇为类似</span><br><span class="line">4.文件描述符标志(即,close-on-exec)为进程和文件描述符所私有.对这一标志的修改将不会影响同一进程或不同进程中的其他文件描述符</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/09/13/linux-文件描述符与打开文件之间的关系/" data-id="cjavy9jzi005m0coq7c4j1p87" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linux-内存插槽-内存信息" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/13/linux-内存插槽-内存信息/" class="article-date">
  <time datetime="2017-09-13T04:23:41.000Z" itemprop="datePublished">2017-09-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/system-service/">system service</a>►<a class="article-category-link" href="/categories/system-service/CentOS/">CentOS</a>►<a class="article-category-link" href="/categories/system-service/CentOS/linux-内存插槽-内存信息/">linux 内存插槽 内存信息</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/13/linux-内存插槽-内存信息/">linux 内存插槽 内存信息</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="linux-内存插槽-内存信息"><a href="#linux-内存插槽-内存信息" class="headerlink" title="linux 内存插槽 内存信息"></a>linux 内存插槽 内存信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">//查看内存插槽数</span><br><span class="line">dmidecode|grep &apos;Memory Device&apos;|wc -l</span><br><span class="line"></span><br><span class="line">//查看内存插槽上有几条内存</span><br><span class="line">dmidecode|grep -P -A5 &quot;Memory\s+Device&quot;|grep Size|grep -v Installed|wc -l</span><br><span class="line"></span><br><span class="line">//查看插槽上的内存大小</span><br><span class="line">dmidecode|grep -P -A5 &quot;Memory\s+Device&quot;|grep Size|grep -v Installed</span><br><span class="line"></span><br><span class="line">//查看最大支持内存数</span><br><span class="line">dmidecode|grep -P &apos;Maximum\s+Capacity&apos;</span><br><span class="line"></span><br><span class="line">//查看槽位上内存的速率,没插就是unknown</span><br><span class="line">dmidecode|grep -A16 &quot;Memory Device&quot;|grep &apos;Speed&apos;|grep -v Unknown</span><br><span class="line"></span><br><span class="line">//查看服务器机型</span><br><span class="line">dmidecode |grep -A 5 &quot;System Information&quot; |grep &quot;Product Name&quot;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/09/13/linux-内存插槽-内存信息/" data-id="cjavy9jze005j0coqi8rcss75" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linux-物理CPU-CPU核数-逻辑CPU" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/13/linux-物理CPU-CPU核数-逻辑CPU/" class="article-date">
  <time datetime="2017-09-13T04:07:06.000Z" itemprop="datePublished">2017-09-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/system-service/">system service</a>►<a class="article-category-link" href="/categories/system-service/CentOS/">CentOS</a>►<a class="article-category-link" href="/categories/system-service/CentOS/linux-物理CPU-CPU核数-逻辑CPU/">linux 物理CPU CPU核数 逻辑CPU</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/13/linux-物理CPU-CPU核数-逻辑CPU/">linux 物理CPU CPU核数 逻辑CPU</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="linux-物理CPU-CPU核数-逻辑CPU"><a href="#linux-物理CPU-CPU核数-逻辑CPU" class="headerlink" title="linux 物理CPU CPU核数 逻辑CPU"></a>linux 物理CPU CPU核数 逻辑CPU</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">物理CPU:</span><br><span class="line">       物理服务器上中插槽上的CPU个数</span><br><span class="line">       物理cpu数量,可以统计&quot;/proc/cpuinfo&quot;中不重复的&quot;physical id&quot;:</span><br><span class="line">       统计: cat /proc/cpuinfo| grep &quot;physical id&quot;| sort| uniq| wc -l</span><br><span class="line"></span><br><span class="line">CPU核数:           </span><br><span class="line">       一块CPU上面能处理数据的芯片组的数量</span><br><span class="line">       一般来说,&quot;物理CPU个数&quot; × &quot;每颗核数&quot; 就应该等于逻辑CPU的个数,如果不相等的话,则表示服务器的CPU支持超线程技术</span><br><span class="line">       统计: cat /proc/cpuinfo| grep &quot;cpu cores&quot;| uniq</span><br><span class="line"></span><br><span class="line">逻辑CPU:               </span><br><span class="line">       &quot;/proc/cpuinfo&quot;用来存储cpu硬件信息,其中列出了&quot;processor N&quot;,N表示逻辑CPU数,从0开始</span><br><span class="line">       一般情况,我们认为一颗cpu可以有多核,加上intel的超线程技术(HT),可以在逻辑上再分一倍数量的cpu core出来</span><br><span class="line">       逻辑CPU数量=物理cpu数量 x cpu cores 这个规格值 x 2(如果支持并开启ht,有的是4)</span><br><span class="line">       统计:  cat /proc/cpuinfo| grep &quot;processor&quot;| wc -l         </span><br><span class="line"></span><br><span class="line">CPU型号: cat /proc/cpuinfo | grep name |cut -f2 -d:|sort|uniq</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/09/13/linux-物理CPU-CPU核数-逻辑CPU/" data-id="cjavy9jzk005n0coqfel37sgi" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-TCP与socket区别" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/13/TCP与socket区别/" class="article-date">
  <time datetime="2017-09-13T03:08:10.000Z" itemprop="datePublished">2017-09-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Development/">Development</a>►<a class="article-category-link" href="/categories/Development/Doc/">Doc</a>►<a class="article-category-link" href="/categories/Development/Doc/TCP与socket区别/">TCP与socket区别</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/13/TCP与socket区别/">TCP与socket区别</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="TCP与socket区别"><a href="#TCP与socket区别" class="headerlink" title="TCP与socket区别"></a>TCP与socket区别</h3><ol>
<li><p>网络中进程之间如何通信?</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">进程通信的概念最初来源于单机系统.</span><br><span class="line">由于每个进程都在自己的地址范围内运行,为保证两个相互通信的进程之间既互不干扰又协调一致工作,</span><br><span class="line">操作系统为进程通信提供了相应设施,如:</span><br><span class="line">* UNIX BSD有: 管道(pipe),命名管道(named pipe),软中断信号(signal)</span><br><span class="line">* UNIX system V有: 消息(message),共享存储区(shared memory)和信号量(semaphore)等</span><br><span class="line">注意,他们都仅限于用在本机进程之间通信!</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">网络间进程通信要解决的是不同主机进程间的相互通信问题:</span><br><span class="line">首先,要解决网络间进程标识问题.同一主机上,不同进程可用进程号唯一标识;不同主机上,各自独立分配的进程号不能唯一标识该进程</span><br><span class="line">其次,要解决网络进程间多重协议的识别问题.操作系统支持的网络协议众多,不同协议的工作方式不同,地址格式也不同</span><br><span class="line"></span><br><span class="line">以上两个问题,TCP/IP协议族已经帮我们解决了:</span><br><span class="line">网络层的&quot;ip地址&quot;可以唯一标识网络中的主机;传输层的&quot;协议+端口&quot;可以唯一标识主机中的应用程序(进程)</span><br><span class="line">这样利用三元组(ip地址,协议,端口)就可以标识网络进程了,网络中的进程通信就可以利用这个标志与其它进程进行交互</span><br><span class="line"></span><br><span class="line">使用TCP/IP协议的应用程序通常采用应用编程接口 &quot;UNIX BSD的套接字(socket)&quot; 和 &quot;UNIX System V的TLI(已被淘汰)&quot; 来实现网络进程之间的通信.就目前而言,几乎所有的应用程序都是采用socket,而现在又是网络时代,网络中进程通信是无处不在,这就是我为什么说&quot;一切皆socket&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Socket在TCP/IP模型中的位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">TCP/IP协议存在于系统中,网络服务通过系统提供,在系统中增加支持TCP/IP的系统调用---Berkeley套接字,如:Socket,Connect,Send,Recv等</span><br><span class="line"></span><br><span class="line">TCP/IP协议族包括应用层,传输层,网络层,数据链路层,Socket是 应用层 与 TCP/IP协议族 通信的中间软件抽象层</span><br><span class="line">如图:</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><img src="TCP与socket区别/TCPIPsocket抽象层位置.jpg" alt="TCP/IP Socket抽象层位置"></p>
<ol>
<li><p>Socket是什么?</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">网络中的进程是通过socket来通信的,那什么是socket呢?</span><br><span class="line">Socket起源于UNIX,在Unix一切皆文件哲学的思想下.Socket可以用&quot;打开(open) –&gt; 读写(write/read) –&gt; 关闭(close)&quot;模式实现.服务器和客户端各自维护一个&quot;文件&quot;，在建立连接打开后，可以向自己文件写入内容供对方读取或者读取对方内容，通讯结束时关闭文件。</span><br><span class="line"></span><br><span class="line">通俗讲,Socket是应用层与TCP/IP协议族通信的中间软件抽象层,它是一组接口.在设计模式中,Socket其实就是一个门面模式,它把复杂的TCP/IP协议族隐藏在Socket接口后面,对用户来说,一组简单的接口就是全部,让Socket去组织数据,以符合指定的协议</span><br></pre></td></tr></table></figure>
</li>
<li><p>Socket通信流<br><img src="TCP与socket区别/Socket通信流.jpg" alt="Socket通信流"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">* socket()函数</span><br><span class="line">  int socket(int domain, int type, int protocol);</span><br><span class="line"></span><br><span class="line">  Socket函数对应于普通文件的打开操作.</span><br><span class="line">  普通文件的打开操作返回一个文件描述字,而socket()函数用于创建一个socket描述符(socket descriptor),它唯一标识一个socket.这个socket描述字跟文件描述字一样,后续的操作都有用到它,把它作为参数,通过它来进行一些读写操作.</span><br><span class="line"></span><br><span class="line">  创建socket的时候,可以指定不同的参数创建不同的socket描述符</span><br><span class="line">  Socket函数的三个参数分别为:</span><br><span class="line">  * domain,即协议域,又称为协议族(family)</span><br><span class="line">    常用的协议族有: AF_INET,AF_INET6,AF_LOCAL(或称AF_UNIX,Unix域socket),AF_ROUTE等等</span><br><span class="line">    协议族决定了socket的地址类型,在通信中必须采用对应的地址,如: AF_INET决定了要用ipv4地址(32位的)与端口号(16位的)的组合;AF_UNIX决定了要用一个绝对路径名作为地址</span><br><span class="line">  * type,指定socket类型</span><br><span class="line">    常用的socket类型有: SOCK_STREAM,SOCK_DGRAM,SOCK_RAW,SOCK_PACKET,SOCK_SEQPACKET等等</span><br><span class="line">  * protocol,指定协议</span><br><span class="line">    常用的协议有: IPPROTO_TCP,IPPTOTO_UDP,IPPROTO_SCTP,IPPROTO_TIPC等,它们分别对应TCP传输协议,UDP传输协议,STCP传输协议,TIPC传输协议</span><br><span class="line">  注意: 上面的type和protocol并不可以随意组合的,如: SOCK_STREAM不可以跟IPPROTO_UDP组合;当protocol为0时,会自动选择type类型对应的默认协议</span><br><span class="line"></span><br><span class="line">  当我们调用socket创建一个socket时,返回的socket描述符存在于协议族(address family，AF_XXX)空间中,但没有一个具体的地址.如果想要给它赋值一个地址,就必须调用bind()函数,否则就当调用connect(),listen()时系统会自动随机分配一个端口</span><br><span class="line"></span><br><span class="line">* bind()函数</span><br><span class="line">  bind()函数把一个地址族中的特定地址赋给socket</span><br><span class="line">  例如,对应AF_INET,AF_INET6就是把一个ipv4或ipv6地址和端口号组合赋给socket</span><br><span class="line"></span><br><span class="line">  int bind(int sockfd, const struct sockaddr *addr, socklen_t addrlen);</span><br><span class="line">  函数的三个参数分别为:</span><br><span class="line">  * sockfd,即socket描述字</span><br><span class="line">    它是通过socket()函数创建了,唯一标识一个socket.bind()函数就是将给这个描述字绑定一个名字</span><br><span class="line">  * addr,一个const struct sockaddr *指针,指向要绑定给sockfd的协议地址</span><br><span class="line">    这个地址结构根据地址创建socket时的地址协议族的不同而不同</span><br><span class="line">  * addrlen：对应的是地址的长度</span><br><span class="line"></span><br><span class="line">  通常服务器在启动的时候都会绑定一个众所周知的地址(如ip地址+端口号),用于提供服务,客户就可以通过它来接连服务器.而客户端就不用指定,有系统自动分配一个端口号和自身的ip地址组合.这就是为什么通常服务器端在listen之前会调用bind(),而客户端就不会调用,而是在connect()时由系统随机生成一个</span><br><span class="line"></span><br><span class="line">* listen(),connect()函数</span><br><span class="line">  如果作为一个服务器,在调用socket(),bind()之后就会调用listen()来监听这个socket</span><br><span class="line">  如果客户端这时调用connect()发出连接请求,服务器端就会接收到这个请求</span><br><span class="line"></span><br><span class="line">  int listen(int sockfd, int backlog);</span><br><span class="line">  int connect(int sockfd, const struct sockaddr *addr, socklen_t addrlen);</span><br><span class="line"></span><br><span class="line">  listen()函数的第一个参数即为要监听的socket描述字,第二个参数为相应socket可以排队的最大连接个数</span><br><span class="line">  socket()函数创建的socket默认是一个主动类型的,listen函数将socket变为被动类型的,等待客户的连接请求</span><br><span class="line"></span><br><span class="line">  connect()函数的第一个参数即为客户端的socket描述字,第二参数为服务器的socket地址,第三个参数为socket地址的长度.</span><br><span class="line">  客户端通过调用connect函数来建立与TCP服务器的连接</span><br><span class="line"></span><br><span class="line">* accept()函数</span><br><span class="line">  TCP服务器端依次调用socket(),bind(),listen()之后,就会监听指定的socket地址了</span><br><span class="line">  TCP客户端依次调用socket(),connect()之后就向TCP服务器发送了一个连接请求,TCP服务器监听到这个请求之后,就会调用accept()函数取接收请求,这样就建立好了连接.之后就可以开始网络I/O操作了,即类同于普通文件的读写I/O操作</span><br><span class="line"></span><br><span class="line">  int accept(int sockfd, struct sockaddr *addr, socklen_t *addrlen);</span><br><span class="line"></span><br><span class="line">  accept()函数的第一个参数为服务器的socket描述字,第二个参数为指向struct sockaddr *的指针,用于返回客户端的协议地址,第三个参数为协议地址的长度.如果accpet成功,那么其返回值是由内核自动生成的一个全新的描述字,代表与返回客户的TCP连接</span><br><span class="line"></span><br><span class="line">  注意:</span><br><span class="line">  accept的第一个参数为服务器的socket描述字,是服务器开始调用socket()函数生成的,称为监听socket描述字,而accept函数返回的是已连接的socket描述字.</span><br><span class="line">  一个服务器通常通常仅仅只创建一个监听socket描述字,它在该服务器的生命周期内一直存在.内核为每个由服务器进程接受的客户连接创建了一个已连接socket描述字,当服务器完成了对某个客户的服务,相应的已连接socket描述字就被关闭.</span><br><span class="line"></span><br><span class="line">* read()、write()函数等</span><br><span class="line">  建立好连接后,可以调用网络I/O进行读写操作了,即实现了网络中不同进程之间的通信.</span><br><span class="line">  网络I/O操作有下面几组:</span><br><span class="line">  * read()/write()</span><br><span class="line">  * recv()/send()</span><br><span class="line">  * readv()/writev()</span><br><span class="line">  * recvmsg()/sendmsg()</span><br><span class="line">  * recvfrom()/sendto()</span><br><span class="line">  推荐使用&quot;recvmsg()/sendmsg()&quot;函数,这两个函数是最通用的I/O函数,实际上可以把上面的其它函数都替换成这两个函数</span><br><span class="line"></span><br><span class="line">  read()函数是负责从fd中读取内容.当读成功时,read返回实际所读的字节数,如果返回的值是0表示已经读到文件的结束了,小于0表示出现了错误.如果错误为EINTR说明读是由中断引起的,如果是ECONNREST表示网络连接出了问题.</span><br><span class="line">  write()函数将buf中的nbytes字节内容写入文件描述符fd.成功时返回写的字节数.失败时返回-1,并设置errno变量.在网络程序中,当我们向套接字文件描述符写时有俩种可能:一个是write的返回值大于0,表示写了部分或者是全部的数据;一个是返回的值小于0,此时出现了错误.我们要根据错误类型来处理.如果错误为EINTR表示在写的时候出现了中断错误;如果为EPIPE表示网络连接出现了问题(对方已经关闭了连接)</span><br><span class="line"></span><br><span class="line">* close()函数</span><br><span class="line">  在服务器与客户端建立连接之后,会进行一些读写操作,完成了读写操作就要关闭相应的socket描述字,好比操作完打开的文件要调用fclose关闭打开的文件</span><br><span class="line"></span><br><span class="line">  int close(int fd);</span><br><span class="line">  close一个TCP socket的缺省行为时把该socket标记为以关闭,然后立即返回到调用进程.该描述字不能再由调用进程使用,也就是说不能再作为read或write的第一个参数.</span><br><span class="line"></span><br><span class="line">  注意: close操作只是使相应socket描述字的引用计数减1,只有当引用计数为0的时候,才会触发TCP客户端向服务器发送终止连接请求</span><br></pre></td></tr></table></figure>
</li>
<li><p>TCP三次握手之Socket<br><img src="TCP与socket区别/TCP三次握手之Socket.jpg" alt="TCP三次握手之Socket"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">第一次,当客户端调用connect时,触发了连接请求,向服务器发送了&quot;SYN=1,Seq=J&quot;包,这时connect进入阻塞状态</span><br><span class="line">第二次,服务器监听到连接请求(即收到&quot;SYN=1,Seq=J&quot;包),调用accept函数接收请求并向客户端发送&quot;ACK=1,ack=J+1 SYN=1,Seq=K&quot;,这时accept进入阻塞状态.</span><br><span class="line">第三次,客户端收到服务器的&quot;ACK=1,ack=J+1 SYN=1,Seq=K&quot;之后,这时connect返回,并对&quot;SYN=1,Seq=K&quot;进行确认.服务器收到&quot;ACK=1,ack=K+1，Seq=J+1&quot;时,accept返回.至此三次握手完毕,连接建立</span><br><span class="line"></span><br><span class="line">综上,客户端的connect在三次握手的第二个次返回,而服务器端的accept在三次握手的第三次返回</span><br></pre></td></tr></table></figure>
</li>
<li><p>TCP四次挥手之Socket<br><img src="TCP与socket区别/TCP四次挥手之Socket.jpg" alt="TCP四次挥手之Socket"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">第一次,某个应用进程首先调用close主动关闭连接,这时TCP发送一个&quot;FIN=1 Seq=M&quot;,客户端进入FIN_WAIT_1</span><br><span class="line">第二次,服务端接收到&quot;FIN=1 Seq=M&quot;之后,执行被动关闭,并返回&quot;ACK=1,ack=M+1 Seq=V&quot;进行确认.它的接收也作为文件结束符传递给应用进程,因为FIN的接收意味着应用进程在相应的连接上再也接收不到额外数据.此时服务端进入CLOSE_WAIT</span><br><span class="line">第三次,一段时间之后,接收到文件结束符的应用进程调用close关闭它的socket.这导致它的TCP也发送一个&quot;ACK=1,ack=M+1,FIN=1,Seq=K&quot;,此时服务端进入LAST_WAIT</span><br><span class="line">第四次,客户端接收到这个&quot;ACK=1,ack=M+1,FIN=1,Seq=K&quot;后,进入TIME_WAIT,同时发送一个确认包&quot;ACK=1,ack=K+1，Seq=M+1&quot;给服务端,服务端进入CLOSE状态,完成四次挥手.</span><br><span class="line"></span><br><span class="line">综上,客户端和服务端两边都会有一个FIN和ACK</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/09/13/TCP与socket区别/" data-id="cjavy9ju3000z0coqpfdn49kb" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-TCP-协议详解" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/12/TCP-协议详解/" class="article-date">
  <time datetime="2017-09-12T10:03:37.000Z" itemprop="datePublished">2017-09-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Development/">Development</a>►<a class="article-category-link" href="/categories/Development/Doc/">Doc</a>►<a class="article-category-link" href="/categories/Development/Doc/TCP-协议详解/">TCP 协议详解</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/12/TCP-协议详解/">TCP 协议详解</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="TCP-协议详解"><a href="#TCP-协议详解" class="headerlink" title="TCP 协议详解"></a>TCP 协议详解</h3><ol>
<li><p>为什么会有TCP/IP协议</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">在世界上各地,各种各样的电脑运行着各自不同的操作系统为人提供服务,这些电脑在表达同一种信息的时候所使用的方法是千差万别.计算机使用者意识到,计算机只是单兵作战并不会发挥太大的作用,只有把它们联合起来,电脑才会发挥出它最大的潜力.于是人们就想方设法的用电线把电脑连接到了一起.但简单的连到一起是远远不够的,就好像语言不同的两个人互相见了面,完全不能交流信息.因此他们需要定义一些共通的东西来进行交流,TCP/IP就是为此而生</span><br><span class="line"></span><br><span class="line">TCP/IP不是一个协议,而是一个协议族的统称.里面包含的协议:</span><br><span class="line">应用层: TFTP,HTTP,SNMP,FTP,SMTP,DNS,Telnet等等</span><br><span class="line">传输层: TCP,UDP</span><br><span class="line">网络层: IP,ICMP,OSPF,EIGRP,IGMP</span><br><span class="line">数据链路层: SLIP,CSLIP,PPP,MTU</span><br></pre></td></tr></table></figure>
</li>
<li><p>TCP/IP协议分层<br><img src="TCP-协议详解/TCPIP协议分层.jpg" alt="TCP/IP协议分层"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">TCP/IP协议族按照层次由上到下,层层包装:</span><br><span class="line">* 应用层</span><br><span class="line">  向用户提供一组常用的应用程序,比如: 电子邮件,文件传输访问,远程登录等</span><br><span class="line">* 传输层</span><br><span class="line">  提供应用程序间的通信.其功能包括:</span><br><span class="line">  1.格式化信息流</span><br><span class="line">  2.提供可靠传输</span><br><span class="line">  为实现后者,传输层协议规定接收端必须发回确认,并且假如分组丢失,必须重新发送</span><br><span class="line">* 网络层</span><br><span class="line">  负责相邻计算机之间的通信.其功能包括三方面:</span><br><span class="line">  1.处理来自传输层的分组发送请求,收到请求后,将分组装入IP数据报,填充报头,选择去往信宿机的路径,然后将数据报发往适当的网络接口</span><br><span class="line">  2.处理输入数据报,首先检查其合法性,然后进行寻径</span><br><span class="line">    假如该数据报已到达信宿机,则去掉报头,将剩下部分交给适当的传输协议</span><br><span class="line">    假如该数据报尚未到达信宿,则转发该数据报</span><br><span class="line">  3.处理路径,流控,拥塞等问题</span><br><span class="line">* 网络接口层</span><br><span class="line">  这是TCP/IP软件的最低层,负责接收IP数据报并通过网络发送之,或者从网络上接收物理帧,抽出IP数据报,交给IP层</span><br></pre></td></tr></table></figure>
</li>
<li><p>IP是无连接的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IP用于计算机之间的通信</span><br><span class="line"></span><br><span class="line">IP是无连接的通信协议.它不会占用两个正在通信的计算机之间的通信线路.这样,IP就降低了对网络线路的需求.每条线可以同时满足许多不同的计算机之间的通信需要.通过IP,消息(或者其他数据)被分割为小的独立的包,并通过因特网在计算机之间传送</span><br><span class="line"></span><br><span class="line">IP负责将每个包路由至它的目的地</span><br></pre></td></tr></table></figure>
</li>
<li><p>IP地址</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">每个计算机必须有一个IP地址才能够连入因特网.每个IP包必须有一个地址才能够发送到另一台计算机</span><br><span class="line"></span><br><span class="line">网络上每一个节点都必须有一个独立的Internet地址(也叫做IP地址).现在,通常使用的IP地址是一个32bit的数字,也就是我们常说的IPv4标准,这32bit的数字分成四组,也就是常见的255.255.255.255的样式.IPv4标准上,地址被分为五类,我们常用的是B类地址.需要注意的是IP地址是&quot;网络号+主机号&quot;的组合,这非常重要</span><br><span class="line"></span><br><span class="line">TCP/IP使用32个比特来编址.一个计算机字节是8比特.所以TCP/IP使用了4个字节</span><br><span class="line">一个计算机字节可以包含256个不同的值:</span><br><span class="line">00000000,00000001,00000010,00000011,00000100......11111111</span><br><span class="line">现在,你知道了为什么TCP/IP地址是介于0到255之间的4个数字</span><br></pre></td></tr></table></figure>
</li>
<li><p>TCP 使用固定的连接</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">TCP用于应用程序之间的通信</span><br><span class="line"></span><br><span class="line">当应用程序希望通过TCP与另一个应用程序通信时,它会发送一个通信请求.这个请求必须被送到一个确切的地址.在双方&quot;握手&quot;之后,TCP将在两个应用程序之间建立一个全双工(full-duplex)的通信</span><br><span class="line"></span><br><span class="line">这个全双工的通信将占用两个计算机之间的通信线路,直到它被一方或双方关闭为止</span><br><span class="line"></span><br><span class="line">UDP和TCP很相似,但是更简单,同时可靠性低于TCP</span><br></pre></td></tr></table></figure>
</li>
<li><p>IP 路由器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">当一个IP包从一台计算机被发送,它会到达一个IP路由器</span><br><span class="line">IP路由器负责将这个包路由至它的目的地,直接地或者通过其他的路由器.</span><br><span class="line">在一个相同的通信中,一个包所经由的路径可能会和其他的包不同.而路由器负责根据通信量,网络中的错误或者其他参数来进行正确地寻址</span><br></pre></td></tr></table></figure>
</li>
<li><p>域名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">12个阿拉伯数字很难记忆.使用一个名称更容易.</span><br><span class="line">用于TCP/IP地址的名字被称为域名.例如: www.baidu.com</span><br><span class="line"></span><br><span class="line">当你在浏览器输入&quot;http://www.baidu.com&quot;,并按下回车键后,域名会被一种DNS程序翻译为IP地址</span><br><span class="line">在全世界,数量庞大的DNS服务器被连入因特网.DNS服务器负责将域名翻译为TCP/IP地址,同时负责使用新的域名信息更新彼此的系统.当一个新的域名连同其TCP/IP地址一同注册后,全世界的DNS服务器都会对此信息进行更新</span><br></pre></td></tr></table></figure>
</li>
<li><p>TCP/IP</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">TCP/IP 意味着TCP和IP在一起协同工作</span><br><span class="line">TCP负责应用软件和网络软件之间的通信;IP负责计算机之间的通信</span><br><span class="line">TCP负责将数据分割并装入IP包,然后在它们到达的时候重新组合它们;IP负责将包发送至接受者</span><br></pre></td></tr></table></figure>
</li>
<li><p>TCP报文格式<br><img src="TCP-协议详解/TCP报文格式.jpg" alt="TCP报文格式"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">* 16位源端口号 和 16位目标端口号</span><br><span class="line">  16位的源端口占用2个字节(1个字节占用8位)</span><br><span class="line">  端口是传输层与应用层的服务接口,传输层的复用和分用功能都需要通过端口才能实现</span><br><span class="line"></span><br><span class="line">* 32位序列号</span><br><span class="line">  32位序列号占用四个字节</span><br><span class="line">  TCP连接中传送的数据流中,当SYN出现,序列码实际上是初始序列码(Initial Sequence Number,ISN),而第一个数据字节是ISN+1.这个序列号(序列码)可用来补偿传输中的不一致</span><br><span class="line"></span><br><span class="line">* 32位确认序号</span><br><span class="line">  32位确认序号占用四个字节</span><br><span class="line">  32位的序列号是期望收到对方的下一个报文段的数据的第一个字节的序号,</span><br><span class="line">  如果设置了ACK控制位,这个值表示一个准备接收的包的序列码</span><br><span class="line"></span><br><span class="line">* 4位数据偏移(首部长度)</span><br><span class="line">  4位数据偏移(首部长度)占用1个字节</span><br><span class="line">  4位包括TCP头大小,指示何处数据开始</span><br><span class="line"></span><br><span class="line">* 6位保留</span><br><span class="line">  6位保留为了将来定义新的用途而保留,目前设置为0</span><br><span class="line"></span><br><span class="line">* 标志</span><br><span class="line">  6位标志域:</span><br><span class="line">  URG 紧急标志,当URG=1时,表明紧急指针字段有效.它告诉系统此报文段中有紧急数据,应尽快传送(相当于高优先级的数据)</span><br><span class="line">  ACK 有意义的应答标志,只有当ACK=1时确认号字段才有效,当ACK=0时,确认号无效</span><br><span class="line">  PSH 推,TCP接收到PSH=1的报文段,就尽快地交付接收应用进程,而不再等到整个缓存都填满了后再向上交付</span><br><span class="line">  RST 重置连接标志,当RST=1时,表明TCP连接中出现严重差错,必须释放连接,然后再重新建立运输连接</span><br><span class="line">  SYN 同步序列号标志,当SYN=1表示这是一个连接请求或连接接受报文</span><br><span class="line">  FIN 完成发送数据标志,当FIN=1表明此报文段的发送端的数据已发送完毕,并要求释放连接</span><br><span class="line"></span><br><span class="line">* 16位窗口大小</span><br><span class="line">  用来表示想收到的每个TCP数据段的大小.TCP的流量控制由连接的每一端通过声明的窗口大小来提供.窗口大小为字节数,起始于确认序号字段指明的值,这个值是接收端正期望接收的字节.窗口大小是一个16字节字段,因而窗口大小最大为65535字节</span><br><span class="line"></span><br><span class="line">* 16位校验和</span><br><span class="line">  16位TCP头.源机器基于数据内容计算一个数值,收信息机要与源机器数值结果完全一样,从而证明数据的有效性.检验和覆盖了整个的TCP报文段:这是一个强制性的字段,一定是由发送端计算和存储,并由接收端进行验证的</span><br><span class="line"></span><br><span class="line">* 16位紧急指针</span><br><span class="line">  指向后面是优先数据的字节,在URG标志设置了时才有效</span><br><span class="line">  如果URG标志没有被设置,紧急域作为填充.加快处理标示为紧急的数据段</span><br><span class="line"></span><br><span class="line">* 选项</span><br><span class="line">  长度不定,但长度必须为1个字节.如果没有选项就表示这个1字节的域等于0</span><br><span class="line"></span><br><span class="line">* 数据</span><br><span class="line">  该TCP协议包负载的数据</span><br><span class="line"></span><br><span class="line">六位标志域的各个选项功能如下:</span><br><span class="line">URG: 紧急标志.紧急标志为&quot;1&quot;表明该位有效</span><br><span class="line">ACK: 确认标志.表明确认编号栏有效.大多数情况下该标志位是置位的.TCP报头内的确认编号栏内包含的确认编号(w+1)为下一个预期的序列编号,同时提示远端系统已经成功接收所有数据</span><br><span class="line">PSH: 推标志.该标志置位时,接收端不将该数据进行队列处理,而是尽可能快地将数据转由应用处理.在处理Telnet或rlogin等交互模式的连接时,该标志总是置位的</span><br><span class="line">RST: 复位标志.用于复位相应的TCP连接</span><br><span class="line">SYN: 同步标志.表明同步序列编号栏有效.该标志仅在三次握手建立TCP连接时有效.它提示TCP连接的服务端检查序列编号,该序列编号为TCP连接初始端的初始序列编号.在这里,可以把TCP序列编号看作是一个范围从0到4,294,967,295的32位计数器.通过TCP连接交换的数据中每一个字节都经过序列编号.在TCP报头中的序列编号栏包括了TCP分段中第一个字节的序列编号</span><br><span class="line">FIN: 结束标志</span><br></pre></td></tr></table></figure>
</li>
<li><p>TCP三次握手<br><img src="TCP-协议详解/TCP三次握手.jpg" alt="TCP三次握手"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">第一次握手: Client将标志位SYN置为1,随机产生一个值seq=J,并将该数据包发送给Server,Client进入SYN_SENT状态,等待Server确认</span><br><span class="line">第二次握手: Server收到数据包后,由标志位SYN=1知道Client请求建立连接,Server将标志位ACK设置为1,ack设置为J+1,将标志位SYN设置为1,并随机产生一个值seq=K,Server将该数据包发送给Client以确认连接请求,Server进入SYN_RCVD状态</span><br><span class="line">第三次握手: Client收到确认后,检查ack是否为J+1,ACK是否为1.如果正确则将标志位ACK置为1,ack=K+1,并将该数据包发送给Server.Server检查ack是否为K+1,ACK是否为1,如果正确则连接建立成功.Client和Server进入ESTABLISHED状态,完成三次握手,随后Client与Server之间可以开始传输数据了</span><br><span class="line"></span><br><span class="line">SYN攻击:</span><br><span class="line">在三次握手过程中,Server发送SYN-ACK之后,收到Client的ACK之前的TCP连接称为半连接(half-open connect),此时Server处于SYN_RCVD状态,当收到ACK后,Server转入ESTABLISHED状态.SYN攻击就是Client在短时间内伪造大量不存在的IP地址,并向Server不断地发送SYN包,Server回复确认包,并等待Client的确认,由于源地址是不存在的,因此Server需要不断重发直至超时,这些伪造的SYN包将长时间占用未连接队列,导致正常的SYN请求因为队列满而被丢弃,从而引起网络堵塞甚至系统瘫痪.SYN攻击时一种典型的DDOS攻击,检测SYN攻击的方式非常简单,即当Server上有大量半连接状态且源IP地址是随机的,则可以断定遭到SYN攻击了,使用如下命令可以让之现行: netstat -nap | grep SYN_RECV</span><br></pre></td></tr></table></figure>
</li>
<li><p>TCP四次挥手<br><img src="TCP-协议详解/TCP四次挥手.jpg" alt="TCP报文格式"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">四次挥手(Four-Way Wavehand),即终止TCP连接,就是指断开一个TCP连接时,需要客户端和服务端总共发送4个包以确认连接的断开.在socket编程中,这一过程由客户端或服务端任一方执行close来触发.</span><br><span class="line"></span><br><span class="line">由于TCP连接时全双工的,因此每个方向都必须要单独进行关闭.这一原则是当一方完成数据发送任务后,发送一个FIN来终止这一方向的连接,收到一个FIN只是意味着这一方向上没有数据流动了,即不会再收到数据了.但是在这个TCP连接上仍然能够发送数据,直到这一方向也发送了FIN.首先进行关闭的一方将执行主动关闭,而另一方则执行被动关闭.</span><br><span class="line"></span><br><span class="line">第一次挥手: Client发送一个&quot;FIN M&quot;,用来关闭Client到Server的数据传送,Client进入FIN_WAIT_1状态</span><br><span class="line">第二次挥手: Server收到&quot;FIN M&quot;后,发送一个&quot;ACK=1,ack=M+1&quot;给Client,确认序号为&quot;M+1&quot;,Server进入CLOSE_WAIT状态,client进入FIN_WAIT_2状态</span><br><span class="line">第三次挥手: Server发送一个&quot;FIN N&quot;,用来关闭Server到Client的数据传送,Server进入LAST_ACK状态</span><br><span class="line">第四次挥手: Client收到&quot;FIN N&quot;后,Client进入TIME_WAIT状态,接着发送一个&quot;ACK=1,ack=N+1&quot;给Server,确认序号为&quot;N+1&quot;,Server进入CLOSED状态,完成四次挥手</span><br></pre></td></tr></table></figure>
</li>
<li><p>TCP 三次握手 和 四次挥手问题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">问题一: 为什么建立连接是三次握手,而关闭连接却是四次挥手呢?</span><br><span class="line">解答:</span><br><span class="line">这是因为服务端在LISTEN状态下,收到建立连接请求的SYN报文后,把ACK和SYN放在一个报文里发送给客户端.而关闭连接时,当收到对方的FIN报文时,仅仅表示对方不再发送数据了但是还能接收数据,己方也未必全部数据都发送给对方了,所以己方可以立即close,也可以发送一些数据给对方后,再发送FIN报文给对方来表示同意现在关闭连接,因此,己方ACK和FIN一般都会分开发送</span><br><span class="line"></span><br><span class="line">问题二: 为什么TIME_WAIT状态需要经过2MSL(最大报文段生存时间)才能返回到CLOSE状态?</span><br><span class="line">解答:</span><br><span class="line">原因一: 保证TCP协议的全双工连接能够可靠关闭</span><br><span class="line">原因二: 保证这次连接的重复数据段从网络中消失</span><br><span class="line"></span><br><span class="line">先说原因一,如果Client直接CLOSED了,那么由于IP协议的不可靠性或者是其它网络原因,导致Server没有收到Client最后回复的ACK.那么Server就会在超时之后继续发送FIN,此时由于Client已经CLOSED了,就找不到与重发的FIN对应的连接,最后Server就会收到RST而不是ACK,Server就会以为是连接错误把问题报告给高层.这样的情况虽然不会造成数据丢失,但是却导致TCP协议不符合可靠连接的要求.所以,Client不是直接进入CLOSED,而是要保持TIME_WAIT,当再次收到FIN的时候,能够保证对方收到ACK,最后正确的关闭连接</span><br><span class="line"></span><br><span class="line">再说原因二,如果Client直接CLOSED,然后又再向Server发起一个新连接,我们不能保证这个新连接与刚关闭的连接的端口号是不同的.也就是说有可能新连接和老连接的端口号是相同的.一般来说不会发生什么问题,但是还是有特殊情况出现:假设新连接和已经关闭的老连接端口号是一样的,如果前一次连接的某些数据仍然滞留在网络中,这些延迟数据在建立新连接之后才到达Server,由于新连接和老连接的端口号是一样的,又因为TCP协议判断不同连接的依据是socket pair,于是,TCP协议就认为那个延迟的数据是属于新连接的,这样就和真正的新连接的数据包发生混淆了.所以TCP连接还要在TIME_WAIT状态等待2倍MSL,这样可以保证本次连接的所有数据都从网络中消失</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/09/12/TCP-协议详解/" data-id="cjavy9jtz000w0coq3qjnfdki" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linux-磁盘系统block区别" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/11/linux-磁盘系统block区别/" class="article-date">
  <time datetime="2017-09-11T11:10:11.000Z" itemprop="datePublished">2017-09-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/system-service/">system service</a>►<a class="article-category-link" href="/categories/system-service/CentOS/">CentOS</a>►<a class="article-category-link" href="/categories/system-service/CentOS/linux-磁盘系统block区别/">linux 磁盘系统block区别</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/11/linux-磁盘系统block区别/">linux 磁盘系统block区别</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="linux磁盘block和系统block区别"><a href="#linux磁盘block和系统block区别" class="headerlink" title="linux磁盘block和系统block区别"></a>linux磁盘block和系统block区别</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">磁盘里面和文件系统里面都有一个叫&quot;block size&quot;的值,但它们的大小不一定一样.</span><br><span class="line">磁盘里面一般都是512bytes;文件系统里面的不一定也是512bytes,一般是1024bytes</span><br><span class="line"></span><br><span class="line">例如:</span><br><span class="line">[root@dev ~]# fdisk -l /dev/vda</span><br><span class="line">Disk /dev/vda: 21.5 GB, 21474836480 bytes, 41943040 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes   # 512 表示单个磁盘 block 是 512字节</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk label type: dos</span><br><span class="line">Disk identifier: 0x0009d5a6</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/vda1   *        2048     1026047      512000   83  Linux</span><br><span class="line">/dev/vda2         1026048    41943039    20458496   8e  Linux LVM</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@dev ~]# tune2fs -l /dev/vda1 |grep &quot;Block size&quot;</span><br><span class="line">Block size:               1024</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/09/11/linux-磁盘系统block区别/" data-id="cjavy9jzo005q0coqs96gyrpf" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linux-扩容swap分区" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/11/linux-扩容swap分区/" class="article-date">
  <time datetime="2017-09-11T07:51:04.000Z" itemprop="datePublished">2017-09-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/system-service/">system service</a>►<a class="article-category-link" href="/categories/system-service/CentOS/">CentOS</a>►<a class="article-category-link" href="/categories/system-service/CentOS/linux-扩容swap分区/">linux 扩容swap分区</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/11/linux-扩容swap分区/">linux 扩容swap分区</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="linux-扩容swap分区"><a href="#linux-扩容swap分区" class="headerlink" title="linux 扩容swap分区"></a>linux 扩容swap分区</h3><ol>
<li><p>扩容swap分区</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">扩容swap分区,有三种方式:</span><br><span class="line">方式一: 扩展正在使用的Swap分区的逻辑卷(lvm)</span><br><span class="line">方式二: 新建Swap分区(lvm)</span><br><span class="line">方式三: 新建swap file(dd)</span><br></pre></td></tr></table></figure>
</li>
<li><p>方式三: 新建swap file(dd)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//创建交换分区文件(60G)</span><br><span class="line">dd if=/dev/zero of=/swapfile bs=1024 count=62914560</span><br><span class="line"></span><br><span class="line">//格式化swapfile</span><br><span class="line">mkswap -f /swapfile</span><br><span class="line"></span><br><span class="line">//实现开机自动挂载交换文件</span><br><span class="line">echo &apos;/swapfile swap swap defaults 0 0&apos;|tee -a /etc/fstab</span><br><span class="line"></span><br><span class="line">//启用swapfile</span><br><span class="line">swapon /swapfile</span><br><span class="line"></span><br><span class="line">//查看swap</span><br><span class="line">free -m</span><br><span class="line">cat /proc/swaps</span><br><span class="line"></span><br><span class="line">//删除swap交换分区</span><br><span class="line">a.禁用swapfile</span><br><span class="line">  swapoff /swapfile</span><br><span class="line">b.从/etc/fstab 中删除项目</span><br><span class="line">c.使用fdisk或yast工具删除分区。</span><br></pre></td></tr></table></figure>
</li>
<li><p>扩展正在使用的Swap分区的逻辑卷(lvm)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//关闭该卷的Swap分区</span><br><span class="line">swapoff -v /dev/VolGroup00/LogVol01</span><br><span class="line"></span><br><span class="line">//为该卷的容量增加1024M</span><br><span class="line">lvm lvresize /dev/VolGroup00/LogVol01 -L +1024M</span><br><span class="line"></span><br><span class="line">//格式化Swap分区</span><br><span class="line">mkswap /dev/VolGroup00/LogVol01    </span><br><span class="line"></span><br><span class="line">//启用Swap分区</span><br><span class="line">swapon -va    </span><br><span class="line"></span><br><span class="line">//验证结果</span><br><span class="line">free -m</span><br></pre></td></tr></table></figure>
</li>
<li><p>方式二: 新建Swap分区(lvm)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//新建一个1024M大小的逻辑卷</span><br><span class="line">lvm lvcreate VolGroup00 -n LogVol02 -L 1024M    </span><br><span class="line"></span><br><span class="line">//格式化成Swap分区</span><br><span class="line">mkswap /dev/VolGroup00/LogVol02    </span><br><span class="line"></span><br><span class="line">//将这个分区信息写进fstab文件(相当于分区表)</span><br><span class="line">echo &apos;/dev/VolGroup00/LogVol02 swap swap defaults 0 0&apos;|tee -a /etc/fstab</span><br><span class="line"></span><br><span class="line">//启动Swap分区</span><br><span class="line">swapon -va    </span><br><span class="line"></span><br><span class="line">//验证结果</span><br><span class="line">free -m</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/09/11/linux-扩容swap分区/" data-id="cjavy9jzg005k0coqwk76nfsh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-HTTP协议" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/11/HTTP协议/" class="article-date">
  <time datetime="2017-09-11T01:34:15.000Z" itemprop="datePublished">2017-09-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Development/">Development</a>►<a class="article-category-link" href="/categories/Development/Doc/">Doc</a>►<a class="article-category-link" href="/categories/Development/Doc/HTTP协议/">HTTP协议</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/11/HTTP协议/">HTTP协议</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a>HTTP协议</h3><ol>
<li>HTTP 简介<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HTTP协议是 Hyper Text Transfer Protocol(超文本传输协议)的缩写,是用于从万维网(WWW:World Wide Web)服务器传输超文本到本地浏览器的传送协议.</span><br><span class="line">HTTP是一个基于TCP/IP通信协议来传递数据(HTML 文件,图片文件,查询结果等)</span><br><span class="line">HTTP是一个属于应用层的面向对象的协议,由于其简捷,快速的方式,适用于分布式超媒体信息系统.它于1990年提出,经过几年的使用与发展,得到不断地完善和扩展.目前在WWW中使用的是HTTP/1.0的第六版,HTTP/1.1的规范化工作正在进行之中,而且HTTP-NG(Next Generation of HTTP)的建议已经提出</span><br><span class="line">HTTP协议工作于客户端-服务端架构为上.浏览器作为HTTP客户端通过URL向HTTP服务端即WEB服务器发送所有请求.Web服务器根据接收到的请求后,向客户端发送响应信息</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><img src="HTTP协议/HTTP请求响应.jpg" alt="HTTP请求响应"></p>
<ol>
<li><p>HTTP 主要特点</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1.简单快速</span><br><span class="line">  客户向服务器请求服务时,只需传送请求方法和路径</span><br><span class="line">  请求方法常用的有GET,HEAD,POST.每种方法规定了客户与服务器联系的类型不同.</span><br><span class="line">  由于HTTP协议简单,使得HTTP服务器的程序规模小,因而通信速度很快</span><br><span class="line"></span><br><span class="line">2.灵活</span><br><span class="line">  HTTP允许传输任意类型的数据对象.正在传输的类型由Content-Type加以标记</span><br><span class="line"></span><br><span class="line">3.无连接</span><br><span class="line">  无连接的含义是限制每次连接只处理一个请求</span><br><span class="line">  服务器处理完客户的请求,并收到客户的应答后,即断开连接.采用这种方式可以节省传输时间</span><br><span class="line"></span><br><span class="line">4.无状态</span><br><span class="line">  HTTP协议是无状态协议.无状态是指协议对于事务处理没有记忆能力.</span><br><span class="line">  缺少状态意味着如果后续处理需要前面的信息,则它必须重传,这样可能导致每次连接传送的数据量增大.</span><br><span class="line">  另一方面,在服务器不需要先前信息时它的应答就较快</span><br><span class="line"></span><br><span class="line">5.支持B/S及C/S模式</span><br></pre></td></tr></table></figure>
</li>
<li><p>HTTP URL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">HTTP使用统一资源标识符(Uniform Resource Identifiers,URI)来传输数据和建立连接.</span><br><span class="line"></span><br><span class="line">URL(Uniform Resource Locator,统一资源定位符)是一种特殊类型的URI,包含了用于查找某个资源的足够的信息</span><br><span class="line">URL,全称是,是互联网上用来标识某一处资源的地址.</span><br><span class="line"></span><br><span class="line">例如:</span><br><span class="line">普通URL的各部分组成:</span><br><span class="line">http://www.smallasa.com:8080/news/index.asp?boardID=5&amp;ID=24618&amp;page=1#name</span><br><span class="line"></span><br><span class="line">一个完整的URL包括以下几部分:</span><br><span class="line">1.协议部分</span><br><span class="line">  该URL的协议部分为&quot;http:&quot;,这代表网页使用的是HTTP协议</span><br><span class="line">  在Internet中可以使用多种协议,如:HTTP,FTP等等.</span><br><span class="line">  在&quot;HTTP&quot;后面的&quot;//&quot;为分隔符</span><br><span class="line">2.域名部分</span><br><span class="line">  该URL的域名部分为&quot;www.smallasa.com&quot;</span><br><span class="line">  一个URL中,也可以使用IP地址作为域名使用</span><br><span class="line">3.端口部分</span><br><span class="line">  跟在域名后面的是端口,域名和端口之间使用&quot;:&quot;作为分隔符</span><br><span class="line">  端口不是一个URL必须的部分,如果省略端口部分,将采用默认端口</span><br><span class="line">4.虚拟目录部分</span><br><span class="line">  从域名后的第一个&quot;/&quot;开始到最后一个&quot;/&quot;为止,是虚拟目录部分</span><br><span class="line">  虚拟目录也不是一个URL必须的部分</span><br><span class="line">  本例中的虚拟目录是&quot;/news/&quot;</span><br><span class="line">5.文件名部分</span><br><span class="line">  从域名后的最后一个&quot;/&quot;开始到&quot;?&quot;为止,是文件名部分.</span><br><span class="line">  如果没有&quot;?&quot;,则是从域名后的最后一个&quot;/&quot;开始到&quot;#&quot;为止,是文件部分</span><br><span class="line">  如果没有&quot;?&quot;和&quot;#&quot;,则是从域名后的最后一个&quot;/&quot;开始到结束,都是文件名部分</span><br><span class="line">  文件名部分也不是一个URL必须的部分,如果省略该部分,则使用默认的文件名</span><br><span class="line">  本例中的文件名是&quot;index.asp&quot;</span><br><span class="line">6.锚部分</span><br><span class="line">  从&quot;#&quot;开始到最后,都是锚部分</span><br><span class="line">  锚部分也不是一个URL必须的部分</span><br><span class="line">  本例中的锚部分是&quot;name&quot;</span><br><span class="line">7.参数部分</span><br><span class="line">  从&quot;?&quot;开始到&quot;#&quot;为止之间的部分为参数部分,又称搜索部分,查询部分</span><br><span class="line">  参数可以允许有多个参数,参数与参数之间用&quot;&amp;&quot;作为分隔符</span><br><span class="line">  本例中的参数部分为&quot;boardID=5&amp;ID=24618&amp;page=1&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>URI 和 URL 的区别</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">* URI(uniform resource identifier),统一资源标识符,用来标识唯一的一个资源</span><br><span class="line">  Web上可用的每种资源,如: HTML文档,图像,视频片段,程序等都是一个来URI来定位的</span><br><span class="line">  URI一般由三部组成:</span><br><span class="line">  * 访问资源的命名机制</span><br><span class="line">  * 存放资源的主机名</span><br><span class="line">  * 资源自身的名称,由路径表示,着重强调于资源</span><br><span class="line"></span><br><span class="line">* URL(uniform resource locator),统一资源定位器,它是一种具体的URI,即URL可以用来标识一个资源,而且还指明了如何locate这个资源</span><br><span class="line">  URL是Internet上用来描述信息资源的字符串,主要用在各种WWW客户程序和服务器程序上,特别是著名的Mosaic</span><br><span class="line">  采用URL可以用一种统一的格式来描述各种信息资源,包括文件,服务器的地址和目录等</span><br><span class="line">  URL一般由三部组成:</span><br><span class="line">  * 协议(或称为服务方式)</span><br><span class="line">  * 存有该资源的主机IP地址(有时也包括端口号)</span><br><span class="line">  * 主机资源的具体地址.如目录和文件名等</span><br><span class="line"></span><br><span class="line">* URN(uniform resource name),统一资源命名,是通过名字来标识资源,比如&quot;mailto:java-net@java.sun.com&quot;</span><br><span class="line"></span><br><span class="line">综上,</span><br><span class="line">URI是以一种抽象的,高层次概念定义统一资源标识,而URL和URN则是具体的资源标识的方式.</span><br><span class="line">URL和URN都是一种URI.</span><br><span class="line">笼统地说,每个URL都是URI,但不一定每个URI都是URL.这是因为URI还包括一个子类,即统一资源名称(URN),它命名资源,但不指定如何定位资源.</span><br></pre></td></tr></table></figure>
</li>
<li><p>HTTP之请求消息Request</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">客户端发送一个HTTP请求到服务器的请求消息包括以下格式:</span><br><span class="line">* 请求行(request line)</span><br><span class="line">* 请求头部(header)</span><br><span class="line">* 空行</span><br><span class="line">* 请求数据</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><img src="HTTP协议/HTTP请求消息结构.png" alt="HTTP请求消息结构"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">请求行以一个方法符号开头,以空格分开,后面跟着请求的URI和协议的版本</span><br><span class="line"></span><br><span class="line">GET请求例子:</span><br><span class="line">GET /562f25980001b1b106000338.jpg HTTP/1.1</span><br><span class="line">Host  img.mukewang.com</span><br><span class="line">User-Agent  Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.106 Safari/537.36</span><br><span class="line">Accept    image/webp,image/*,*/*;q=0.8</span><br><span class="line">Referer    http://www.imooc.com/</span><br><span class="line">Accept-Encoding    gzip, deflate, sdch</span><br><span class="line">Accept-Language    zh-CN,zh;q=0.8</span><br><span class="line"></span><br><span class="line">第一部分: 请求行,用来说明请求类型,要访问的资源以及所使用的HTTP版本</span><br><span class="line">         * GET说明请求类型为GET</span><br><span class="line">         * &quot;/562f25980001b1b106000338.jpg&quot;为要访问的资源</span><br><span class="line">         * 该行的最后一部分说明使用的是HTTP1.1版本</span><br><span class="line">第二部分: 请求头部,紧接着请求行之后的部分,用来说明服务器要使用的附加信息</span><br><span class="line">         * HOST将指出请求的目的地</span><br><span class="line">         * User-Agent,服务器端和客户端脚本都能访问它,它是浏览器类型检测逻辑的重要基础.该信息由你的浏览器来定义,并且在每个请求中自动发送等等</span><br><span class="line">第三部分: 空行</span><br><span class="line">         请求头部后面的空行是必须的</span><br><span class="line">         即使第四部分的请求数据为空,也必须有空行</span><br><span class="line">第四部分: 请求数据也叫主体,可以添加任意的其他数据</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">POST请求例子:</span><br><span class="line">POST / HTTP1.1</span><br><span class="line">Host:www.wrox.com</span><br><span class="line">User-Agent:Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727; .NET CLR 3.0.04506.648; .NET CLR 3.5.21022)</span><br><span class="line">Content-Type:application/x-www-form-urlencoded</span><br><span class="line">Content-Length:40</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line"></span><br><span class="line">name=Professional%20Ajax&amp;publisher=Wiley</span><br><span class="line"></span><br><span class="line">第一部分: 请求行,第一行明了是post请求,以及http1.1版本</span><br><span class="line">第二部分: 请求头部</span><br><span class="line">第三部分: 空行</span><br><span class="line">第四部分: 请求数据</span><br></pre></td></tr></table></figure></p>
<ol>
<li>HTTP之响应消息Response<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">一般情况下,服务器接收并处理客户端发过来的请求后会返回一个HTTP的响应消息</span><br><span class="line">HTTP响应也由四个部分组成:</span><br><span class="line">* 状态行</span><br><span class="line">* 消息报头</span><br><span class="line">* 空行</span><br><span class="line">* 响应正文</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><img src="HTTP协议/HTTP响应消息结构.jpg" alt="HTTP响应消息结构"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">响应请求例子:</span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Date: Fri, 22 May 2009 06:07:21 GMT</span><br><span class="line">Content-Type: text/html; charset=UTF-8</span><br><span class="line"></span><br><span class="line">&lt;html&gt;</span><br><span class="line">      &lt;head&gt;&lt;/head&gt;</span><br><span class="line">      &lt;body&gt;</span><br><span class="line">            &lt;!--body goes here--&gt;</span><br><span class="line">      &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">第一部分: 状态行,由HTTP协议版本号,状态码,状态消息三部分组成</span><br><span class="line">         * &quot;HTTP/1.1&quot;表明HTTP版本为1.1版本</span><br><span class="line">         * 200 表示状态码</span><br><span class="line">         * &quot;ok&quot; 表示状态消息</span><br><span class="line">第二部分: 消息报头,用来说明客户端要使用的一些附加信息</span><br><span class="line">         * Date 生成响应的日期和时间</span><br><span class="line">         * Content-Type 指定了MIME类型的HTML(text/html),编码类型是UTF-8</span><br><span class="line">第三部分: 空行,消息报头后面的空行是必须的</span><br><span class="line">第四部分: 响应正文,服务器返回给客户端的文本信息</span><br></pre></td></tr></table></figure></p>
<ol>
<li><p><a href="http://www.runoob.com/http/http-status-codes.html" target="_blank" rel="noopener">HTTP之状态码</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">状态代码有三位数字组成,第一个数字定义了响应的类别,共分五种类别:</span><br><span class="line">1xx: 指示信息,表示请求已接收,继续处理</span><br><span class="line">2xx: 成功,表示请求已被成功接收,理解,接受</span><br><span class="line">3xx: 重定向,要完成请求必须进行更进一步的操作</span><br><span class="line">4xx: 客户端错误,请求有语法错误或请求无法实现</span><br><span class="line">5xx: 服务器端错误,服务器未能实现合法的请求</span><br><span class="line"></span><br><span class="line">常见状态码：</span><br><span class="line">200 OK                        //客户端请求成功</span><br><span class="line">400 Bad Request               //客户端请求有语法错误,不能被服务器所理解</span><br><span class="line">401 Unauthorized              //请求未经授权,这个状态代码必须和WWW-Authenticate报头域一起使用</span><br><span class="line">403 Forbidden                 //服务器收到请求,但是拒绝提供服务</span><br><span class="line">404 Not Found                 //请求资源不存在,输入了错误的URL</span><br><span class="line">500 Internal Server Error     //服务器发生不可预期的错误</span><br><span class="line">503 Server Unavailable        //服务器当前不能处理客户端的请求,一段时间后可能恢复正常</span><br></pre></td></tr></table></figure>
</li>
<li><p>HTTP请求方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">根据HTTP标准,HTTP请求可以使用多种请求方法:</span><br><span class="line">HTTP1.0定义了三种请求方法: GET,POST,HEAD</span><br><span class="line">HTTP1.1新增了五种请求方法: OPTIONS,PUT,DELETE,TRACE,CONNECT</span><br><span class="line"></span><br><span class="line">GET       请求指定的页面信息,并返回实体主体</span><br><span class="line">HEAD      类似于GET请求,只不过返回的响应中没有具体的内容,用于获取报头</span><br><span class="line">POST      向指定资源提交数据进行处理请求,数据被包含在请求体中.POST请求可能会导致新的资源的建立或对已有资源的修改</span><br><span class="line">PUT       从客户端向服务器传送的数据取代指定的文档的内容</span><br><span class="line">DELETE    请求服务器删除指定的页面</span><br><span class="line">CONNECT   HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器</span><br><span class="line">OPTIONS   允许客户端查看服务器的性能</span><br><span class="line">TRACE     回显服务器收到的请求,主要用于测试或诊断</span><br></pre></td></tr></table></figure>
</li>
<li><p>HTTP工作原理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">HTTP协议定义WEB客户端如何从WEB服务器请求WEB页面,以及服务器如何把Web页面传送给客户端</span><br><span class="line"></span><br><span class="line">HTTP协议采用了&quot;请求/响应&quot;模型:</span><br><span class="line">客户端向服务器发送一个请求报文,请求报文包含请求的方法,URL,协议版本,请求头部和请求数据</span><br><span class="line">服务器以一个状态行作为响应,响应的内容包括协议的版本,成功或者错误代码,服务器信息,响应头部和响应数据</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">HTTP请求/响应的步骤:</span><br><span class="line">1.客户端连接到WEB服务器</span><br><span class="line">  一个HTTP客户端(通常是浏览器)与WEB服务器的HTTP端口(默认为80)建立一个TCP套接字连接</span><br><span class="line">  例如,http://www.baidu.com</span><br><span class="line">2.发送HTTP请求</span><br><span class="line">  通过TCP套接字,客户端向WEB服务器发送一个文本的请求报文</span><br><span class="line">  一个请求报文由请求行,请求头部,空行和请求数据4部分组成</span><br><span class="line">3.服务器接受请求并返回HTTP响应</span><br><span class="line">  WEB服务器解析请求,定位请求资源.服务器将资源复本写到TCP套接字,由客户端读取.</span><br><span class="line">  一个响应由状态行,响应头部,空行和响应数据4部分组成</span><br><span class="line">4.释放连接TCP连接</span><br><span class="line">  若connection模式为close,则服务器主动关闭TCP连接,客户端被动关闭连接,释放TCP连接</span><br><span class="line">  若connection模式为keepalive,则该连接会保持一段时间,在该时间内可以继续接收请求</span><br><span class="line">5.客户端浏览器解析HTML内容</span><br><span class="line">  客户端浏览器首先解析状态行,查看表明请求是否成功的状态代码.</span><br><span class="line">  然后解析每一个响应头,响应头告知以下为若干字节的HTML文档和文档的字符集</span><br><span class="line">  最后客户端浏览器读取响应数据HTML,根据HTML的语法对其进行格式化,并在浏览器窗口中显示</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例如: 在浏览器地址栏键入URL,按下回车之后会经历如下流程</span><br><span class="line">1. 浏览器向DNS服务器请求解析该URL中的域名所对应的IP地址</span><br><span class="line">2. 解析出IP地址后,根据该IP地址和端口(默认80)与服务器建立TCP连接</span><br><span class="line">3. 浏览器发出读取文件的HTTP请求,该请求报文作为TCP三次握手的第三个报文的数据发送给服务器</span><br><span class="line">4. 服务器对浏览器请求作出响应,并把对应的html文本发送给浏览器</span><br><span class="line">5. 释放TCP连接</span><br><span class="line">6. 浏览器解析html文本并显示内容</span><br></pre></td></tr></table></figure>
</li>
<li><p>GET和POST请求的区别</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">GET请求:</span><br><span class="line">GET /books/?sex=man&amp;name=Professional HTTP/1.1</span><br><span class="line">Host: www.wrox.com</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.6)</span><br><span class="line">Gecko/20050225 Firefox/1.0.1</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">最后一行是空行</span><br><span class="line"></span><br><span class="line">POST请求:</span><br><span class="line">POST / HTTP/1.1</span><br><span class="line">Host: www.wrox.com</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.6)</span><br><span class="line">Gecko/20050225 Firefox/1.0.1</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">Content-Length: 40</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line"></span><br><span class="line">name=Professional%20Ajax&amp;publisher=Wiley</span><br><span class="line"></span><br><span class="line">1.GET和POST提交差异</span><br><span class="line">  * GET提交</span><br><span class="line">    请求的数据会附在URL之后(就是把数据放置在HTTP协议头中),以&quot;?&quot;分割URL和传输数据,多个参数用&amp;连接</span><br><span class="line">    例如:</span><br><span class="line">    &quot;login.action?name=hyddd&amp;password=idontknow&amp;verify=%E4%BD%A0%E5%A5%BD&quot;</span><br><span class="line">    如果数据是英文字母/数字,原样发送</span><br><span class="line">    如果数据是空格,转换为+</span><br><span class="line">    如果数据是中文/其他字符,则直接把字符串用BASE64加密,得出&quot;%E4%BD%A0%E5%A5%BD&quot;,其中&quot;%XX&quot;中的XX为该符号以16进制表示的ASCII</span><br><span class="line">  * POST提交</span><br><span class="line">    把提交的数据放置在是HTTP包的包体中</span><br><span class="line">    示例中:</span><br><span class="line">    &quot;name=Professional%20Ajax&amp;publisher=Wiley&quot;</span><br><span class="line">  因此,GET提交的数据会在地址栏中显示出来,而POST提交,地址栏不会改变</span><br><span class="line"></span><br><span class="line">2.传输数据的大小</span><br><span class="line">  首先声明: HTTP协议没有对传输的数据大小进行限制,HTTP协议规范也没有对URL长度进行限制</span><br><span class="line"></span><br><span class="line">  在实际开发中存在的限制主要有：</span><br><span class="line">  * GET</span><br><span class="line">    特定浏览器和服务器对URL长度有限制</span><br><span class="line">    因此对于GET提交时,传输数据就会受到URL长度的限制</span><br><span class="line">    例如:IE对URL长度的限制是2083字节(2K+35)</span><br><span class="line">  * POST</span><br><span class="line">    由于不是通过URL传值,理论上数据不受限</span><br><span class="line">    但实际各个WEB服务器会规定对post提交数据大小进行限制,Apache,Nginx,IIS6都有各自的配置</span><br><span class="line"></span><br><span class="line">3.安全性</span><br><span class="line">  POST的安全性要比GET的安全性高</span><br><span class="line">  比如: 通过GET提交数据,用户名和密码将明文出现在URL上.因为登录页面有可能被浏览器缓存,其他人查看浏览器的历史纪录就可以拿到你的账号和密码.除此之外,使用GET提交数据还可能会造成&quot;Cross-site request forgery&quot;攻击</span><br><span class="line"></span><br><span class="line">4.HTTP GET,POST,SOAP协议都是在HTTP上运行的</span><br><span class="line">* GET,请求参数是作为一个key/value对的序列附加到URL上的</span><br><span class="line">  查询字符串的长度受到WEB浏览器和WEB服务器的限制,不适合传输大型数据集,同时它很不安全</span><br><span class="line">* POST,请求参数是在HTTP标题的一个不同部分(entity body)传输的,这一部分用来传输表单信息,因此必须将&quot;Content-type&quot;设置为&quot;application/x-www-form-urlencoded&quot;</span><br><span class="line">  POST设计用来支持WEB窗体上的用户字段,其参数也是作为key/value对传输.但是,它不支持复杂数据类型.因为POST没有定义传输数据结构的语义和规则</span><br><span class="line">* SOAP,是HTTP POST的一个专用版本,遵循一种特殊的xml消息格式,&quot;Content-type&quot;设置为&quot;text/xml&quot;,任何数据都可以xml化</span><br><span class="line"></span><br><span class="line">HTTP协议定义了很多与服务器交互的方法,最基本的有4种: GET,POST,PUT,DELETE.</span><br><span class="line">一个URL地址用于描述一个网络上的资源,而HTTP中的GET,POST,PUT,DELETE就对应着对这个资源的查,改,增,删4个操作</span><br><span class="line">我们最常见的就是GET和POST了.GET一般用于获取/查询资源信息,而POST一般用于更新资源信息</span><br><span class="line"></span><br><span class="line">GET和POST的区别:</span><br><span class="line">* GET提交的数据会放在URL之后,以&quot;?&quot;分割URL和传输数据.参数之间以&amp;相连,而POST方法是把提交的数据放在HTTP包的Body中</span><br><span class="line">* GET提交的数据大小有限制(因为浏览器对URL的长度有限制),而POST方法提交的数据没有限制</span><br><span class="line">* GET方式需要使用Request.QueryString来取得变量的值,而POST方式通过Request.Form来获取变量的值</span><br><span class="line">* GET方式提交数据,会带来安全问题,而POST不会</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/09/11/HTTP协议/" data-id="cjavy9jtc000d0coqgbk1jjm1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-git-errror" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/11/git-errror/" class="article-date">
  <time datetime="2017-09-11T01:26:07.000Z" itemprop="datePublished">2017-09-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/automation/">automation</a>►<a class="article-category-link" href="/categories/automation/git/">git</a>►<a class="article-category-link" href="/categories/automation/git/git-error/">git error</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/11/git-errror/">git errror</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="git-error"><a href="#git-error" class="headerlink" title="git error"></a>git error</h3><ol>
<li>git pull error<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">[root@dev yaya]<span class="comment"># git pull</span></span><br><span class="line">There is no tracking information <span class="keyword">for</span> the current branch.</span><br><span class="line">Please specify <span class="built_in">which</span> branch you want to merge with.</span><br><span class="line">See git-pull(1) <span class="keyword">for</span> details</span><br><span class="line"></span><br><span class="line">    git pull &lt;remote&gt; &lt;branch&gt;</span><br><span class="line"></span><br><span class="line">If you wish to <span class="built_in">set</span> tracking information <span class="keyword">for</span> this branch you can <span class="keyword">do</span> so with:</span><br><span class="line"></span><br><span class="line">    git branch --<span class="built_in">set</span>-upstream-to=origin/&lt;branch&gt; release</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">解决方法:</span><br><span class="line">[root@dev yaya]<span class="comment"># git branch</span></span><br><span class="line">  dev</span><br><span class="line">  master</span><br><span class="line">* release</span><br><span class="line"></span><br><span class="line">[root@dev yaya]<span class="comment"># git branch -a</span></span><br><span class="line">  dev</span><br><span class="line">  master</span><br><span class="line">* release</span><br><span class="line">  remotes/origin/HEAD -&gt; origin/master</span><br><span class="line">  remotes/origin/dev</span><br><span class="line">  remotes/origin/master</span><br><span class="line">  remotes/origin/release</span><br><span class="line"></span><br><span class="line">[root@dev yaya]<span class="comment"># git branch --set-upstream-to=origin/release</span></span><br><span class="line">Branch release <span class="built_in">set</span> up to track remote branch release from origin.</span><br><span class="line"></span><br><span class="line">[root@dev yaya]<span class="comment"># git pull</span></span><br><span class="line">Already up-to-date.</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/09/11/git-errror/" data-id="cjavy9jw5002y0coqoq9rsw0x" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/3/">&laquo; 上一页</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/29/">29</a><a class="extend next" rel="next" href="/page/5/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AliCloud/">AliCloud</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/AliCloud/SDK/">SDK</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/AliCloud/SDK/Python-SDK/">Python SDK</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Android-install/">Android install</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Android-install/Android-studio-install/">Android studio install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/">Development</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/">Doc</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/HTTP-严格传输安全HSTS/">HTTP 严格传输安全HSTS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/HTTP协议/">HTTP协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/TCP-协议详解/">TCP 协议详解</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/TCP与socket区别/">TCP与socket区别</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/linux-文件描述符与打开文件之间的关系/">linux 文件描述符与打开文件之间的关系</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/linux-文件系统inode/">linux 文件系统inode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/一次完整的HTTP请求/">一次完整的HTTP请求</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Disk/">Disk</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Disk/disk-io-performance/">disk io performance</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Disk/disk-iostat/">disk iostat</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/">Distributed storage</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/">GlusterFS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-architecture/">GlusterFS architecture</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-info/">GlusterFS info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-install/">GlusterFS install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-workflow/">GlusterFS workflow</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HA/">HA</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HA/DRBD/">DRBD</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HA/DRBD/DRBD-install/">DRBD install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HA/keepalived/">keepalived</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HA/keepalived/keepalived-install/">keepalived install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/">IDE</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/Intellij/">Intellij</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/Intellij/Intellij-setting/">Intellij setting</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/vim/">vim</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/vim/vim-shortcut-key/">vim shortcut key</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/vim/vim-vimrc/">vim vimrc</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel/">Kernel</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel/kernel-memory/">kernel memory</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel/kernel-memory/kernel-共享内存/">kernel 共享内存</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/">Monitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/ganglia/">ganglia</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/ganglia/ganglia-install/">ganglia install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/hmonitor/">hmonitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/hmonitor/hmonitor-install/">hmonitor install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/htmonitor/">htmonitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/htmonitor/htmonitor-install/">htmonitor install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/smokeping/">smokeping</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/smokeping/smokeping-install/">smokeping install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/">zabbix</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/monitor/">monitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/monitor/zabbix-monitor-cpu/">zabbix monitor cpu</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/monitor/zabbix-monitor-mem/">zabbix monitor mem</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-auto-discover/">zabbix auto discover</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-grafana-install/">zabbix grafana install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-install/">zabbix install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-install-distributed/">zabbix install distributed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-item-and-tigger/">zabbix item and tigger</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-java-gateway/">zabbix java gateway</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-modify-login-user-passwd/">zabbix modify login user passwd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-optimization/">zabbix optimization</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-proxy-install/">zabbix proxy install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-server-support-chinese/">zabbix server support chinese</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-windows-agent/">zabbix windows agent</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/树莓派/">树莓派</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/树莓派/树莓派-GSM-语音短信报警/">树莓派 GSM 语音短信报警</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/监控/">监控</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/监控/监控知识体系/">监控知识体系</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/">Python Framework</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/Python-Django/">Python Django</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/Python-Django-setting/">Python Django setting</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/Python-tornado-install/">Python tornado install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/">Python Learn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-上下文管理器/">python 上下文管理器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-内存管理/">python 内存管理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-函数编程/">python 函数编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-变量/">python 变量</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-对象使用/">python 对象使用</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-对象的属性/">python 对象的属性</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-对象编程/">python 对象编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-数据类型/">python 数据类型</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-流程控制/">python 流程控制</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-爬虫/">python 爬虫</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-特殊方法/">python 特殊方法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-特殊说明/">python 特殊说明</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-装饰器/">python 装饰器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-过程编程/">python 过程编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-进阶/">python 进阶</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-闭包/">python 闭包</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/">Python install</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-error-info/">python error info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-pip-source-image/">python pip source image</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-pip-use/">python pip use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-pyenv-install/">python pyenv install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-setup-py/">python setup.py</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-source-install/">python source install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-virtualenv/">python virtualenv</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/">Python library</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/MySQLdb/">MySQLdb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/memory-profiler/">memory_profiler</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/time-datetime-calendar/">time datetime calendar</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-modules/">Python modules</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-modules/python-modules-path/">python modules path</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-modules/python-modules-pylint-and-ipython/">python modules pylint and ipython</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-other/">Python other</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-other/python-import-and-reload/">python import and reload</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/">Ruby</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/Ruby-install/">Ruby install</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/Ruby-install/Ruby-install/">Ruby install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/">TCP.IP</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/TCP-状态/">TCP 状态</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/TCP-IP模型/">TCP/IP模型</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/Wireshark-use/">Wireshark use</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/WeChat/">WeChat</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/WeChat/WeChat-enterprise/">WeChat enterprise</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/WeChat/WeChat-enterprise/WeChat-enterprise-API/">WeChat enterprise API</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/">automation</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/">git</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-command/">git command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-error/">git error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gitlab/">git gitlab</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gitolite/">git gitolite</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gogs/">git gogs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gogs-source-install/">git gogs source install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-init/">git init</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-workflow/">git workflow</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/jenkins/">jenkins</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/jenkins/jenkins-info/">jenkins info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/jenkins/jenkins-install/">jenkins install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/kvm/">kvm</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/kvm/kvm-install/">kvm install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/maven/">maven</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/maven/maven-install/">maven install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/nexus/">nexus</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/nexus/nexus-install/">nexus install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/nexus/nexus-proxy-maven/">nexus proxy maven</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/rpm/">rpm</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/rpm/rpm-package-build/">rpm package build</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/rpm/rpmbuild-spec/">rpmbuild spec</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/">salt</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-advanced-topic/">salt advanced topic</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-highstate/">salt highstate</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-info/">salt info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install/">salt install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install-HA/">salt install HA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install-distributed/">salt install distributed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install-standard/">salt install standard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-jinja2-grain-pillar-module/">salt jinja2 grain pillar module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-event-reactor/">salt manage event reactor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-grains/">salt manage grains</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-job/">salt manage job</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-module/">salt manage module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-pillar/">salt manage pillar</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-return/">salt manage return</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-states/">salt manage states</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-target/">salt manage target</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-master-syndic-install/">salt master syndic install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-master-conf/">salt master.conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-minion-conf/">salt minion.conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-raet/">salt raet</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-state-module/">salt state module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-syndic-conf/">salt syndic.conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-write-module-code/">salt write module code</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/svn/">svn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/svn/svn-auto-update/">svn auto update</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/yum/">yum</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/yum/yum-server-install/">yum server install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/">database</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/">Mongo</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-auth/">mongo auth</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-error/">mongo error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-replication-auth-install/">mongo replication auth install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-replication-standard-install/">mongo replication standard install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-standard-install/">mongo standard install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/">Mysql</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-command/">mysql command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-error-info/">mysql error info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-explain/">mysql explain</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-grant/">mysql grant</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-index-options/">mysql index options</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-innodb-buffer-pool-flush/">mysql innodb buffer pool flush</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-master-slave/">mysql master slave</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-master-slave-switch/">mysql master slave switch</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-partition/">mysql partition</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-select-join/">mysql select join</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-slow-log/">mysql slow log</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-standard/">mysql standard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-table-size/">mysql table size</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-use-memory-as-disk/">mysql use memory as disk</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/">Postgresql</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-book-use/">postgresql book use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-master-slave-info/">postgresql master slave info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-master-slave/">postgresql master/slave</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-plugin-install/">postgresql plugin install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-standard/">postgresql standard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-tablespace-database-schema-table-user-role-relation/">postgresql tablespace database schema table user role relation</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-yum-install/">postgresql yum install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-常用命令/">postgresql 常用命令</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-数据库对象/">postgresql 数据库对象</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-数据库管理/">postgresql 数据库管理</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/">Redis</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-error/">redis error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-install/">redis install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-redis-trib-rb/">redis redis-trib.rb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-status/">redis status</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-use/">redis use</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/influxDB/">influxDB</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/influxDB/influxDB-install/">influxDB install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/golang/">golang</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/golang/go-env/">go env</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/">hadoop</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/">RabbitMQ</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-cluster/">RabbitMQ cluster</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-high-availability/">RabbitMQ high availability</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-info/">RabbitMQ info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-install/">RabbitMQ install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-python-pika/">RabbitMQ python pika</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-user-and-grant/">RabbitMQ user and grant</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-working-principle/">RabbitMQ working principle</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/beats/">beats</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/beats/beats-install/">beats install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/">datax</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/datax-info/">datax info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/datax-install/">datax install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/datax-job/">datax job</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/">elasticsearch</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-backup-and-restore/">elasticsearch backup and restore</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-command/">elasticsearch command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-core-component/">elasticsearch core component</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-exploring-your-cluster/">elasticsearch exploring your cluster</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-exploring-your-data/">elasticsearch exploring your data</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-four-search-type/">elasticsearch four search type</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-full-cluster-restart-upgrade/">elasticsearch full cluster restart upgrade</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-install/">elasticsearch install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-modifying-your-data/">elasticsearch modifying your data</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-rolling-upgrades/">elasticsearch rolling upgrades</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-safe-restart/">elasticsearch safe restart</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-shard/">elasticsearch shard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/how-to-tune-for-indexing-speed/">how to tune for indexing speed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/how-to-tune-for-search-speed/">how to tune for search speed</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/flume/">flume</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/flume/flume-info/">flume info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/flume/flume-install/">flume install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/grafana/">grafana</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/grafana/grafana-install/">grafana install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/hadoop/">hadoop</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/hadoop/hadoop-简介/">hadoop 简介</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/">kafka</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-add-topic-partition/">kafka add topic partition</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-add-topic-replicats/">kafka add topic replicats</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-broker-config/">kafka broker config</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-high-throughput/">kafka high throughput</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-info/">kafka info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-install/">kafka install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-manage-web/">kafka manage web</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-migrate-and-scale/">kafka migrate and scale</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-offset-monitor/">kafka offset monitor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-optimize/">kafka optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-use/">kafka use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-web-console/">kafka web console</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-with-zookeeper/">kafka with zookeeper</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kibana/">kibana</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kibana/kibana-install/">kibana install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/">logstash</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-config-file/">logstash config file</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-filter-grok/">logstash filter grok</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-info/">logstash info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-install/">logstash install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mycat/">mycat</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mycat/mycat-jvm-optimize/">mycat jvm optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mycat/mycat-web-install/">mycat web install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/">nsq</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/nsq-command/">nsq command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/nsq-info/">nsq info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/nsq-install/">nsq install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/">zookeeper</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-install/">zookeeper install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-monitor/">zookeeper monitor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-optimize/">zookeeper optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-use/">zookeeper use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-zab-protocol/">zookeeper zab protocol</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-env/">java env</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-jvm-optimize/">java jvm optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-jvm-opts/">java jvm opts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-jvm-原理/">java jvm 原理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-learn/">java learn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-learn/java-学习笔记/">java 学习笔记</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-log4j/">java log4j</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-performance-analysis/">java performance analysis</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-performance-analysis/jps/">jps</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/">k8s</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/k8s-dashboard-install/">k8s dashboard install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/k8s-install/">k8s install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/k8s-registry-install/">k8s registry install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/node/">node</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/node/node-install/">node install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/other/ACID/">ACID</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/分布式二阶段和三阶段提交协议/">分布式二阶段和三阶段提交协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/开源许可协议/">开源许可协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/网络带宽/">网络带宽</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/">system service</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/">Atlassian</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-https/">confluence https</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-install/">confluence install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-reset-passwd/">confluence reset passwd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-update/">confluence update</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/jira-https/">jira https</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/jira-install/">jira install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/jira-update/">jira update</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/mariadb-install/">mariadb install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/">CentOS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/Base-env/">Base env</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-common-use-scripts/">linux common use scripts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-history-info-setting/">linux history info setting</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-login-info/">linux login info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-nginx-install/">linux nginx install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-skill/">linux skill</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-system-init/">linux system init</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-内存插槽-内存信息/">linux 内存插槽 内存信息</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-扩容swap分区/">linux 扩容swap分区</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-物理CPU-CPU核数-逻辑CPU/">linux 物理CPU CPU核数 逻辑CPU</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-磁盘系统block区别/">linux 磁盘系统block区别</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-设置-包含头文件路径-和-动态库链接路径/">linux 设置 包含头文件路径 和 动态库链接路径</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/make提高源码编译速度/">make提高源码编译速度</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/NFS/">NFS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/NFS/nfs-exports-command/">nfs exports command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/NFS/nfs-install/">nfs install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Samba/">Samba</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Samba/samba-conf/">samba conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Samba/samba-install/">samba install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/">command</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/grep/">grep</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/pigz/">pigz</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/sed/">sed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/split/">split</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/tr/">tr</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/haproxy/">haproxy</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/haproxy/haproxy-install/">haproxy install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/">nginx</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-install/">nginx install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-location/">nginx location</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-rewrite/">nginx rewrite</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-status/">nginx status</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/ntpd/">ntpd</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/ntpd/ntpd-install/">ntpd install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openssl/">openssl</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openssl/openssl-certificate/">openssl certificate</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openvpn/">openvpn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openvpn/openvpn-install/">openvpn install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/rsync/">rsync</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/rsync/rsync-install/">rsync install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/supersord/">supersord</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/supersord/supersord-install/">supersord install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/">vsftpd</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/ftp-proxy/">ftp proxy</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/vsftpd-error/">vsftpd error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/vsftpd-info/">vsftpd info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/vsftpd-install/">vsftpd install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/">windows</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/cygwin-install/">cygwin install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/ipsec-set/">ipsec set</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/windows-modify-hosts/">windows modify hosts</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/SSL/">SSL</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/SSL/SSL-certificate/">SSL certificate</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/angular/">angular</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/angular/angular-install/">angular install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/hexo/">hexo</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/hexo/hexo-install/">hexo install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/sass/">sass</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/sass/sass-install/">sass install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/xml/">xml</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/xml/xml-format/">xml format</a></li></ul></li></ul></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/01/01/hello-everyone/">Hello Everyone</a>
          </li>
        
          <li>
            <a href="/2017/11/28/kafka-web-console/">kafka web console</a>
          </li>
        
          <li>
            <a href="/2017/11/27/svn-auto-update/">svn auto update</a>
          </li>
        
          <li>
            <a href="/2017/11/15/salt-manage-event-reactor/">salt manage event reactor</a>
          </li>
        
          <li>
            <a href="/2017/11/15/salt-manage-job/">salt manage job</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 penn<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>