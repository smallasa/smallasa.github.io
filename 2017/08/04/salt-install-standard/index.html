<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>salt install standard | smallasa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="salt master/minion install env init 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868">
<meta property="og:type" content="article">
<meta property="og:title" content="salt install standard">
<meta property="og:url" content="http://www.smallasa.com/2017/08/04/salt-install-standard/index.html">
<meta property="og:site_name" content="smallasa">
<meta property="og:description" content="salt master/minion install env init 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2017-12-07T01:54:04.110Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="salt install standard">
<meta name="twitter:description" content="salt master/minion install env init 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868">
  
    <link rel="alternate" href="/atom.xml" title="smallasa" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">smallasa</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">I known what i do !</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.smallasa.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-salt-install-standard" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/04/salt-install-standard/" class="article-date">
  <time datetime="2017-08-04T05:08:25.000Z" itemprop="datePublished">2017-08-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/automation/">automation</a>►<a class="article-category-link" href="/categories/automation/salt/">salt</a>►<a class="article-category-link" href="/categories/automation/salt/salt-install-standard/">salt install standard</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      salt install standard
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="salt-master-minion-install"><a href="#salt-master-minion-install" class="headerlink" title="salt master/minion install"></a>salt master/minion install</h3><ol>
<li><p>env init</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br></pre></td><td class="code"><pre><span class="line">//机器信息</span><br><span class="line">192.168.13.188 saltserver  <span class="comment"># CentOS 7.0</span></span><br><span class="line">192.168.13.187 saltminion  <span class="comment"># CentOS 6.5</span></span><br><span class="line"></span><br><span class="line">//salt-master</span><br><span class="line">[root@localhost ~]<span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">CentOS Linux release 7.0.1406 (Core)</span><br><span class="line"></span><br><span class="line">[root@localhost ~]<span class="comment"># hostname saltserver &amp;&amp; echo saltserver |tee /etc/hostname</span></span><br><span class="line">[root@localhost ~]<span class="comment"># $SHELL</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># echo '192.168.13.188 saltserver' |tee -a /etc/hosts    </span></span><br><span class="line">[root@saltserver ~]<span class="comment"># echo '192.168.13.187 saltminion' |tee -a /etc/hosts</span></span><br><span class="line"></span><br><span class="line">[root@saltserver ~]<span class="comment"># mkfs.xfs /dev/vdb</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># echo '/dev/vdb /mnt xfs defaults 0 0' | tee -a /etc/fstab</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># mount -a</span></span><br><span class="line"></span><br><span class="line">[root@saltserver ~]<span class="comment"># echo '* - nproc  65535' | tee -a /etc/security/limits.conf</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># echo '* - nofile 65535' | tee -a /etc/security/limits.conf</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># ls /etc/security/limits.d/|xargs rm -f</span></span><br><span class="line"></span><br><span class="line">[root@saltserver ~]<span class="comment"># mkdir /etc/yum.repos.d/backup &amp;&amp; mv /etc/yum.repos.d/&#123;*,backup&#125;</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># curl -o /etc/yum.repos.d/epel-7.repo http://mirrors.aliyun.com/repo/epel-7.repo</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># curl -O https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># rpm --import RPM-GPG-KEY-CentOS-7</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># rm -f RPM-GPG-KEY-CentOS-7</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># yum clean all</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># yum makecache</span></span><br><span class="line"></span><br><span class="line">[root@saltserver ~]<span class="comment"># yum -y install gcc gcc-c++ make cmake bison libtool autoconf automake zip unzip bzip2 zlib zlib-devel openssl openssl-devel openssl-static pcre pcre-devel bison-devel ncurses-devel tcl tcl-devel perl-Digest-SHA1 GeoIP GeoIP-devel gperftools gperftools-devel libatomic_ops-devel gtest gtest-devel glibc-devel unixODBC-devel fop libperl libpython readline readline-devel python-devel python2-pip python-crypto readline readline-devel readline-static sqlite-devel bzip2-devel bzip2-libs openldap-devel gdk-pixbuf2 gdk-pixbuf2-devel libffi libffi-devel libcurl libcurl-devel http-parser http-parser-devel libssh2 libssh2-devel git lftp ntp ntpdate vim wget telnet dstat tree lrzsz net-tools nmap-ncat nmap sysstat</span></span><br><span class="line"></span><br><span class="line">[root@saltserver ~]<span class="comment"># setenforce 0</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># sed -i s/'SELINUX=enforcing'/'SELINUX=disabled'/g /etc/selinux/config</span></span><br><span class="line"></span><br><span class="line">[root@saltserver ~]<span class="comment"># systemctl stop firewalld &amp;&amp; systemctl disable firewalld</span></span><br><span class="line"></span><br><span class="line">[root@saltserver ~]<span class="comment"># [ -f /etc/localtime ] &amp;&amp; cp -f /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># [ -f /etc/sysconfig/clock ] &amp;&amp; echo 'ZONE="Asia/Shanghai"' | tee /etc/sysconfig/clock</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># [ -f /etc/timezone ] &amp;&amp; echo 'Asia/Shanghai' | tee /etc/timezone</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># [ -f /etc/sysconfig/ntpd ] &amp;&amp; echo 'SYNC_HWCLOCK=yes' | tee -a /etc/sysconfig/ntpd</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># ntpdate cn.pool.ntp.org</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># cp -f /etc/&#123;ntp.conf,ntp.conf.bak&#125;</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># cat &gt; /etc/ntp.conf &lt;&lt;EOF</span></span><br><span class="line">&gt; driftfile /var/lib/ntp/drift</span><br><span class="line">&gt; restrict default nomodify notrap nopeer noquery</span><br><span class="line">&gt; restrict 127.0.0.1</span><br><span class="line">&gt; restrict ::1</span><br><span class="line">&gt; server cn.pool.ntp.org prefer</span><br><span class="line">&gt; server 0.centos.pool.ntp.org iburst</span><br><span class="line">&gt; server 1.centos.pool.ntp.org iburst</span><br><span class="line">&gt; server 2.centos.pool.ntp.org iburst</span><br><span class="line">&gt; server 3.centos.pool.ntp.org iburst</span><br><span class="line">&gt; includefile /etc/ntp/crypto/pw</span><br><span class="line">&gt; keys /etc/ntp/keys</span><br><span class="line">&gt; <span class="built_in">disable</span> monitor</span><br><span class="line">&gt; EOF</span><br><span class="line">[root@saltserver ~]<span class="comment"># cp -f /etc/ntp/&#123;step-tickers,step-tickers.bak&#125;</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># cat &gt; /etc/ntp/step-tickers &lt;&lt;EOF</span></span><br><span class="line">&gt; cn.pool.ntp.org</span><br><span class="line">&gt; 0.centos.pool.ntp.org</span><br><span class="line">&gt; 1.centos.pool.ntp.org</span><br><span class="line">&gt; 2.centos.pool.ntp.org</span><br><span class="line">&gt; 3.centos.pool.ntp.org</span><br><span class="line">&gt; EOF</span><br><span class="line">[root@saltserver ~]<span class="comment"># systemctl start ntpd &amp;&amp; systemctl enable ntpd</span></span><br><span class="line"></span><br><span class="line">[root@saltserver ~]<span class="comment"># mkdir -p /mnt/&#123;app,data,log,web,ops/&#123;app,data,cron&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">[root@saltserver ~]<span class="comment"># mkdir ~/.pip</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># cat &gt; ~/.pip/pip.conf &lt;&lt;EOF</span></span><br><span class="line">&gt; [global]</span><br><span class="line">&gt; trusted-host=mirrors.aliyun.com</span><br><span class="line">&gt; index-url=http://mirrors.aliyun.com/pypi/simple/</span><br><span class="line">&gt; [list]</span><br><span class="line">&gt; format=columns</span><br><span class="line">&gt; EOF</span><br><span class="line">[root@saltserver ~]<span class="comment"># pip install --upgrade pip</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># python -V</span></span><br><span class="line">Python 2.7.5</span><br><span class="line"></span><br><span class="line">[root@saltserver app]<span class="comment"># wget https://www.python.org/ftp/python/2.7.13/Python-2.7.13.tar.xz</span></span><br><span class="line">[root@saltserver app]<span class="comment"># xz -d Python-2.7.13.tar.xz</span></span><br><span class="line">[root@saltserver app]<span class="comment"># tar xf Python-2.7.13.tar</span></span><br><span class="line">[root@saltserver app]<span class="comment"># cd Python-2.7.13</span></span><br><span class="line">[root@saltserver Python-2.7.13]<span class="comment"># ./configure --prefix=/usr/local/python27</span></span><br><span class="line">[root@saltserver Python-2.7.13]<span class="comment"># make</span></span><br><span class="line">[root@saltserver Python-2.7.13]<span class="comment"># make install</span></span><br><span class="line"></span><br><span class="line">[root@saltserver Python-2.7.13]<span class="comment"># wget https://bootstrap.pypa.io/get-pip.py</span></span><br><span class="line">[root@saltserver Python-2.7.13]<span class="comment"># /usr/local/python27/bin/python get-pip.py</span></span><br><span class="line"></span><br><span class="line">[root@saltserver Python-2.7.13]<span class="comment"># echo 'export PYTHON_PATH=/usr/local/python27' |tee /etc/profile.d/python27.sh</span></span><br><span class="line">[root@saltserver Python-2.7.13]<span class="comment"># echo 'export PYTHON_BIN=$PYTHON_PATH/bin' |tee -a /etc/profile.d/python27.sh</span></span><br><span class="line">[root@saltserver Python-2.7.13]<span class="comment"># echo 'export PATH=$PYTHON_BIN:$PATH' |tee -a /etc/profile.d/python27.sh</span></span><br><span class="line">[root@saltserver Python-2.7.13]<span class="comment"># source /etc/profile</span></span><br><span class="line"></span><br><span class="line">[root@saltserver Python-2.7.13]<span class="comment"># rm -f /usr/bin/&#123;python,pip&#125;</span></span><br><span class="line">[root@saltserver Python-2.7.13]<span class="comment"># sed -i s/python/python2.7/g /usr/bin/yum</span></span><br><span class="line">[root@saltserver Python-2.7.13]<span class="comment"># sed -i s/python/python2.7/g /usr/libexec/urlgrabber-ext-down</span></span><br><span class="line"></span><br><span class="line">[root@saltserver Python-2.7.13]<span class="comment"># python -V</span></span><br><span class="line">Python 2.7.13</span><br><span class="line">[root@saltserver Python-2.7.13]<span class="comment"># pip -V</span></span><br><span class="line">pip 9.0.1 from /usr/<span class="built_in">local</span>/python27/lib/python2.7/site-packages (python 2.7)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//salt-minion</span><br><span class="line">[root@localhost ~]<span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">CentOS release 6.5 (Final)</span><br><span class="line"></span><br><span class="line">[root@localhost ~]<span class="comment"># hostname saltminion &amp;&amp; echo saltminion |tee /etc/hostname</span></span><br><span class="line">[root@localhost ~]<span class="comment"># $SHELL</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># echo '192.168.13.188 saltserver' |tee -a /etc/hosts</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># echo '192.168.13.187 saltminion' |tee -a /etc/hosts</span></span><br><span class="line"></span><br><span class="line">[root@saltminion ~]<span class="comment"># mkfs.xfs /dev/vdb</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># echo '/dev/vdb /mnt xfs defaults 0 0' | tee -a /etc/fstab</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># mount -a</span></span><br><span class="line"></span><br><span class="line">[root@saltminion ~]<span class="comment"># echo '* - nproc  65535' | tee -a /etc/security/limits.conf</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># echo '* - nofile 65535' | tee -a /etc/security/limits.conf</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># ls /etc/security/limits.d/|xargs rm -f</span></span><br><span class="line"></span><br><span class="line">[root@saltminion ~]<span class="comment"># mkdir /etc/yum.repos.d/backup &amp;&amp; mv /etc/yum.repos.d/&#123;*,backup&#125;</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># curl -o /etc/yum.repos.d/epel-6.repo http://mirrors.aliyun.com/repo/epel-6.repo</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># curl -O https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-6</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># rpm --import RPM-GPG-KEY-CentOS-6</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># rm -f RPM-GPG-KEY-CentOS-6</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># yum clean all</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># yum makecache</span></span><br><span class="line"></span><br><span class="line">[root@saltminion ~]<span class="comment"># yum groupinstall "Development tools"</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># yum -y install gcc gcc-c++ make cmake bison libtool autoconf automake zip unzip bzip2 zlib zlib-devel openssl openssl-devel openssl-static pcre pcre-devel bison-devel ncurses-devel tcl tcl-devel perl-Digest-SHA1 GeoIP GeoIP-devel gperftools gperftools-devel libatomic_ops-devel gtest gtest-devel glibc-devel unixODBC-devel fop libperl libpython readline readline-devel python-devel python2-pip python-crypto readline readline-static sqlite-devel bzip2-devel bzip2-libs openldap-devel gdk-pixbuf2 gdk-pixbuf2-devel libffi libffi-devel libcurl libcurl-devel http-parser http-parser-devel libssh2 libssh2-devel tk-devel gdbm-devel db4-devel libpcap-devel xz xz-devel git lftp ntp ntpdate vim wget telnet dstat tree lrzsz net-tools nmap-ncat nmap sysstat</span></span><br><span class="line"></span><br><span class="line">[root@saltminion ~]<span class="comment"># setenforce 0</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># sed -i s/'SELINUX=enforcing'/'SELINUX=disabled'/g /etc/selinux/config</span></span><br><span class="line"></span><br><span class="line">[root@saltminion ~]<span class="comment"># /etc/init.d/iptables stop &amp;&amp; chkconfig iptables off</span></span><br><span class="line"></span><br><span class="line">[root@saltminion ~]<span class="comment"># [ -f /etc/localtime ] &amp;&amp; cp -f /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># [ -f /etc/sysconfig/clock ] &amp;&amp; echo 'ZONE="Asia/Shanghai"' | tee /etc/sysconfig/clock</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># [ -f /etc/timezone ] &amp;&amp; echo 'Asia/Shanghai' | tee /etc/timezone</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># [ -f /etc/sysconfig/ntpd ] &amp;&amp; echo 'SYNC_HWCLOCK=yes' | tee -a /etc/sysconfig/ntpd</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># ntpdate cn.pool.ntp.org</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># cp -f /etc/&#123;ntp.conf,ntp.conf.bak&#125;</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># cat &gt; /etc/ntp.conf &lt;&lt;EOF</span></span><br><span class="line">&gt; driftfile /var/lib/ntp/drift</span><br><span class="line">&gt; restrict default nomodify notrap nopeer noquery</span><br><span class="line">&gt; restrict 127.0.0.1</span><br><span class="line">&gt; restrict ::1</span><br><span class="line">&gt; server cn.pool.ntp.org prefer</span><br><span class="line">&gt; server 0.centos.pool.ntp.org iburst</span><br><span class="line">&gt; server 1.centos.pool.ntp.org iburst</span><br><span class="line">&gt; server 2.centos.pool.ntp.org iburst</span><br><span class="line">&gt; server 3.centos.pool.ntp.org iburst</span><br><span class="line">&gt; includefile /etc/ntp/crypto/pw</span><br><span class="line">&gt; keys /etc/ntp/keys</span><br><span class="line">&gt; <span class="built_in">disable</span> monitor</span><br><span class="line">&gt; EOF</span><br><span class="line">[root@saltminion ~]<span class="comment"># cp -f /etc/ntp/&#123;step-tickers,step-tickers.bak&#125;</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># cat &gt; /etc/ntp/step-tickers &lt;&lt;EOF</span></span><br><span class="line">&gt; cn.pool.ntp.org</span><br><span class="line">&gt; 0.centos.pool.ntp.org</span><br><span class="line">&gt; 1.centos.pool.ntp.org</span><br><span class="line">&gt; 2.centos.pool.ntp.org</span><br><span class="line">&gt; 3.centos.pool.ntp.org</span><br><span class="line">&gt; EOF</span><br><span class="line">[root@saltminion ~]<span class="comment"># /etc/init.d/ntpd start &amp;&amp; chkconfig ntpd on</span></span><br><span class="line"></span><br><span class="line">[root@saltminion ~]<span class="comment"># mkdir -p /mnt/&#123;app,data,log,web,ops/&#123;app,data,cron&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">[root@saltminion ~]<span class="comment"># mkdir ~/.pip</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># cat &gt; ~/.pip/pip.conf &lt;&lt;EOF</span></span><br><span class="line">&gt; [global]</span><br><span class="line">&gt; trusted-host=mirrors.aliyun.com</span><br><span class="line">&gt; index-url=http://mirrors.aliyun.com/pypi/simple/</span><br><span class="line">&gt; [list]</span><br><span class="line">&gt; format=columns</span><br><span class="line">&gt; EOF</span><br><span class="line">[root@saltminion ~]<span class="comment"># python -V</span></span><br><span class="line">Python 2.6.6</span><br><span class="line"></span><br><span class="line">[root@saltminion app]<span class="comment"># wget https://www.python.org/ftp/python/2.7.13/Python-2.7.13.tar.xz</span></span><br><span class="line">[root@saltminion app]<span class="comment"># xz -d Python-2.7.13.tar.xz</span></span><br><span class="line">[root@saltminion app]<span class="comment"># tar xf Python-2.7.13.tar</span></span><br><span class="line">[root@saltminion app]<span class="comment"># cd Python-2.7.13</span></span><br><span class="line">[root@saltminion Python-2.7.13]<span class="comment"># ./configure --prefix=/usr/local/python27</span></span><br><span class="line">[root@saltminion Python-2.7.13]<span class="comment"># make</span></span><br><span class="line">[root@saltminion Python-2.7.13]<span class="comment"># make install</span></span><br><span class="line">[root@saltminion Python-2.7.13]<span class="comment"># wget https://bootstrap.pypa.io/get-pip.py</span></span><br><span class="line">[root@saltminion Python-2.7.13]<span class="comment"># echo 'export PYTHON_PATH=/usr/local/python27' |tee /etc/profile.d/python27.sh</span></span><br><span class="line">[root@saltminion Python-2.7.13]<span class="comment"># echo 'export PYTHON_BIN=$PYTHON_PATH/bin' |tee -a /etc/profile.d/python27.sh</span></span><br><span class="line">[root@saltminion Python-2.7.13]<span class="comment"># echo 'export PATH=$PYTHON_BIN:$PATH' |tee -a /etc/profile.d/python27.sh</span></span><br><span class="line">[root@saltminion Python-2.7.13]<span class="comment"># source /etc/profile</span></span><br><span class="line">[root@saltminion Python-2.7.13]<span class="comment"># rm -f /usr/bin/&#123;python,pip&#125;</span></span><br><span class="line">[root@saltminion Python-2.7.13]<span class="comment"># sed -i s/python/python2.6/g /usr/bin/yum</span></span><br><span class="line">[root@saltminion Python-2.7.13]<span class="comment"># python -V</span></span><br><span class="line">Python 2.7.13</span><br><span class="line">[root@saltminion Python-2.7.13]<span class="comment"># pip -V</span></span><br><span class="line">pip 9.0.1 from /usr/<span class="built_in">local</span>/python27/lib/python2.7/site-packages (python 2.7)</span><br></pre></td></tr></table></figure>
</li>
<li><p>salt master/minion install</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">//salt-master</span><br><span class="line">[root@saltserver ~]<span class="comment"># pip install salt</span></span><br><span class="line"></span><br><span class="line">[root@saltserver ~]<span class="comment"># mkdir -p /etc/salt</span></span><br><span class="line">[root@saltserver ~]<span class="comment"># cat &gt; /etc/salt/master &lt;&lt;EOF</span></span><br><span class="line">&gt; interface: 0.0.0.0</span><br><span class="line">&gt; ipv6: False</span><br><span class="line">&gt; publish_port: 4505</span><br><span class="line">&gt; ret_port: 4506</span><br><span class="line">&gt; user: root</span><br><span class="line">&gt; EOF</span><br><span class="line">[root@saltserver ~]<span class="comment"># salt-master -c /etc/salt -d  //启动master</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//salt-minon</span><br><span class="line">[root@saltminion ~]<span class="comment"># pip install salt</span></span><br><span class="line"></span><br><span class="line">[root@saltminion ~]<span class="comment"># mkdir -p /etc/salt</span></span><br><span class="line">[root@saltminion ~]<span class="comment"># cat &gt; /etc/salt/minion &lt;&lt;EOF</span></span><br><span class="line">&gt; master: 192.168.13.188</span><br><span class="line">&gt; master_port: 4506</span><br><span class="line">&gt; user: root</span><br><span class="line">&gt; id: 192.168.13.187</span><br><span class="line">&gt; EOF</span><br><span class="line"></span><br><span class="line">[root@saltminion ~]<span class="comment"># salt-minion -c /etc/salt -d  //启动minion</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>salt master与minion 建立连接</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">//salt-master 查看秘钥</span><br><span class="line">[root@saltserver ~]<span class="comment"># salt-key -L</span></span><br><span class="line">Accepted Keys:</span><br><span class="line">Denied Keys:</span><br><span class="line">Unaccepted Keys:</span><br><span class="line">192.168.13.187</span><br><span class="line">Rejected Keys:</span><br><span class="line"></span><br><span class="line">//salt-master 查看 minion 秘钥信息</span><br><span class="line">[root@saltserver ~]<span class="comment"># salt-key -f 192.168.13.187</span></span><br><span class="line">Unaccepted Keys:</span><br><span class="line">192.168.13.187:  34:6d:95:cf:17:98:<span class="built_in">fc</span>:cf:99:2d:0f:2d:e9:ec:f8:95:ac:00:ba:f7:6c:71:ab:cf:aa:4a:05:7e:8c:04:97:81</span><br><span class="line">//salt-minion 查看 minion 秘钥信息</span><br><span class="line">[root@saltminion ~]<span class="comment"># salt-call --local key.finger</span></span><br><span class="line"><span class="built_in">local</span>:</span><br><span class="line">    34:6d:95:cf:17:98:<span class="built_in">fc</span>:cf:99:2d:0f:2d:e9:ec:f8:95:ac:00:ba:f7:6c:71:ab:cf:aa:4a:05:7e:8c:04:97:81</span><br><span class="line"></span><br><span class="line">//salt-master 接受 minion 秘钥认证</span><br><span class="line">[root@saltserver ~]<span class="comment"># salt-key -a 192.168.13.187</span></span><br><span class="line">The following keys are going to be accepted:</span><br><span class="line">Unaccepted Keys:</span><br><span class="line">192.168.13.187</span><br><span class="line">Proceed? [n/Y] Y</span><br><span class="line">Key <span class="keyword">for</span> minion 192.168.13.187 accepted.</span><br><span class="line"></span><br><span class="line">[root@saltserver ~]<span class="comment"># salt-key -L</span></span><br><span class="line">Accepted Keys:</span><br><span class="line">192.168.13.187</span><br><span class="line">Denied Keys:</span><br><span class="line">Unaccepted Keys:</span><br><span class="line">Rejected Keys:</span><br><span class="line"></span><br><span class="line">//salt-master 自动签发证书</span><br><span class="line">方法一:</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'auto_accept: True'</span> |tee -a /etc/salt/master</span><br><span class="line">方法二:</span><br><span class="line">salt-key -A -y</span><br></pre></td></tr></table></figure>
</li>
<li><p>salt-master测试指令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">//salt-master 给 所有的minion 发送指令</span><br><span class="line">[root@saltserver ~]<span class="comment"># salt '*' test.ping</span></span><br><span class="line">192.168.13.187:</span><br><span class="line">    True</span><br><span class="line"></span><br><span class="line">//salt-master 查找 minion <span class="built_in">test</span> 函数列表</span><br><span class="line">[root@saltserver ~]<span class="comment"># salt '192.168.13.187' sys.list_functions test</span></span><br><span class="line">192.168.13.187:</span><br><span class="line">    - test.arg</span><br><span class="line">    - test.arg_repr</span><br><span class="line">    - test.arg_type</span><br><span class="line">    - test.assertion</span><br><span class="line">    - test.attr_call</span><br><span class="line">    - test.collatz</span><br><span class="line">    - test.conf_test</span><br><span class="line">    - test.cross_test</span><br><span class="line">    - test.echo</span><br><span class="line">    - test.exception</span><br><span class="line">    - test.false</span><br><span class="line">    - test.fib</span><br><span class="line">    - test.get_opts</span><br><span class="line">    - test.kwarg</span><br><span class="line">    - test.module_report</span><br><span class="line">    - test.not_loaded</span><br><span class="line">    - test.opts_pkg</span><br><span class="line">    - test.outputter</span><br><span class="line">    - test.ping</span><br><span class="line">    - test.provider</span><br><span class="line">    - test.providers</span><br><span class="line">    - test.rand_sleep</span><br><span class="line">    - test.rand_str</span><br><span class="line">    - test.retcode</span><br><span class="line">    - test.sleep</span><br><span class="line">    - test.stack</span><br><span class="line">    - test.true</span><br><span class="line">    - test.try_</span><br><span class="line">    - test.tty</span><br><span class="line">    - test.version</span><br><span class="line">    - test.versions</span><br><span class="line">    - test.versions_information</span><br><span class="line">    - test.versions_report</span><br><span class="line"></span><br><span class="line">//salt-master 查找 minion <span class="built_in">test</span> 函数使用方法</span><br><span class="line">[root@saltserver ~]<span class="comment"># salt '192.168.13.187' sys.doc test.echo</span></span><br><span class="line">test.echo:</span><br><span class="line">    Return a string - used <span class="keyword">for</span> testing the connection</span><br><span class="line">    CLI Example:</span><br><span class="line">        salt <span class="string">'*'</span> test.echo <span class="string">'foo bar baz quo qux'</span></span><br><span class="line"></span><br><span class="line">//salt-master 执行 minion <span class="built_in">test</span> 函数</span><br><span class="line">[root@saltserver ~]<span class="comment"># salt '192.168.13.187' test.echo 'Hello WOrld!'</span></span><br><span class="line">192.168.13.187:</span><br><span class="line">    Hello WOrld!</span><br></pre></td></tr></table></figure>
</li>
<li><p>salt 远程执行命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br></pre></td><td class="code"><pre><span class="line">salt [options] &apos;&lt;target&gt;&apos; &lt;function&gt; [arguments]</span><br><span class="line">说明:</span><br><span class="line">* 第一部分,salt命令本身</span><br><span class="line">* 第二部分,命令行选项</span><br><span class="line">* 第三部分,目标定位字符串</span><br><span class="line">* 第四部分,slat模块函数</span><br><span class="line">* 第五部分,远程执行函数参数</span><br><span class="line"></span><br><span class="line">例如:</span><br><span class="line">[root@saltserver ~]# salt --summary &apos;192.168.13.187&apos; cmd.run &apos;uptime&apos;</span><br><span class="line">192.168.13.187:</span><br><span class="line">     14:39:06 up  5:17,  1 user,  load average: 2.00, 1.93, 1.30</span><br><span class="line">-------------------------------------------</span><br><span class="line">Summary</span><br><span class="line">-------------------------------------------</span><br><span class="line"># of minions targeted: 1</span><br><span class="line"># of minions returned: 1</span><br><span class="line"># of minions that did not return: 0</span><br><span class="line"># of minions with errors: 0</span><br><span class="line">-------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//第二部分,命令行选项</span><br><span class="line">* -v,--verbose 描述命令执行后,会发生什么(命令执行过程)</span><br><span class="line">[root@saltserver ~]# salt --verbose &apos;*&apos; cmd.run_all &quot;echo my salt&quot;</span><br><span class="line">Executing job with jid 20170804144256968580</span><br><span class="line">-------------------------------------------</span><br><span class="line">192.168.13.187:</span><br><span class="line">    ----------</span><br><span class="line">    pid:</span><br><span class="line">        26067</span><br><span class="line">    retcode:</span><br><span class="line">        0</span><br><span class="line">    stderr:</span><br><span class="line">    stdout:</span><br><span class="line">        my salt</span><br><span class="line"></span><br><span class="line">* --summary 显示salt命令概要</span><br><span class="line">[root@saltserver ~]# salt --summary &apos;*&apos; cmd.run_all &quot;echo my salt&quot;</span><br><span class="line">192.168.13.187:</span><br><span class="line">    ----------</span><br><span class="line">    pid:</span><br><span class="line">        26073</span><br><span class="line">    retcode:</span><br><span class="line">        0</span><br><span class="line">    stderr:</span><br><span class="line">    stdout:</span><br><span class="line">        my salt</span><br><span class="line">-------------------------------------------</span><br><span class="line">Summary</span><br><span class="line">-------------------------------------------</span><br><span class="line"># of minions targeted: 1</span><br><span class="line"># of minions returned: 1</span><br><span class="line"># of minions that did not return: 0</span><br><span class="line"># of minions with errors: 0</span><br><span class="line">-------------------------------------------</span><br><span class="line"></span><br><span class="line">* --out 控制salt执行后的输出格式</span><br><span class="line">[root@saltserver ~]# salt --out=json &apos;*&apos; cmd.run_all &quot;echo my salt&quot;        </span><br><span class="line">&#123;</span><br><span class="line">    &quot;192.168.13.187&quot;: &#123;</span><br><span class="line">        &quot;pid&quot;: 26079,</span><br><span class="line">        &quot;retcode&quot;: 0,</span><br><span class="line">        &quot;stderr&quot;: &quot;&quot;,</span><br><span class="line">        &quot;stdout&quot;: &quot;my salt&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">[root@saltserver ~]# salt --out=yaml &apos;*&apos; cmd.run_all &quot;echo my salt&quot;    </span><br><span class="line">192.168.13.187:</span><br><span class="line">  pid: 26085</span><br><span class="line">  retcode: 0</span><br><span class="line">  stderr: &apos;&apos;</span><br><span class="line">  stdout: my salt</span><br><span class="line">[root@saltserver ~]# salt --out=raw &apos;*&apos; cmd.run_all &quot;echo my salt&quot;    </span><br><span class="line">&#123;&apos;192.168.13.187&apos;: &#123;&apos;pid&apos;: 26091, &apos;retcode&apos;: 0, &apos;stderr&apos;: &apos;&apos;, &apos;stdout&apos;: &apos;my salt&apos;&#125;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//第三部分,目标定位字符串</span><br><span class="line">* 全局匹配</span><br><span class="line">  *  任意字符,可以是空字符串</span><br><span class="line">  ?  一个字符,不可以是空字符串</span><br><span class="line">  [] 字符集合</span><br><span class="line"></span><br><span class="line">  例如:</span><br><span class="line">  salt &apos;*&apos; test.ping</span><br><span class="line">  salt &apos;192.168.13.*&apos; test.ping</span><br><span class="line">  salt &apos;minion[a-z]&apos; test.ping</span><br><span class="line"></span><br><span class="line">* 正则表达式匹配</span><br><span class="line">  abc  匹配自身abc</span><br><span class="line">  .    匹配任意字符(除换行符)</span><br><span class="line">  \    转义字符</span><br><span class="line">  [..] 字符集,匹配字符集中的任意一个字符</span><br><span class="line">  \d   匹配数字[0-9]</span><br><span class="line">  \D   匹配非数字[^\d]</span><br><span class="line">  \s   匹配空白字符[&lt;空格&gt;\n\t\r\v\f]</span><br><span class="line">  \S   匹配非空字符[^\s]</span><br><span class="line">  \w   匹配单词字符[a-zA-Z0-9]</span><br><span class="line">  \W   匹配非单词字符[^\w]</span><br><span class="line">  *    匹配前一个字符0次或无限次</span><br><span class="line">  +    匹配前一个字符1次或无限次</span><br><span class="line">  ?    匹配前一个字符0次或1次</span><br><span class="line">  &#123;m&#125;  匹配前一个字符m次</span><br><span class="line">  &#123;m,n&#125; 匹配前一个字符m到n次</span><br><span class="line">  ^    匹配字符串开头</span><br><span class="line">  $    匹配字符串结尾</span><br><span class="line">  |    逻辑或</span><br><span class="line">  (..) 表达式分组,作为一个整体</span><br><span class="line">  (?P&lt;name&gt;...) 指定别名</span><br><span class="line">  (?P&lt;name&gt;) 引用别名</span><br><span class="line"></span><br><span class="line">  例如:</span><br><span class="line">  salt -E &apos;minion&apos; test.ping</span><br><span class="line">  salt -E &apos;.*&apos; test.ping</span><br><span class="line">  salt -E &apos;^minion-*&apos; test.ping</span><br><span class="line">  salt -E &apos;*-minion$&apos; test.ping</span><br><span class="line"></span><br><span class="line">* 列表匹配</span><br><span class="line">  salt -L &apos;minion1&apos; test.ping</span><br><span class="line">  salt -L &apos;minion1,minion2,minion3&apos; test.ping</span><br><span class="line"></span><br><span class="line">  配置文件中定义nodegroups:</span><br><span class="line">  /etc/salt/master:</span><br><span class="line">  modegroups:</span><br><span class="line">    minions:</span><br><span class="line">      - minion1</span><br><span class="line">      - minion2</span><br><span class="line">  salt -N minions test.ping</span><br><span class="line"></span><br><span class="line">* grain 和 pillar 匹配</span><br><span class="line">  grain和pillar都是以key/value形式存储的数据库</span><br><span class="line">  grain是由minion返回给master的数据;而pillar是存储在master上的数据</span><br><span class="line">  每个minion可以看到自己的pillar,grain可以看做是主机的元数据(metadata)</span><br><span class="line">  换言之,一个minion可以告诉master自己的grain数据,而minion需要从master索取pillar数据</span><br><span class="line"></span><br><span class="line">  * grains</span><br><span class="line">    grains可以认为是描述minion本身固有属性的静态数据</span><br><span class="line">    例如:</span><br><span class="line">    //检索所有属性</span><br><span class="line">    [root@saltserver ~]# salt --out=yaml &apos;192.168.13.187&apos; grains.items</span><br><span class="line"></span><br><span class="line">    //检索os属性</span><br><span class="line">    [root@saltserver ~]# salt --out=yaml &apos;192.168.13.187&apos; grains.item os</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;192.168.13.187&quot;: &#123;</span><br><span class="line">            &quot;os&quot;: &quot;CentOS&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //通过grain定位主机</span><br><span class="line">    [root@saltserver ~]# salt -G &apos;os:CentOS&apos; test.ping</span><br><span class="line">    192.168.13.187:</span><br><span class="line">      True</span><br><span class="line"></span><br><span class="line">    //自定义grain</span><br><span class="line">    [root@saltserver ~]# salt &apos;192.168.13.187&apos; grains.setval cpu_num 8</span><br><span class="line">    or:</span><br><span class="line">    [root@saltserver ~]# salt &apos;192.168.13.187&apos; grains.setval cpu_info [&apos;Intel&apos;,&apos;Xeon&apos;,&apos;8&apos;]</span><br><span class="line"></span><br><span class="line">    //删除自定义grain</span><br><span class="line">    [root@saltserver ~]# salt &apos;192.168.13.187&apos; grains.delval cpu_info</span><br><span class="line">    注意: 自定义grain一般存储在&quot;/etc/salt/grains&quot;文件中,修改该文件,删除自定义内容,重启salt-minion服务</span><br><span class="line"></span><br><span class="line">  * pillar</span><br><span class="line">    pillars数据类似grains,不同之处在于pillars数据可以定义为更加动态的形式,并且是一个安全的数据库</span><br><span class="line">    例如:</span><br><span class="line">    //列出主机所有pillar数据</span><br><span class="line">    [root@saltserver ~]# salt &apos;192.168.13.187&apos; pillar.items</span><br><span class="line">    192.168.13.187:</span><br><span class="line">      ----------</span><br><span class="line"></span><br><span class="line">    //查看单个数据命令</span><br><span class="line">    [root@saltserver ~]# salt &apos;192.168.13.187&apos; pillar.item role</span><br><span class="line"></span><br><span class="line">    //pillar定位主机</span><br><span class="line">    [root@saltserver ~]# salt -I &apos;role:web&apos; test.ping</span><br><span class="line"></span><br><span class="line">* 复合匹配</span><br><span class="line">  G  G@os:CentOS</span><br><span class="line">  E  E@web\d+\(dev|qa|prod)\.loc</span><br><span class="line">  P  P@os:(redhat|centos|fedora)</span><br><span class="line">  L  L@minion1,minion2,minion3</span><br><span class="line">  I  I@pdata:foobar</span><br><span class="line">  S  S@192.168.1.0/24 or S@192.168.1.100</span><br><span class="line">  R  R@%foo.bar</span><br><span class="line"></span><br><span class="line">  例如:</span><br><span class="line">  salt -C &apos;minion-* and G@os:CentOS not E@.*-two$&apos; test.ping</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//第四部分,slat模块函数 和 第五部分,远程执行函数参数</span><br><span class="line">远程执行模块构成:</span><br><span class="line">远程执行命令的最后一部分是我们需要运行的模块以及相关函数和对应的执行参数</span><br><span class="line">模块可以认为是函数的逻辑分组,一系列的函数组合在一起构成一个模块</span><br><span class="line"></span><br><span class="line">所有的远程执行命令格式都是&quot;&lt;module&gt;.&lt;function&gt;&quot;格式,例如:</span><br><span class="line">[root@saltserver ~]# salt &apos;192.168.13.187&apos; sys.list_modules</span><br><span class="line">[root@saltserver ~]# salt &apos;192.168.13.187&apos; sys.list_functions test</span><br><span class="line">[root@saltserver ~]# salt &apos;192.168.13.187&apos; sys.doc test.sleep</span><br><span class="line"></span><br><span class="line">* 远程命令执行模块</span><br><span class="line">  [root@saltserver ~]# salt &apos;*&apos; cmd.run &apos;ps aux|wc -l&apos;  </span><br><span class="line">  192.168.13.187:</span><br><span class="line">    139</span><br><span class="line">  [root@saltserver ~]# salt &apos;*&apos; cmd.run_all &apos;ps aux|wc -l&apos;</span><br><span class="line">  192.168.13.187:</span><br><span class="line">    ----------</span><br><span class="line">      pid:</span><br><span class="line">          26257</span><br><span class="line">      retcode:</span><br><span class="line">          0</span><br><span class="line">      stderr:</span><br><span class="line">      stdout:</span><br><span class="line">          139</span><br><span class="line"></span><br><span class="line">* 安装包管理</span><br><span class="line">  [root@saltserver ~]# salt &apos;192.168.13.187&apos; pkg.install &quot;httpd&quot;</span><br><span class="line">  192.168.13.187:</span><br><span class="line">    ----------</span><br><span class="line">    apr-util-ldap:</span><br><span class="line">        ----------</span><br><span class="line">        new:</span><br><span class="line">            1.3.9-3.el6_0.1</span><br><span class="line">        old:</span><br><span class="line">    httpd:</span><br><span class="line">        ----------</span><br><span class="line">        new:</span><br><span class="line">            2.2.15-60.el6.centos.4</span><br><span class="line">        old:</span><br><span class="line">    httpd-tools:</span><br><span class="line">        ----------</span><br><span class="line">        new:</span><br><span class="line">            2.2.15-60.el6.centos.4</span><br><span class="line">        old:</span><br><span class="line"></span><br><span class="line">  [root@saltserver ~]# salt &apos;192.168.13.187&apos; pkg.version &quot;httpd&quot;</span><br><span class="line">  192.168.13.187:</span><br><span class="line">    2.2.15-60.el6.centos.4</span><br><span class="line"></span><br><span class="line">  [root@saltserver ~]# salt &apos;192.168.13.187&apos; pkg.remove &quot;httpd&quot;</span><br><span class="line">  192.168.13.187:</span><br><span class="line">      ----------</span><br><span class="line">      httpd:</span><br><span class="line">          ----------</span><br><span class="line">          new:</span><br><span class="line">          old:</span><br><span class="line">              2.2.15-60.el6.centos.4</span><br><span class="line"></span><br><span class="line">* 管理服务模块</span><br><span class="line">  [root@saltserver ~]# salt &apos;192.168.13.187&apos; service.status &quot;httpd&quot;</span><br><span class="line">  192.168.13.187:</span><br><span class="line">      False</span><br><span class="line"></span><br><span class="line">  [root@saltserver ~]# salt &apos;192.168.13.187&apos; service.start &quot;httpd&quot;</span><br><span class="line">  192.168.13.187:</span><br><span class="line">      True</span><br><span class="line"></span><br><span class="line">  [root@saltserver ~]# salt &apos;192.168.13.187&apos; service.stop &quot;httpd&quot;                      </span><br><span class="line">  192.168.13.187:</span><br><span class="line">      True</span><br><span class="line"></span><br><span class="line">* 文件管理模块</span><br><span class="line">  [root@saltserver ~]# salt &apos;192.168.13.187&apos; file.stats &apos;/etc/yum.conf&apos;</span><br><span class="line">  192.168.13.187:</span><br><span class="line">    ----------</span><br><span class="line">    atime:</span><br><span class="line">        1501780111.82</span><br><span class="line">    ctime:</span><br><span class="line">        1499286732.05</span><br><span class="line">    gid:</span><br><span class="line">        0</span><br><span class="line">    group:</span><br><span class="line">        root</span><br><span class="line">    inode:</span><br><span class="line">        1044735</span><br><span class="line">    mode:</span><br><span class="line">        0644</span><br><span class="line">    mtime:</span><br><span class="line">        1361532394.0</span><br><span class="line">    size:</span><br><span class="line">        969</span><br><span class="line">    target:</span><br><span class="line">        /etc/yum.conf</span><br><span class="line">    type:</span><br><span class="line">        file</span><br><span class="line">    uid:</span><br><span class="line">        0</span><br><span class="line">    user:</span><br><span class="line">        root</span><br><span class="line">        .168.13.187:</span><br><span class="line">          None</span><br><span class="line"></span><br><span class="line">  [root@saltserver ~]# salt &apos;192.168.13.187&apos; file.chown /etc/yum.conf root root</span><br><span class="line">  192.168.13.187:</span><br><span class="line">      None</span><br><span class="line"></span><br><span class="line">* 用户管理模块</span><br><span class="line">  slat &apos;*&apos; user.add &lt;name&gt; &lt;uid&gt; &lt;gid&gt; &lt;groups&gt; &lt;home&gt; &lt;shell&gt;</span><br><span class="line">  slat &apos;*&apos; user.delete &lt;name&gt;</span><br><span class="line">  slat &apos;*&apos; user.info &lt;name&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.smallasa.com/2017/08/04/salt-install-standard/" data-id="cjavy9k65009x0coq3nczfivd" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/08/04/salt-install-HA/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          salt install HA
        
      </div>
    </a>
  
  
    <a href="/2017/08/03/linux-设置-包含头文件路径-和-动态库链接路径/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">linux 设置 包含头文件路径 和 动态库链接路径</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AliCloud/">AliCloud</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/AliCloud/SDK/">SDK</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/AliCloud/SDK/Python-SDK/">Python SDK</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Android-install/">Android install</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/Android-install/Android-studio-install/">Android studio install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/">Development</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/">Doc</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/HTTP-严格传输安全HSTS/">HTTP 严格传输安全HSTS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/HTTP协议/">HTTP协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/TCP-协议详解/">TCP 协议详解</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/TCP与socket区别/">TCP与socket区别</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/linux-文件描述符与打开文件之间的关系/">linux 文件描述符与打开文件之间的关系</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/linux-文件系统inode/">linux 文件系统inode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Development/Doc/一次完整的HTTP请求/">一次完整的HTTP请求</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Disk/">Disk</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Disk/disk-io-performance/">disk io performance</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Disk/disk-iostat/">disk iostat</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/">Distributed storage</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/">GlusterFS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-architecture/">GlusterFS architecture</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-info/">GlusterFS info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-install/">GlusterFS install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-storage/GlusterFS/GlusterFS-workflow/">GlusterFS workflow</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HA/">HA</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HA/DRBD/">DRBD</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HA/DRBD/DRBD-install/">DRBD install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/HA/keepalived/">keepalived</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/HA/keepalived/keepalived-install/">keepalived install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/">IDE</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/Intellij/">Intellij</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/Intellij/Intellij-setting/">Intellij setting</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/vim/">vim</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/vim/vim-shortcut-key/">vim shortcut key</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDE/vim/vim-vimrc/">vim vimrc</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel/">Kernel</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel/kernel-memory/">kernel memory</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Kernel/kernel-memory/kernel-共享内存/">kernel 共享内存</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/">Monitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/ganglia/">ganglia</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/ganglia/ganglia-install/">ganglia install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/hmonitor/">hmonitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/hmonitor/hmonitor-install/">hmonitor install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/htmonitor/">htmonitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/htmonitor/htmonitor-install/">htmonitor install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/smokeping/">smokeping</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/smokeping/smokeping-install/">smokeping install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/">zabbix</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/monitor/">monitor</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/monitor/zabbix-monitor-cpu/">zabbix monitor cpu</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/monitor/zabbix-monitor-mem/">zabbix monitor mem</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-auto-discover/">zabbix auto discover</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-grafana-install/">zabbix grafana install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-install/">zabbix install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-install-distributed/">zabbix install distributed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-item-and-tigger/">zabbix item and tigger</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-java-gateway/">zabbix java gateway</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-modify-login-user-passwd/">zabbix modify login user passwd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-optimization/">zabbix optimization</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-proxy-install/">zabbix proxy install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-server-support-chinese/">zabbix server support chinese</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/zabbix/zabbix-windows-agent/">zabbix windows agent</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/树莓派/">树莓派</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/树莓派/树莓派-GSM-语音短信报警/">树莓派 GSM 语音短信报警</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/监控/">监控</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Monitor/监控/监控知识体系/">监控知识体系</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/">Python Framework</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/Python-Django/">Python Django</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/Python-Django-setting/">Python Django setting</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Framework/Python-tornado-install/">Python tornado install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/">Python Learn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-上下文管理器/">python 上下文管理器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-内存管理/">python 内存管理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-函数编程/">python 函数编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-变量/">python 变量</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-对象使用/">python 对象使用</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-对象的属性/">python 对象的属性</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-对象编程/">python 对象编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-数据类型/">python 数据类型</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-流程控制/">python 流程控制</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-爬虫/">python 爬虫</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-特殊方法/">python 特殊方法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-特殊说明/">python 特殊说明</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-装饰器/">python 装饰器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-过程编程/">python 过程编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-进阶/">python 进阶</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-Learn/python-闭包/">python 闭包</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/">Python install</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-error-info/">python error info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-pip-source-image/">python pip source image</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-pip-use/">python pip use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-pyenv-install/">python pyenv install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-setup-py/">python setup.py</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-source-install/">python source install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-install/python-virtualenv/">python virtualenv</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/">Python library</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/MySQLdb/">MySQLdb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/memory-profiler/">memory_profiler</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-library/time-datetime-calendar/">time datetime calendar</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-modules/">Python modules</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-modules/python-modules-path/">python modules path</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-modules/python-modules-pylint-and-ipython/">python modules pylint and ipython</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-other/">Python other</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/Python-other/python-import-and-reload/">python import and reload</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/">Ruby</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/Ruby-install/">Ruby install</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/Ruby-install/Ruby-install/">Ruby install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/">TCP.IP</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/TCP-状态/">TCP 状态</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/TCP-IP模型/">TCP/IP模型</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/TCP-IP/Wireshark-use/">Wireshark use</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/WeChat/">WeChat</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/WeChat/WeChat-enterprise/">WeChat enterprise</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/WeChat/WeChat-enterprise/WeChat-enterprise-API/">WeChat enterprise API</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/">automation</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/">git</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-command/">git command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-error/">git error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gitlab/">git gitlab</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gitolite/">git gitolite</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gogs/">git gogs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-gogs-source-install/">git gogs source install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-init/">git init</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/git/git-workflow/">git workflow</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/jenkins/">jenkins</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/jenkins/jenkins-info/">jenkins info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/jenkins/jenkins-install/">jenkins install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/kvm/">kvm</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/kvm/kvm-install/">kvm install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/maven/">maven</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/maven/maven-install/">maven install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/nexus/">nexus</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/nexus/nexus-install/">nexus install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/nexus/nexus-proxy-maven/">nexus proxy maven</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/rpm/">rpm</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/rpm/rpm-package-build/">rpm package build</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/rpm/rpmbuild-spec/">rpmbuild spec</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/">salt</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-advanced-topic/">salt advanced topic</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-highstate/">salt highstate</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-info/">salt info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install/">salt install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install-HA/">salt install HA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install-distributed/">salt install distributed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-install-standard/">salt install standard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-jinja2-grain-pillar-module/">salt jinja2 grain pillar module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-event-reactor/">salt manage event reactor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-grains/">salt manage grains</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-job/">salt manage job</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-module/">salt manage module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-pillar/">salt manage pillar</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-return/">salt manage return</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-states/">salt manage states</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-manage-target/">salt manage target</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-master-syndic-install/">salt master syndic install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-master-conf/">salt master.conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-minion-conf/">salt minion.conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-raet/">salt raet</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-state-module/">salt state module</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-syndic-conf/">salt syndic.conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/salt/salt-write-module-code/">salt write module code</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/svn/">svn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/svn/svn-auto-update/">svn auto update</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/automation/yum/">yum</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/automation/yum/yum-server-install/">yum server install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/">database</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/">Mongo</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-auth/">mongo auth</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-error/">mongo error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-replication-auth-install/">mongo replication auth install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-replication-standard-install/">mongo replication standard install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mongo/mongo-standard-install/">mongo standard install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/">Mysql</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-command/">mysql command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-error-info/">mysql error info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-explain/">mysql explain</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-grant/">mysql grant</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-index-options/">mysql index options</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-innodb-buffer-pool-flush/">mysql innodb buffer pool flush</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-master-slave/">mysql master slave</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-master-slave-switch/">mysql master slave switch</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-partition/">mysql partition</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-select-join/">mysql select join</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-slow-log/">mysql slow log</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-standard/">mysql standard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-table-size/">mysql table size</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Mysql/mysql-use-memory-as-disk/">mysql use memory as disk</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/">Postgresql</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-book-use/">postgresql book use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-master-slave-info/">postgresql master slave info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-master-slave/">postgresql master/slave</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-plugin-install/">postgresql plugin install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-standard/">postgresql standard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-tablespace-database-schema-table-user-role-relation/">postgresql tablespace database schema table user role relation</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-yum-install/">postgresql yum install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-常用命令/">postgresql 常用命令</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-数据库对象/">postgresql 数据库对象</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Postgresql/postgresql-数据库管理/">postgresql 数据库管理</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/">Redis</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-error/">redis error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-install/">redis install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-redis-trib-rb/">redis redis-trib.rb</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-status/">redis status</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/Redis/redis-use/">redis use</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/influxDB/">influxDB</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/database/influxDB/influxDB-install/">influxDB install</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/golang/">golang</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/golang/go-env/">go env</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/">hadoop</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/">RabbitMQ</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-cluster/">RabbitMQ cluster</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-high-availability/">RabbitMQ high availability</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-info/">RabbitMQ info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-install/">RabbitMQ install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-python-pika/">RabbitMQ python pika</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-user-and-grant/">RabbitMQ user and grant</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/RabbitMQ/RabbitMQ-working-principle/">RabbitMQ working principle</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/beats/">beats</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/beats/beats-install/">beats install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/">datax</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/datax-info/">datax info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/datax-install/">datax install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/datax/datax-job/">datax job</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/">elasticsearch</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-backup-and-restore/">elasticsearch backup and restore</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-command/">elasticsearch command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-core-component/">elasticsearch core component</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-exploring-your-cluster/">elasticsearch exploring your cluster</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-exploring-your-data/">elasticsearch exploring your data</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-four-search-type/">elasticsearch four search type</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-full-cluster-restart-upgrade/">elasticsearch full cluster restart upgrade</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-install/">elasticsearch install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-modifying-your-data/">elasticsearch modifying your data</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-rolling-upgrades/">elasticsearch rolling upgrades</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-safe-restart/">elasticsearch safe restart</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/elasticsearch-shard/">elasticsearch shard</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/how-to-tune-for-indexing-speed/">how to tune for indexing speed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/elasticsearch/how-to-tune-for-search-speed/">how to tune for search speed</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/flume/">flume</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/flume/flume-info/">flume info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/flume/flume-install/">flume install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/grafana/">grafana</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/grafana/grafana-install/">grafana install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/hadoop/">hadoop</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/hadoop/hadoop-简介/">hadoop 简介</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/">kafka</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-add-topic-partition/">kafka add topic partition</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-add-topic-replicats/">kafka add topic replicats</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-broker-config/">kafka broker config</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-high-throughput/">kafka high throughput</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-info/">kafka info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-install/">kafka install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-manage-web/">kafka manage web</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-migrate-and-scale/">kafka migrate and scale</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-offset-monitor/">kafka offset monitor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-optimize/">kafka optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-use/">kafka use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-web-console/">kafka web console</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kafka/kafka-with-zookeeper/">kafka with zookeeper</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kibana/">kibana</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/kibana/kibana-install/">kibana install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/">logstash</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-config-file/">logstash config file</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-filter-grok/">logstash filter grok</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-info/">logstash info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/logstash/logstash-install/">logstash install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mycat/">mycat</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mycat/mycat-jvm-optimize/">mycat jvm optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mycat/mycat-web-install/">mycat web install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/">nsq</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/nsq-command/">nsq command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/nsq-info/">nsq info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/nsq/nsq-install/">nsq install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/">zookeeper</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-install/">zookeeper install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-monitor/">zookeeper monitor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-optimize/">zookeeper optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-use/">zookeeper use</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/zookeeper/zookeeper-zab-protocol/">zookeeper zab protocol</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-env/">java env</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-jvm-optimize/">java jvm optimize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-jvm-opts/">java jvm opts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-jvm-原理/">java jvm 原理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-learn/">java learn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-learn/java-学习笔记/">java 学习笔记</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-log4j/">java log4j</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-performance-analysis/">java performance analysis</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java-performance-analysis/jps/">jps</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/">k8s</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/k8s-dashboard-install/">k8s dashboard install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/k8s-install/">k8s install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/k8s/k8s-registry-install/">k8s registry install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/node/">node</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/node/node-install/">node install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/other/ACID/">ACID</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/分布式二阶段和三阶段提交协议/">分布式二阶段和三阶段提交协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/开源许可协议/">开源许可协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/网络带宽/">网络带宽</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/">system service</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/">Atlassian</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-https/">confluence https</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-install/">confluence install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-reset-passwd/">confluence reset passwd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/confluence-update/">confluence update</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/jira-https/">jira https</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/jira-install/">jira install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/jira-update/">jira update</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Atlassian/mariadb-install/">mariadb install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/">CentOS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/Base-env/">Base env</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-common-use-scripts/">linux common use scripts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-history-info-setting/">linux history info setting</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-login-info/">linux login info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-nginx-install/">linux nginx install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-skill/">linux skill</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-system-init/">linux system init</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-内存插槽-内存信息/">linux 内存插槽 内存信息</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-扩容swap分区/">linux 扩容swap分区</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-物理CPU-CPU核数-逻辑CPU/">linux 物理CPU CPU核数 逻辑CPU</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-磁盘系统block区别/">linux 磁盘系统block区别</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/linux-设置-包含头文件路径-和-动态库链接路径/">linux 设置 包含头文件路径 和 动态库链接路径</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/CentOS/make提高源码编译速度/">make提高源码编译速度</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/NFS/">NFS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/NFS/nfs-exports-command/">nfs exports command</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/NFS/nfs-install/">nfs install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Samba/">Samba</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Samba/samba-conf/">samba conf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/Samba/samba-install/">samba install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/">command</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/grep/">grep</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/pigz/">pigz</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/sed/">sed</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/split/">split</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/command/tr/">tr</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/haproxy/">haproxy</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/haproxy/haproxy-install/">haproxy install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/">nginx</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-install/">nginx install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-location/">nginx location</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-rewrite/">nginx rewrite</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/nginx/nginx-status/">nginx status</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/ntpd/">ntpd</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/ntpd/ntpd-install/">ntpd install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openssl/">openssl</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openssl/openssl-certificate/">openssl certificate</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openvpn/">openvpn</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/openvpn/openvpn-install/">openvpn install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/rsync/">rsync</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/rsync/rsync-install/">rsync install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/supersord/">supersord</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/supersord/supersord-install/">supersord install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/">vsftpd</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/ftp-proxy/">ftp proxy</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/vsftpd-error/">vsftpd error</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/vsftpd-info/">vsftpd info</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/vsftpd/vsftpd-install/">vsftpd install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/">windows</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/cygwin-install/">cygwin install</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/ipsec-set/">ipsec set</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/system-service/windows/windows-modify-hosts/">windows modify hosts</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/SSL/">SSL</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/SSL/SSL-certificate/">SSL certificate</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/angular/">angular</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/angular/angular-install/">angular install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/hexo/">hexo</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/hexo/hexo-install/">hexo install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/sass/">sass</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/sass/sass-install/">sass install</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/xml/">xml</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/web/xml/xml-format/">xml format</a></li></ul></li></ul></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/01/01/hello-everyone/">Hello Everyone</a>
          </li>
        
          <li>
            <a href="/2017/11/28/kafka-web-console/">kafka web console</a>
          </li>
        
          <li>
            <a href="/2017/11/27/svn-auto-update/">svn auto update</a>
          </li>
        
          <li>
            <a href="/2017/11/15/salt-manage-event-reactor/">salt manage event reactor</a>
          </li>
        
          <li>
            <a href="/2017/11/15/salt-manage-job/">salt manage job</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 penn<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>